var k0=Object.defineProperty;var S0=(t,e,n)=>e in t?k0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var A=(t,e,n)=>S0(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();var ft=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function j0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function C0(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var i=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(n,s,i.get?i:{enumerable:!0,get:function(){return t[s]}})}),n}var Wf={exports:{}},ua={},qf={exports:{}},U={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _r=Symbol.for("react.element"),E0=Symbol.for("react.portal"),P0=Symbol.for("react.fragment"),N0=Symbol.for("react.strict_mode"),M0=Symbol.for("react.profiler"),T0=Symbol.for("react.provider"),O0=Symbol.for("react.context"),A0=Symbol.for("react.forward_ref"),R0=Symbol.for("react.suspense"),D0=Symbol.for("react.memo"),L0=Symbol.for("react.lazy"),nd=Symbol.iterator;function I0(t){return t===null||typeof t!="object"?null:(t=nd&&t[nd]||t["@@iterator"],typeof t=="function"?t:null)}var Gf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Kf=Object.assign,Yf={};function Ys(t,e,n){this.props=t,this.context=e,this.refs=Yf,this.updater=n||Gf}Ys.prototype.isReactComponent={};Ys.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ys.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Xf(){}Xf.prototype=Ys.prototype;function Lc(t,e,n){this.props=t,this.context=e,this.refs=Yf,this.updater=n||Gf}var Ic=Lc.prototype=new Xf;Ic.constructor=Lc;Kf(Ic,Ys.prototype);Ic.isPureReactComponent=!0;var sd=Array.isArray,Qf=Object.prototype.hasOwnProperty,zc={current:null},Jf={key:!0,ref:!0,__self:!0,__source:!0};function Zf(t,e,n){var s,i={},r=null,o=null;if(e!=null)for(s in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(r=""+e.key),e)Qf.call(e,s)&&!Jf.hasOwnProperty(s)&&(i[s]=e[s]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(s in a=t.defaultProps,a)i[s]===void 0&&(i[s]=a[s]);return{$$typeof:_r,type:t,key:r,ref:o,props:i,_owner:zc.current}}function z0(t,e){return{$$typeof:_r,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Fc(t){return typeof t=="object"&&t!==null&&t.$$typeof===_r}function F0(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var id=/\/+/g;function za(t,e){return typeof t=="object"&&t!==null&&t.key!=null?F0(""+t.key):e.toString(36)}function fo(t,e,n,s,i){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(r){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case _r:case E0:o=!0}}if(o)return o=t,i=i(o),t=s===""?"."+za(o,0):s,sd(i)?(n="",t!=null&&(n=t.replace(id,"$&/")+"/"),fo(i,e,n,"",function(c){return c})):i!=null&&(Fc(i)&&(i=z0(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(id,"$&/")+"/")+t)),e.push(i)),1;if(o=0,s=s===""?".":s+":",sd(t))for(var a=0;a<t.length;a++){r=t[a];var l=s+za(r,a);o+=fo(r,e,n,l,i)}else if(l=I0(t),typeof l=="function")for(t=l.call(t),a=0;!(r=t.next()).done;)r=r.value,l=s+za(r,a++),o+=fo(r,e,n,l,i);else if(r==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Tr(t,e,n){if(t==null)return t;var s=[],i=0;return fo(t,s,"","",function(r){return e.call(n,r,i++)}),s}function $0(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ue={current:null},po={transition:null},B0={ReactCurrentDispatcher:Ue,ReactCurrentBatchConfig:po,ReactCurrentOwner:zc};function ep(){throw Error("act(...) is not supported in production builds of React.")}U.Children={map:Tr,forEach:function(t,e,n){Tr(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Tr(t,function(){e++}),e},toArray:function(t){return Tr(t,function(e){return e})||[]},only:function(t){if(!Fc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};U.Component=Ys;U.Fragment=P0;U.Profiler=M0;U.PureComponent=Lc;U.StrictMode=N0;U.Suspense=R0;U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B0;U.act=ep;U.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=Kf({},t.props),i=t.key,r=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(r=e.ref,o=zc.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Qf.call(e,l)&&!Jf.hasOwnProperty(l)&&(s[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];s.children=a}return{$$typeof:_r,type:t.type,key:i,ref:r,props:s,_owner:o}};U.createContext=function(t){return t={$$typeof:O0,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:T0,_context:t},t.Consumer=t};U.createElement=Zf;U.createFactory=function(t){var e=Zf.bind(null,t);return e.type=t,e};U.createRef=function(){return{current:null}};U.forwardRef=function(t){return{$$typeof:A0,render:t}};U.isValidElement=Fc;U.lazy=function(t){return{$$typeof:L0,_payload:{_status:-1,_result:t},_init:$0}};U.memo=function(t,e){return{$$typeof:D0,type:t,compare:e===void 0?null:e}};U.startTransition=function(t){var e=po.transition;po.transition={};try{t()}finally{po.transition=e}};U.unstable_act=ep;U.useCallback=function(t,e){return Ue.current.useCallback(t,e)};U.useContext=function(t){return Ue.current.useContext(t)};U.useDebugValue=function(){};U.useDeferredValue=function(t){return Ue.current.useDeferredValue(t)};U.useEffect=function(t,e){return Ue.current.useEffect(t,e)};U.useId=function(){return Ue.current.useId()};U.useImperativeHandle=function(t,e,n){return Ue.current.useImperativeHandle(t,e,n)};U.useInsertionEffect=function(t,e){return Ue.current.useInsertionEffect(t,e)};U.useLayoutEffect=function(t,e){return Ue.current.useLayoutEffect(t,e)};U.useMemo=function(t,e){return Ue.current.useMemo(t,e)};U.useReducer=function(t,e,n){return Ue.current.useReducer(t,e,n)};U.useRef=function(t){return Ue.current.useRef(t)};U.useState=function(t){return Ue.current.useState(t)};U.useSyncExternalStore=function(t,e,n){return Ue.current.useSyncExternalStore(t,e,n)};U.useTransition=function(){return Ue.current.useTransition()};U.version="18.3.1";qf.exports=U;var O=qf.exports;const Mo=j0(O);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U0=O,H0=Symbol.for("react.element"),V0=Symbol.for("react.fragment"),W0=Object.prototype.hasOwnProperty,q0=U0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,G0={key:!0,ref:!0,__self:!0,__source:!0};function tp(t,e,n){var s,i={},r=null,o=null;n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),e.ref!==void 0&&(o=e.ref);for(s in e)W0.call(e,s)&&!G0.hasOwnProperty(s)&&(i[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)i[s]===void 0&&(i[s]=e[s]);return{$$typeof:H0,type:t,key:r,ref:o,props:i,_owner:q0.current}}ua.Fragment=V0;ua.jsx=tp;ua.jsxs=tp;Wf.exports=ua;var u=Wf.exports,np={exports:{}},rt={},sp={exports:{}},ip={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(E,L){var z=E.length;E.push(L);e:for(;0<z;){var J=z-1>>>1,Y=E[J];if(0<i(Y,L))E[J]=L,E[z]=Y,z=J;else break e}}function n(E){return E.length===0?null:E[0]}function s(E){if(E.length===0)return null;var L=E[0],z=E.pop();if(z!==L){E[0]=z;e:for(var J=0,Y=E.length,R=Y>>>1;J<R;){var I=2*(J+1)-1,P=E[I],G=I+1,Et=E[G];if(0>i(P,z))G<Y&&0>i(Et,P)?(E[J]=Et,E[G]=z,J=G):(E[J]=P,E[I]=z,J=I);else if(G<Y&&0>i(Et,z))E[J]=Et,E[G]=z,J=G;else break e}}return L}function i(E,L){var z=E.sortIndex-L.sortIndex;return z!==0?z:E.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,f=3,p=!1,y=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(E){for(var L=n(c);L!==null;){if(L.callback===null)s(c);else if(L.startTime<=E)s(c),L.sortIndex=L.expirationTime,e(l,L);else break;L=n(c)}}function _(E){if(x=!1,v(E),!y)if(n(l)!==null)y=!0,K(w);else{var L=n(c);L!==null&&Z(_,L.startTime-E)}}function w(E,L){y=!1,x&&(x=!1,m(j),j=-1),p=!0;var z=f;try{for(v(L),h=n(l);h!==null&&(!(h.expirationTime>L)||E&&!D());){var J=h.callback;if(typeof J=="function"){h.callback=null,f=h.priorityLevel;var Y=J(h.expirationTime<=L);L=t.unstable_now(),typeof Y=="function"?h.callback=Y:h===n(l)&&s(l),v(L)}else s(l);h=n(l)}if(h!==null)var R=!0;else{var I=n(c);I!==null&&Z(_,I.startTime-L),R=!1}return R}finally{h=null,f=z,p=!1}}var S=!1,k=null,j=-1,M=5,N=-1;function D(){return!(t.unstable_now()-N<M)}function F(){if(k!==null){var E=t.unstable_now();N=E;var L=!0;try{L=k(!0,E)}finally{L?se():(S=!1,k=null)}}else S=!1}var se;if(typeof g=="function")se=function(){g(F)};else if(typeof MessageChannel<"u"){var je=new MessageChannel,q=je.port2;je.port1.onmessage=F,se=function(){q.postMessage(null)}}else se=function(){b(F,0)};function K(E){k=E,S||(S=!0,se())}function Z(E,L){j=b(function(){E(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(E){E.callback=null},t.unstable_continueExecution=function(){y||p||(y=!0,K(w))},t.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<E?Math.floor(1e3/E):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(E){switch(f){case 1:case 2:case 3:var L=3;break;default:L=f}var z=f;f=L;try{return E()}finally{f=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(E,L){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var z=f;f=E;try{return L()}finally{f=z}},t.unstable_scheduleCallback=function(E,L,z){var J=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?J+z:J):z=J,E){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=z+Y,E={id:d++,callback:L,priorityLevel:E,startTime:z,expirationTime:Y,sortIndex:-1},z>J?(E.sortIndex=z,e(c,E),n(l)===null&&E===n(c)&&(x?(m(j),j=-1):x=!0,Z(_,z-J))):(E.sortIndex=Y,e(l,E),y||p||(y=!0,K(w))),E},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(E){var L=f;return function(){var z=f;f=L;try{return E.apply(this,arguments)}finally{f=z}}}})(ip);sp.exports=ip;var K0=sp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y0=O,it=K0;function C(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rp=new Set,qi={};function rs(t,e){zs(t,e),zs(t+"Capture",e)}function zs(t,e){for(qi[t]=e,t=0;t<e.length;t++)rp.add(e[t])}var Yt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),El=Object.prototype.hasOwnProperty,X0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rd={},od={};function Q0(t){return El.call(od,t)?!0:El.call(rd,t)?!1:X0.test(t)?od[t]=!0:(rd[t]=!0,!1)}function J0(t,e,n,s){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Z0(t,e,n,s){if(e===null||typeof e>"u"||J0(t,e,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function He(t,e,n,s,i,r,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=r,this.removeEmptyString=o}var Te={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Te[t]=new He(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Te[e]=new He(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Te[t]=new He(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Te[t]=new He(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Te[t]=new He(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Te[t]=new He(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Te[t]=new He(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Te[t]=new He(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Te[t]=new He(t,5,!1,t.toLowerCase(),null,!1,!1)});var $c=/[\-:]([a-z])/g;function Bc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace($c,Bc);Te[e]=new He(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace($c,Bc);Te[e]=new He(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace($c,Bc);Te[e]=new He(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Te[t]=new He(t,1,!1,t.toLowerCase(),null,!1,!1)});Te.xlinkHref=new He("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Te[t]=new He(t,1,!1,t.toLowerCase(),null,!0,!0)});function Uc(t,e,n,s){var i=Te.hasOwnProperty(e)?Te[e]:null;(i!==null?i.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Z0(e,n,i,s)&&(n=null),s||i===null?Q0(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,s=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,s?t.setAttributeNS(s,e,n):t.setAttribute(e,n))))}var Zt=Y0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Or=Symbol.for("react.element"),gs=Symbol.for("react.portal"),ys=Symbol.for("react.fragment"),Hc=Symbol.for("react.strict_mode"),Pl=Symbol.for("react.profiler"),op=Symbol.for("react.provider"),ap=Symbol.for("react.context"),Vc=Symbol.for("react.forward_ref"),Nl=Symbol.for("react.suspense"),Ml=Symbol.for("react.suspense_list"),Wc=Symbol.for("react.memo"),an=Symbol.for("react.lazy"),lp=Symbol.for("react.offscreen"),ad=Symbol.iterator;function si(t){return t===null||typeof t!="object"?null:(t=ad&&t[ad]||t["@@iterator"],typeof t=="function"?t:null)}var fe=Object.assign,Fa;function xi(t){if(Fa===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Fa=e&&e[1]||""}return`
`+Fa+t}var $a=!1;function Ba(t,e){if(!t||$a)return"";$a=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var s=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){s=c}t.call(e.prototype)}else{try{throw Error()}catch(c){s=c}t()}}catch(c){if(c&&s&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),r=s.stack.split(`
`),o=i.length-1,a=r.length-1;1<=o&&0<=a&&i[o]!==r[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==r[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==r[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{$a=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?xi(t):""}function ey(t){switch(t.tag){case 5:return xi(t.type);case 16:return xi("Lazy");case 13:return xi("Suspense");case 19:return xi("SuspenseList");case 0:case 2:case 15:return t=Ba(t.type,!1),t;case 11:return t=Ba(t.type.render,!1),t;case 1:return t=Ba(t.type,!0),t;default:return""}}function Tl(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ys:return"Fragment";case gs:return"Portal";case Pl:return"Profiler";case Hc:return"StrictMode";case Nl:return"Suspense";case Ml:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ap:return(t.displayName||"Context")+".Consumer";case op:return(t._context.displayName||"Context")+".Provider";case Vc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Wc:return e=t.displayName||null,e!==null?e:Tl(t.type)||"Memo";case an:e=t._payload,t=t._init;try{return Tl(t(e))}catch{}}return null}function ty(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Tl(e);case 8:return e===Hc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function En(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cp(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ny(t){var e=cp(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,r=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){s=""+o,r.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ar(t){t._valueTracker||(t._valueTracker=ny(t))}function up(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=cp(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function To(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ol(t,e){var n=e.checked;return fe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ld(t,e){var n=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;n=En(e.value!=null?e.value:n),t._wrapperState={initialChecked:s,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function dp(t,e){e=e.checked,e!=null&&Uc(t,"checked",e,!1)}function Al(t,e){dp(t,e);var n=En(e.value),s=e.type;if(n!=null)s==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(s==="submit"||s==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Rl(t,e.type,n):e.hasOwnProperty("defaultValue")&&Rl(t,e.type,En(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function cd(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Rl(t,e,n){(e!=="number"||To(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var vi=Array.isArray;function Ns(t,e,n,s){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&s&&(t[n].defaultSelected=!0)}else{for(n=""+En(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,s&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Dl(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(C(91));return fe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ud(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(C(92));if(vi(n)){if(1<n.length)throw Error(C(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:En(n)}}function hp(t,e){var n=En(e.value),s=En(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),s!=null&&(t.defaultValue=""+s)}function dd(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function fp(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ll(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?fp(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Rr,pp=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,s,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,s,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Rr=Rr||document.createElement("div"),Rr.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Rr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Gi(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Pi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sy=["Webkit","ms","Moz","O"];Object.keys(Pi).forEach(function(t){sy.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Pi[e]=Pi[t]})});function mp(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Pi.hasOwnProperty(t)&&Pi[t]?(""+e).trim():e+"px"}function gp(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var s=n.indexOf("--")===0,i=mp(n,e[n],s);n==="float"&&(n="cssFloat"),s?t.setProperty(n,i):t[n]=i}}var iy=fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Il(t,e){if(e){if(iy[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(C(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(C(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(C(61))}if(e.style!=null&&typeof e.style!="object")throw Error(C(62))}}function zl(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fl=null;function qc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $l=null,Ms=null,Ts=null;function hd(t){if(t=Sr(t)){if(typeof $l!="function")throw Error(C(280));var e=t.stateNode;e&&(e=ma(e),$l(t.stateNode,t.type,e))}}function yp(t){Ms?Ts?Ts.push(t):Ts=[t]:Ms=t}function xp(){if(Ms){var t=Ms,e=Ts;if(Ts=Ms=null,hd(t),e)for(t=0;t<e.length;t++)hd(e[t])}}function vp(t,e){return t(e)}function bp(){}var Ua=!1;function _p(t,e,n){if(Ua)return t(e,n);Ua=!0;try{return vp(t,e,n)}finally{Ua=!1,(Ms!==null||Ts!==null)&&(bp(),xp())}}function Ki(t,e){var n=t.stateNode;if(n===null)return null;var s=ma(n);if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(C(231,e,typeof n));return n}var Bl=!1;if(Yt)try{var ii={};Object.defineProperty(ii,"passive",{get:function(){Bl=!0}}),window.addEventListener("test",ii,ii),window.removeEventListener("test",ii,ii)}catch{Bl=!1}function ry(t,e,n,s,i,r,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Ni=!1,Oo=null,Ao=!1,Ul=null,oy={onError:function(t){Ni=!0,Oo=t}};function ay(t,e,n,s,i,r,o,a,l){Ni=!1,Oo=null,ry.apply(oy,arguments)}function ly(t,e,n,s,i,r,o,a,l){if(ay.apply(this,arguments),Ni){if(Ni){var c=Oo;Ni=!1,Oo=null}else throw Error(C(198));Ao||(Ao=!0,Ul=c)}}function os(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function wp(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function fd(t){if(os(t)!==t)throw Error(C(188))}function cy(t){var e=t.alternate;if(!e){if(e=os(t),e===null)throw Error(C(188));return e!==t?null:t}for(var n=t,s=e;;){var i=n.return;if(i===null)break;var r=i.alternate;if(r===null){if(s=i.return,s!==null){n=s;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===n)return fd(i),t;if(r===s)return fd(i),e;r=r.sibling}throw Error(C(188))}if(n.return!==s.return)n=i,s=r;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,s=r;break}if(a===s){o=!0,s=i,n=r;break}a=a.sibling}if(!o){for(a=r.child;a;){if(a===n){o=!0,n=r,s=i;break}if(a===s){o=!0,s=r,n=i;break}a=a.sibling}if(!o)throw Error(C(189))}}if(n.alternate!==s)throw Error(C(190))}if(n.tag!==3)throw Error(C(188));return n.stateNode.current===n?t:e}function kp(t){return t=cy(t),t!==null?Sp(t):null}function Sp(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Sp(t);if(e!==null)return e;t=t.sibling}return null}var jp=it.unstable_scheduleCallback,pd=it.unstable_cancelCallback,uy=it.unstable_shouldYield,dy=it.unstable_requestPaint,ye=it.unstable_now,hy=it.unstable_getCurrentPriorityLevel,Gc=it.unstable_ImmediatePriority,Cp=it.unstable_UserBlockingPriority,Ro=it.unstable_NormalPriority,fy=it.unstable_LowPriority,Ep=it.unstable_IdlePriority,da=null,Dt=null;function py(t){if(Dt&&typeof Dt.onCommitFiberRoot=="function")try{Dt.onCommitFiberRoot(da,t,void 0,(t.current.flags&128)===128)}catch{}}var kt=Math.clz32?Math.clz32:yy,my=Math.log,gy=Math.LN2;function yy(t){return t>>>=0,t===0?32:31-(my(t)/gy|0)|0}var Dr=64,Lr=4194304;function bi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Do(t,e){var n=t.pendingLanes;if(n===0)return 0;var s=0,i=t.suspendedLanes,r=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?s=bi(a):(r&=o,r!==0&&(s=bi(r)))}else o=n&~i,o!==0?s=bi(o):r!==0&&(s=bi(r));if(s===0)return 0;if(e!==0&&e!==s&&!(e&i)&&(i=s&-s,r=e&-e,i>=r||i===16&&(r&4194240)!==0))return e;if(s&4&&(s|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=s;0<e;)n=31-kt(e),i=1<<n,s|=t[n],e&=~i;return s}function xy(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vy(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,i=t.expirationTimes,r=t.pendingLanes;0<r;){var o=31-kt(r),a=1<<o,l=i[o];l===-1?(!(a&n)||a&s)&&(i[o]=xy(a,e)):l<=e&&(t.expiredLanes|=a),r&=~a}}function Hl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Pp(){var t=Dr;return Dr<<=1,!(Dr&4194240)&&(Dr=64),t}function Ha(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function wr(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-kt(e),t[e]=n}function by(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-kt(n),r=1<<i;e[i]=0,s[i]=-1,t[i]=-1,n&=~r}}function Kc(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-kt(n),i=1<<s;i&e|t[s]&e&&(t[s]|=e),n&=~i}}var Q=0;function Np(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Mp,Yc,Tp,Op,Ap,Vl=!1,Ir=[],xn=null,vn=null,bn=null,Yi=new Map,Xi=new Map,un=[],_y="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function md(t,e){switch(t){case"focusin":case"focusout":xn=null;break;case"dragenter":case"dragleave":vn=null;break;case"mouseover":case"mouseout":bn=null;break;case"pointerover":case"pointerout":Yi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xi.delete(e.pointerId)}}function ri(t,e,n,s,i,r){return t===null||t.nativeEvent!==r?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:r,targetContainers:[i]},e!==null&&(e=Sr(e),e!==null&&Yc(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function wy(t,e,n,s,i){switch(e){case"focusin":return xn=ri(xn,t,e,n,s,i),!0;case"dragenter":return vn=ri(vn,t,e,n,s,i),!0;case"mouseover":return bn=ri(bn,t,e,n,s,i),!0;case"pointerover":var r=i.pointerId;return Yi.set(r,ri(Yi.get(r)||null,t,e,n,s,i)),!0;case"gotpointercapture":return r=i.pointerId,Xi.set(r,ri(Xi.get(r)||null,t,e,n,s,i)),!0}return!1}function Rp(t){var e=Vn(t.target);if(e!==null){var n=os(e);if(n!==null){if(e=n.tag,e===13){if(e=wp(n),e!==null){t.blockedOn=e,Ap(t.priority,function(){Tp(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function mo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Wl(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);Fl=s,n.target.dispatchEvent(s),Fl=null}else return e=Sr(n),e!==null&&Yc(e),t.blockedOn=n,!1;e.shift()}return!0}function gd(t,e,n){mo(t)&&n.delete(e)}function ky(){Vl=!1,xn!==null&&mo(xn)&&(xn=null),vn!==null&&mo(vn)&&(vn=null),bn!==null&&mo(bn)&&(bn=null),Yi.forEach(gd),Xi.forEach(gd)}function oi(t,e){t.blockedOn===e&&(t.blockedOn=null,Vl||(Vl=!0,it.unstable_scheduleCallback(it.unstable_NormalPriority,ky)))}function Qi(t){function e(i){return oi(i,t)}if(0<Ir.length){oi(Ir[0],t);for(var n=1;n<Ir.length;n++){var s=Ir[n];s.blockedOn===t&&(s.blockedOn=null)}}for(xn!==null&&oi(xn,t),vn!==null&&oi(vn,t),bn!==null&&oi(bn,t),Yi.forEach(e),Xi.forEach(e),n=0;n<un.length;n++)s=un[n],s.blockedOn===t&&(s.blockedOn=null);for(;0<un.length&&(n=un[0],n.blockedOn===null);)Rp(n),n.blockedOn===null&&un.shift()}var Os=Zt.ReactCurrentBatchConfig,Lo=!0;function Sy(t,e,n,s){var i=Q,r=Os.transition;Os.transition=null;try{Q=1,Xc(t,e,n,s)}finally{Q=i,Os.transition=r}}function jy(t,e,n,s){var i=Q,r=Os.transition;Os.transition=null;try{Q=4,Xc(t,e,n,s)}finally{Q=i,Os.transition=r}}function Xc(t,e,n,s){if(Lo){var i=Wl(t,e,n,s);if(i===null)Za(t,e,s,Io,n),md(t,s);else if(wy(i,t,e,n,s))s.stopPropagation();else if(md(t,s),e&4&&-1<_y.indexOf(t)){for(;i!==null;){var r=Sr(i);if(r!==null&&Mp(r),r=Wl(t,e,n,s),r===null&&Za(t,e,s,Io,n),r===i)break;i=r}i!==null&&s.stopPropagation()}else Za(t,e,s,null,n)}}var Io=null;function Wl(t,e,n,s){if(Io=null,t=qc(s),t=Vn(t),t!==null)if(e=os(t),e===null)t=null;else if(n=e.tag,n===13){if(t=wp(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Io=t,null}function Dp(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hy()){case Gc:return 1;case Cp:return 4;case Ro:case fy:return 16;case Ep:return 536870912;default:return 16}default:return 16}}var fn=null,Qc=null,go=null;function Lp(){if(go)return go;var t,e=Qc,n=e.length,s,i="value"in fn?fn.value:fn.textContent,r=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(s=1;s<=o&&e[n-s]===i[r-s];s++);return go=i.slice(t,1<s?1-s:void 0)}function yo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function zr(){return!0}function yd(){return!1}function ot(t){function e(n,s,i,r,o){this._reactName=n,this._targetInst=i,this.type=s,this.nativeEvent=r,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(r):r[a]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?zr:yd,this.isPropagationStopped=yd,this}return fe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=zr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=zr)},persist:function(){},isPersistent:zr}),e}var Xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jc=ot(Xs),kr=fe({},Xs,{view:0,detail:0}),Cy=ot(kr),Va,Wa,ai,ha=fe({},kr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ai&&(ai&&t.type==="mousemove"?(Va=t.screenX-ai.screenX,Wa=t.screenY-ai.screenY):Wa=Va=0,ai=t),Va)},movementY:function(t){return"movementY"in t?t.movementY:Wa}}),xd=ot(ha),Ey=fe({},ha,{dataTransfer:0}),Py=ot(Ey),Ny=fe({},kr,{relatedTarget:0}),qa=ot(Ny),My=fe({},Xs,{animationName:0,elapsedTime:0,pseudoElement:0}),Ty=ot(My),Oy=fe({},Xs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ay=ot(Oy),Ry=fe({},Xs,{data:0}),vd=ot(Ry),Dy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ly={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Iy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zy(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Iy[t])?!!e[t]:!1}function Zc(){return zy}var Fy=fe({},kr,{key:function(t){if(t.key){var e=Dy[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=yo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ly[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zc,charCode:function(t){return t.type==="keypress"?yo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?yo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$y=ot(Fy),By=fe({},ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bd=ot(By),Uy=fe({},kr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zc}),Hy=ot(Uy),Vy=fe({},Xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wy=ot(Vy),qy=fe({},ha,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Gy=ot(qy),Ky=[9,13,27,32],eu=Yt&&"CompositionEvent"in window,Mi=null;Yt&&"documentMode"in document&&(Mi=document.documentMode);var Yy=Yt&&"TextEvent"in window&&!Mi,Ip=Yt&&(!eu||Mi&&8<Mi&&11>=Mi),_d=" ",wd=!1;function zp(t,e){switch(t){case"keyup":return Ky.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xs=!1;function Xy(t,e){switch(t){case"compositionend":return Fp(e);case"keypress":return e.which!==32?null:(wd=!0,_d);case"textInput":return t=e.data,t===_d&&wd?null:t;default:return null}}function Qy(t,e){if(xs)return t==="compositionend"||!eu&&zp(t,e)?(t=Lp(),go=Qc=fn=null,xs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ip&&e.locale!=="ko"?null:e.data;default:return null}}var Jy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Jy[t.type]:e==="textarea"}function $p(t,e,n,s){yp(s),e=zo(e,"onChange"),0<e.length&&(n=new Jc("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var Ti=null,Ji=null;function Zy(t){Qp(t,0)}function fa(t){var e=_s(t);if(up(e))return t}function ex(t,e){if(t==="change")return e}var Bp=!1;if(Yt){var Ga;if(Yt){var Ka="oninput"in document;if(!Ka){var Sd=document.createElement("div");Sd.setAttribute("oninput","return;"),Ka=typeof Sd.oninput=="function"}Ga=Ka}else Ga=!1;Bp=Ga&&(!document.documentMode||9<document.documentMode)}function jd(){Ti&&(Ti.detachEvent("onpropertychange",Up),Ji=Ti=null)}function Up(t){if(t.propertyName==="value"&&fa(Ji)){var e=[];$p(e,Ji,t,qc(t)),_p(Zy,e)}}function tx(t,e,n){t==="focusin"?(jd(),Ti=e,Ji=n,Ti.attachEvent("onpropertychange",Up)):t==="focusout"&&jd()}function nx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fa(Ji)}function sx(t,e){if(t==="click")return fa(e)}function ix(t,e){if(t==="input"||t==="change")return fa(e)}function rx(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var jt=typeof Object.is=="function"?Object.is:rx;function Zi(t,e){if(jt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var i=n[s];if(!El.call(e,i)||!jt(t[i],e[i]))return!1}return!0}function Cd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ed(t,e){var n=Cd(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Cd(n)}}function Hp(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Hp(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Vp(){for(var t=window,e=To();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=To(t.document)}return e}function tu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ox(t){var e=Vp(),n=t.focusedElem,s=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Hp(n.ownerDocument.documentElement,n)){if(s!==null&&tu(n)){if(e=s.start,t=s.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,r=Math.min(s.start,i);s=s.end===void 0?r:Math.min(s.end,i),!t.extend&&r>s&&(i=s,s=r,r=i),i=Ed(n,r);var o=Ed(n,s);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),r>s?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ax=Yt&&"documentMode"in document&&11>=document.documentMode,vs=null,ql=null,Oi=null,Gl=!1;function Pd(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Gl||vs==null||vs!==To(s)||(s=vs,"selectionStart"in s&&tu(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Oi&&Zi(Oi,s)||(Oi=s,s=zo(ql,"onSelect"),0<s.length&&(e=new Jc("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=vs)))}function Fr(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var bs={animationend:Fr("Animation","AnimationEnd"),animationiteration:Fr("Animation","AnimationIteration"),animationstart:Fr("Animation","AnimationStart"),transitionend:Fr("Transition","TransitionEnd")},Ya={},Wp={};Yt&&(Wp=document.createElement("div").style,"AnimationEvent"in window||(delete bs.animationend.animation,delete bs.animationiteration.animation,delete bs.animationstart.animation),"TransitionEvent"in window||delete bs.transitionend.transition);function pa(t){if(Ya[t])return Ya[t];if(!bs[t])return t;var e=bs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Wp)return Ya[t]=e[n];return t}var qp=pa("animationend"),Gp=pa("animationiteration"),Kp=pa("animationstart"),Yp=pa("transitionend"),Xp=new Map,Nd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mn(t,e){Xp.set(t,e),rs(e,[t])}for(var Xa=0;Xa<Nd.length;Xa++){var Qa=Nd[Xa],lx=Qa.toLowerCase(),cx=Qa[0].toUpperCase()+Qa.slice(1);Mn(lx,"on"+cx)}Mn(qp,"onAnimationEnd");Mn(Gp,"onAnimationIteration");Mn(Kp,"onAnimationStart");Mn("dblclick","onDoubleClick");Mn("focusin","onFocus");Mn("focusout","onBlur");Mn(Yp,"onTransitionEnd");zs("onMouseEnter",["mouseout","mouseover"]);zs("onMouseLeave",["mouseout","mouseover"]);zs("onPointerEnter",["pointerout","pointerover"]);zs("onPointerLeave",["pointerout","pointerover"]);rs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));rs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));rs("onBeforeInput",["compositionend","keypress","textInput","paste"]);rs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));rs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));rs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _i="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ux=new Set("cancel close invalid load scroll toggle".split(" ").concat(_i));function Md(t,e,n){var s=t.type||"unknown-event";t.currentTarget=n,ly(s,e,void 0,t),t.currentTarget=null}function Qp(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],i=s.event;s=s.listeners;e:{var r=void 0;if(e)for(var o=s.length-1;0<=o;o--){var a=s[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==r&&i.isPropagationStopped())break e;Md(i,a,c),r=l}else for(o=0;o<s.length;o++){if(a=s[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==r&&i.isPropagationStopped())break e;Md(i,a,c),r=l}}}if(Ao)throw t=Ul,Ao=!1,Ul=null,t}function ie(t,e){var n=e[Jl];n===void 0&&(n=e[Jl]=new Set);var s=t+"__bubble";n.has(s)||(Jp(e,t,2,!1),n.add(s))}function Ja(t,e,n){var s=0;e&&(s|=4),Jp(n,t,s,e)}var $r="_reactListening"+Math.random().toString(36).slice(2);function er(t){if(!t[$r]){t[$r]=!0,rp.forEach(function(n){n!=="selectionchange"&&(ux.has(n)||Ja(n,!1,t),Ja(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[$r]||(e[$r]=!0,Ja("selectionchange",!1,e))}}function Jp(t,e,n,s){switch(Dp(e)){case 1:var i=Sy;break;case 4:i=jy;break;default:i=Xc}n=i.bind(null,e,n,t),i=void 0,!Bl||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),s?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Za(t,e,n,s,i){var r=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var a=s.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=s.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Vn(a),o===null)return;if(l=o.tag,l===5||l===6){s=r=o;continue e}a=a.parentNode}}s=s.return}_p(function(){var c=r,d=qc(n),h=[];e:{var f=Xp.get(t);if(f!==void 0){var p=Jc,y=t;switch(t){case"keypress":if(yo(n)===0)break e;case"keydown":case"keyup":p=$y;break;case"focusin":y="focus",p=qa;break;case"focusout":y="blur",p=qa;break;case"beforeblur":case"afterblur":p=qa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=xd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Py;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Hy;break;case qp:case Gp:case Kp:p=Ty;break;case Yp:p=Wy;break;case"scroll":p=Cy;break;case"wheel":p=Gy;break;case"copy":case"cut":case"paste":p=Ay;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=bd}var x=(e&4)!==0,b=!x&&t==="scroll",m=x?f!==null?f+"Capture":null:f;x=[];for(var g=c,v;g!==null;){v=g;var _=v.stateNode;if(v.tag===5&&_!==null&&(v=_,m!==null&&(_=Ki(g,m),_!=null&&x.push(tr(g,_,v)))),b)break;g=g.return}0<x.length&&(f=new p(f,y,null,n,d),h.push({event:f,listeners:x}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==Fl&&(y=n.relatedTarget||n.fromElement)&&(Vn(y)||y[Xt]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=c,y=y?Vn(y):null,y!==null&&(b=os(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=c),p!==y)){if(x=xd,_="onMouseLeave",m="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(x=bd,_="onPointerLeave",m="onPointerEnter",g="pointer"),b=p==null?f:_s(p),v=y==null?f:_s(y),f=new x(_,g+"leave",p,n,d),f.target=b,f.relatedTarget=v,_=null,Vn(d)===c&&(x=new x(m,g+"enter",y,n,d),x.target=v,x.relatedTarget=b,_=x),b=_,p&&y)t:{for(x=p,m=y,g=0,v=x;v;v=us(v))g++;for(v=0,_=m;_;_=us(_))v++;for(;0<g-v;)x=us(x),g--;for(;0<v-g;)m=us(m),v--;for(;g--;){if(x===m||m!==null&&x===m.alternate)break t;x=us(x),m=us(m)}x=null}else x=null;p!==null&&Td(h,f,p,x,!1),y!==null&&b!==null&&Td(h,b,y,x,!0)}}e:{if(f=c?_s(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var w=ex;else if(kd(f))if(Bp)w=ix;else{w=nx;var S=tx}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(w=sx);if(w&&(w=w(t,c))){$p(h,w,n,d);break e}S&&S(t,f,c),t==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&Rl(f,"number",f.value)}switch(S=c?_s(c):window,t){case"focusin":(kd(S)||S.contentEditable==="true")&&(vs=S,ql=c,Oi=null);break;case"focusout":Oi=ql=vs=null;break;case"mousedown":Gl=!0;break;case"contextmenu":case"mouseup":case"dragend":Gl=!1,Pd(h,n,d);break;case"selectionchange":if(ax)break;case"keydown":case"keyup":Pd(h,n,d)}var k;if(eu)e:{switch(t){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else xs?zp(t,n)&&(j="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(Ip&&n.locale!=="ko"&&(xs||j!=="onCompositionStart"?j==="onCompositionEnd"&&xs&&(k=Lp()):(fn=d,Qc="value"in fn?fn.value:fn.textContent,xs=!0)),S=zo(c,j),0<S.length&&(j=new vd(j,t,null,n,d),h.push({event:j,listeners:S}),k?j.data=k:(k=Fp(n),k!==null&&(j.data=k)))),(k=Yy?Xy(t,n):Qy(t,n))&&(c=zo(c,"onBeforeInput"),0<c.length&&(d=new vd("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=k))}Qp(h,e)})}function tr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function zo(t,e){for(var n=e+"Capture",s=[];t!==null;){var i=t,r=i.stateNode;i.tag===5&&r!==null&&(i=r,r=Ki(t,n),r!=null&&s.unshift(tr(t,r,i)),r=Ki(t,e),r!=null&&s.push(tr(t,r,i))),t=t.return}return s}function us(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Td(t,e,n,s,i){for(var r=e._reactName,o=[];n!==null&&n!==s;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===s)break;a.tag===5&&c!==null&&(a=c,i?(l=Ki(n,r),l!=null&&o.unshift(tr(n,l,a))):i||(l=Ki(n,r),l!=null&&o.push(tr(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var dx=/\r\n?/g,hx=/\u0000|\uFFFD/g;function Od(t){return(typeof t=="string"?t:""+t).replace(dx,`
`).replace(hx,"")}function Br(t,e,n){if(e=Od(e),Od(t)!==e&&n)throw Error(C(425))}function Fo(){}var Kl=null,Yl=null;function Xl(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ql=typeof setTimeout=="function"?setTimeout:void 0,fx=typeof clearTimeout=="function"?clearTimeout:void 0,Ad=typeof Promise=="function"?Promise:void 0,px=typeof queueMicrotask=="function"?queueMicrotask:typeof Ad<"u"?function(t){return Ad.resolve(null).then(t).catch(mx)}:Ql;function mx(t){setTimeout(function(){throw t})}function el(t,e){var n=e,s=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(s===0){t.removeChild(i),Qi(e);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=i}while(n);Qi(e)}function _n(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Rd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Qs=Math.random().toString(36).slice(2),Rt="__reactFiber$"+Qs,nr="__reactProps$"+Qs,Xt="__reactContainer$"+Qs,Jl="__reactEvents$"+Qs,gx="__reactListeners$"+Qs,yx="__reactHandles$"+Qs;function Vn(t){var e=t[Rt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Xt]||n[Rt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Rd(t);t!==null;){if(n=t[Rt])return n;t=Rd(t)}return e}t=n,n=t.parentNode}return null}function Sr(t){return t=t[Rt]||t[Xt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function _s(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(C(33))}function ma(t){return t[nr]||null}var Zl=[],ws=-1;function Tn(t){return{current:t}}function ae(t){0>ws||(t.current=Zl[ws],Zl[ws]=null,ws--)}function te(t,e){ws++,Zl[ws]=t.current,t.current=e}var Pn={},ze=Tn(Pn),Qe=Tn(!1),Jn=Pn;function Fs(t,e){var n=t.type.contextTypes;if(!n)return Pn;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var i={},r;for(r in n)i[r]=e[r];return s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Je(t){return t=t.childContextTypes,t!=null}function $o(){ae(Qe),ae(ze)}function Dd(t,e,n){if(ze.current!==Pn)throw Error(C(168));te(ze,e),te(Qe,n)}function Zp(t,e,n){var s=t.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var i in s)if(!(i in e))throw Error(C(108,ty(t)||"Unknown",i));return fe({},n,s)}function Bo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Pn,Jn=ze.current,te(ze,t),te(Qe,Qe.current),!0}function Ld(t,e,n){var s=t.stateNode;if(!s)throw Error(C(169));n?(t=Zp(t,e,Jn),s.__reactInternalMemoizedMergedChildContext=t,ae(Qe),ae(ze),te(ze,t)):ae(Qe),te(Qe,n)}var Ht=null,ga=!1,tl=!1;function em(t){Ht===null?Ht=[t]:Ht.push(t)}function xx(t){ga=!0,em(t)}function On(){if(!tl&&Ht!==null){tl=!0;var t=0,e=Q;try{var n=Ht;for(Q=1;t<n.length;t++){var s=n[t];do s=s(!0);while(s!==null)}Ht=null,ga=!1}catch(i){throw Ht!==null&&(Ht=Ht.slice(t+1)),jp(Gc,On),i}finally{Q=e,tl=!1}}return null}var ks=[],Ss=0,Uo=null,Ho=0,lt=[],ct=0,Zn=null,Wt=1,qt="";function zn(t,e){ks[Ss++]=Ho,ks[Ss++]=Uo,Uo=t,Ho=e}function tm(t,e,n){lt[ct++]=Wt,lt[ct++]=qt,lt[ct++]=Zn,Zn=t;var s=Wt;t=qt;var i=32-kt(s)-1;s&=~(1<<i),n+=1;var r=32-kt(e)+i;if(30<r){var o=i-i%5;r=(s&(1<<o)-1).toString(32),s>>=o,i-=o,Wt=1<<32-kt(e)+i|n<<i|s,qt=r+t}else Wt=1<<r|n<<i|s,qt=t}function nu(t){t.return!==null&&(zn(t,1),tm(t,1,0))}function su(t){for(;t===Uo;)Uo=ks[--Ss],ks[Ss]=null,Ho=ks[--Ss],ks[Ss]=null;for(;t===Zn;)Zn=lt[--ct],lt[ct]=null,qt=lt[--ct],lt[ct]=null,Wt=lt[--ct],lt[ct]=null}var st=null,nt=null,le=!1,wt=null;function nm(t,e){var n=ut(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Id(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,st=t,nt=_n(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,st=t,nt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Zn!==null?{id:Wt,overflow:qt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ut(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,st=t,nt=null,!0):!1;default:return!1}}function ec(t){return(t.mode&1)!==0&&(t.flags&128)===0}function tc(t){if(le){var e=nt;if(e){var n=e;if(!Id(t,e)){if(ec(t))throw Error(C(418));e=_n(n.nextSibling);var s=st;e&&Id(t,e)?nm(s,n):(t.flags=t.flags&-4097|2,le=!1,st=t)}}else{if(ec(t))throw Error(C(418));t.flags=t.flags&-4097|2,le=!1,st=t}}}function zd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;st=t}function Ur(t){if(t!==st)return!1;if(!le)return zd(t),le=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Xl(t.type,t.memoizedProps)),e&&(e=nt)){if(ec(t))throw sm(),Error(C(418));for(;e;)nm(t,e),e=_n(e.nextSibling)}if(zd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(C(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){nt=_n(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}nt=null}}else nt=st?_n(t.stateNode.nextSibling):null;return!0}function sm(){for(var t=nt;t;)t=_n(t.nextSibling)}function $s(){nt=st=null,le=!1}function iu(t){wt===null?wt=[t]:wt.push(t)}var vx=Zt.ReactCurrentBatchConfig;function li(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(C(309));var s=n.stateNode}if(!s)throw Error(C(147,t));var i=s,r=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===r?e.ref:(e=function(o){var a=i.refs;o===null?delete a[r]:a[r]=o},e._stringRef=r,e)}if(typeof t!="string")throw Error(C(284));if(!n._owner)throw Error(C(290,t))}return t}function Hr(t,e){throw t=Object.prototype.toString.call(e),Error(C(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Fd(t){var e=t._init;return e(t._payload)}function im(t){function e(m,g){if(t){var v=m.deletions;v===null?(m.deletions=[g],m.flags|=16):v.push(g)}}function n(m,g){if(!t)return null;for(;g!==null;)e(m,g),g=g.sibling;return null}function s(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function i(m,g){return m=jn(m,g),m.index=0,m.sibling=null,m}function r(m,g,v){return m.index=v,t?(v=m.alternate,v!==null?(v=v.index,v<g?(m.flags|=2,g):v):(m.flags|=2,g)):(m.flags|=1048576,g)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,g,v,_){return g===null||g.tag!==6?(g=ll(v,m.mode,_),g.return=m,g):(g=i(g,v),g.return=m,g)}function l(m,g,v,_){var w=v.type;return w===ys?d(m,g,v.props.children,_,v.key):g!==null&&(g.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===an&&Fd(w)===g.type)?(_=i(g,v.props),_.ref=li(m,g,v),_.return=m,_):(_=So(v.type,v.key,v.props,null,m.mode,_),_.ref=li(m,g,v),_.return=m,_)}function c(m,g,v,_){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=cl(v,m.mode,_),g.return=m,g):(g=i(g,v.children||[]),g.return=m,g)}function d(m,g,v,_,w){return g===null||g.tag!==7?(g=Yn(v,m.mode,_,w),g.return=m,g):(g=i(g,v),g.return=m,g)}function h(m,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=ll(""+g,m.mode,v),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Or:return v=So(g.type,g.key,g.props,null,m.mode,v),v.ref=li(m,null,g),v.return=m,v;case gs:return g=cl(g,m.mode,v),g.return=m,g;case an:var _=g._init;return h(m,_(g._payload),v)}if(vi(g)||si(g))return g=Yn(g,m.mode,v,null),g.return=m,g;Hr(m,g)}return null}function f(m,g,v,_){var w=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return w!==null?null:a(m,g,""+v,_);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Or:return v.key===w?l(m,g,v,_):null;case gs:return v.key===w?c(m,g,v,_):null;case an:return w=v._init,f(m,g,w(v._payload),_)}if(vi(v)||si(v))return w!==null?null:d(m,g,v,_,null);Hr(m,v)}return null}function p(m,g,v,_,w){if(typeof _=="string"&&_!==""||typeof _=="number")return m=m.get(v)||null,a(g,m,""+_,w);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Or:return m=m.get(_.key===null?v:_.key)||null,l(g,m,_,w);case gs:return m=m.get(_.key===null?v:_.key)||null,c(g,m,_,w);case an:var S=_._init;return p(m,g,v,S(_._payload),w)}if(vi(_)||si(_))return m=m.get(v)||null,d(g,m,_,w,null);Hr(g,_)}return null}function y(m,g,v,_){for(var w=null,S=null,k=g,j=g=0,M=null;k!==null&&j<v.length;j++){k.index>j?(M=k,k=null):M=k.sibling;var N=f(m,k,v[j],_);if(N===null){k===null&&(k=M);break}t&&k&&N.alternate===null&&e(m,k),g=r(N,g,j),S===null?w=N:S.sibling=N,S=N,k=M}if(j===v.length)return n(m,k),le&&zn(m,j),w;if(k===null){for(;j<v.length;j++)k=h(m,v[j],_),k!==null&&(g=r(k,g,j),S===null?w=k:S.sibling=k,S=k);return le&&zn(m,j),w}for(k=s(m,k);j<v.length;j++)M=p(k,m,j,v[j],_),M!==null&&(t&&M.alternate!==null&&k.delete(M.key===null?j:M.key),g=r(M,g,j),S===null?w=M:S.sibling=M,S=M);return t&&k.forEach(function(D){return e(m,D)}),le&&zn(m,j),w}function x(m,g,v,_){var w=si(v);if(typeof w!="function")throw Error(C(150));if(v=w.call(v),v==null)throw Error(C(151));for(var S=w=null,k=g,j=g=0,M=null,N=v.next();k!==null&&!N.done;j++,N=v.next()){k.index>j?(M=k,k=null):M=k.sibling;var D=f(m,k,N.value,_);if(D===null){k===null&&(k=M);break}t&&k&&D.alternate===null&&e(m,k),g=r(D,g,j),S===null?w=D:S.sibling=D,S=D,k=M}if(N.done)return n(m,k),le&&zn(m,j),w;if(k===null){for(;!N.done;j++,N=v.next())N=h(m,N.value,_),N!==null&&(g=r(N,g,j),S===null?w=N:S.sibling=N,S=N);return le&&zn(m,j),w}for(k=s(m,k);!N.done;j++,N=v.next())N=p(k,m,j,N.value,_),N!==null&&(t&&N.alternate!==null&&k.delete(N.key===null?j:N.key),g=r(N,g,j),S===null?w=N:S.sibling=N,S=N);return t&&k.forEach(function(F){return e(m,F)}),le&&zn(m,j),w}function b(m,g,v,_){if(typeof v=="object"&&v!==null&&v.type===ys&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Or:e:{for(var w=v.key,S=g;S!==null;){if(S.key===w){if(w=v.type,w===ys){if(S.tag===7){n(m,S.sibling),g=i(S,v.props.children),g.return=m,m=g;break e}}else if(S.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===an&&Fd(w)===S.type){n(m,S.sibling),g=i(S,v.props),g.ref=li(m,S,v),g.return=m,m=g;break e}n(m,S);break}else e(m,S);S=S.sibling}v.type===ys?(g=Yn(v.props.children,m.mode,_,v.key),g.return=m,m=g):(_=So(v.type,v.key,v.props,null,m.mode,_),_.ref=li(m,g,v),_.return=m,m=_)}return o(m);case gs:e:{for(S=v.key;g!==null;){if(g.key===S)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){n(m,g.sibling),g=i(g,v.children||[]),g.return=m,m=g;break e}else{n(m,g);break}else e(m,g);g=g.sibling}g=cl(v,m.mode,_),g.return=m,m=g}return o(m);case an:return S=v._init,b(m,g,S(v._payload),_)}if(vi(v))return y(m,g,v,_);if(si(v))return x(m,g,v,_);Hr(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(n(m,g.sibling),g=i(g,v),g.return=m,m=g):(n(m,g),g=ll(v,m.mode,_),g.return=m,m=g),o(m)):n(m,g)}return b}var Bs=im(!0),rm=im(!1),Vo=Tn(null),Wo=null,js=null,ru=null;function ou(){ru=js=Wo=null}function au(t){var e=Vo.current;ae(Vo),t._currentValue=e}function nc(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function As(t,e){Wo=t,ru=js=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Xe=!0),t.firstContext=null)}function pt(t){var e=t._currentValue;if(ru!==t)if(t={context:t,memoizedValue:e,next:null},js===null){if(Wo===null)throw Error(C(308));js=t,Wo.dependencies={lanes:0,firstContext:t}}else js=js.next=t;return e}var Wn=null;function lu(t){Wn===null?Wn=[t]:Wn.push(t)}function om(t,e,n,s){var i=e.interleaved;return i===null?(n.next=n,lu(e)):(n.next=i.next,i.next=n),e.interleaved=n,Qt(t,s)}function Qt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ln=!1;function cu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function am(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Kt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function wn(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,V&2){var i=s.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),s.pending=e,Qt(t,n)}return i=s.interleaved,i===null?(e.next=e,lu(s)):(e.next=i.next,i.next=e),s.interleaved=e,Qt(t,n)}function xo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,Kc(t,n)}}function $d(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var i=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};r===null?i=r=o:r=r.next=o,n=n.next}while(n!==null);r===null?i=r=e:r=r.next=e}else i=r=e;n={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:s.shared,effects:s.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function qo(t,e,n,s){var i=t.updateQueue;ln=!1;var r=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?r=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(r!==null){var h=i.baseState;o=0,d=c=l=null,a=r;do{var f=a.lane,p=a.eventTime;if((s&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,x=a;switch(f=e,p=n,x.tag){case 1:if(y=x.payload,typeof y=="function"){h=y.call(p,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,f=typeof y=="function"?y.call(p,h,f):y,f==null)break e;h=fe({},h,f);break e;case 2:ln=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=p,l=h):d=d.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else r===null&&(i.shared.lanes=0);ts|=o,t.lanes=o,t.memoizedState=h}}function Bd(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var s=t[e],i=s.callback;if(i!==null){if(s.callback=null,s=n,typeof i!="function")throw Error(C(191,i));i.call(s)}}}var jr={},Lt=Tn(jr),sr=Tn(jr),ir=Tn(jr);function qn(t){if(t===jr)throw Error(C(174));return t}function uu(t,e){switch(te(ir,e),te(sr,t),te(Lt,jr),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ll(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ll(e,t)}ae(Lt),te(Lt,e)}function Us(){ae(Lt),ae(sr),ae(ir)}function lm(t){qn(ir.current);var e=qn(Lt.current),n=Ll(e,t.type);e!==n&&(te(sr,t),te(Lt,n))}function du(t){sr.current===t&&(ae(Lt),ae(sr))}var de=Tn(0);function Go(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var nl=[];function hu(){for(var t=0;t<nl.length;t++)nl[t]._workInProgressVersionPrimary=null;nl.length=0}var vo=Zt.ReactCurrentDispatcher,sl=Zt.ReactCurrentBatchConfig,es=0,he=null,_e=null,Ee=null,Ko=!1,Ai=!1,rr=0,bx=0;function Oe(){throw Error(C(321))}function fu(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!jt(t[n],e[n]))return!1;return!0}function pu(t,e,n,s,i,r){if(es=r,he=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,vo.current=t===null||t.memoizedState===null?Sx:jx,t=n(s,i),Ai){r=0;do{if(Ai=!1,rr=0,25<=r)throw Error(C(301));r+=1,Ee=_e=null,e.updateQueue=null,vo.current=Cx,t=n(s,i)}while(Ai)}if(vo.current=Yo,e=_e!==null&&_e.next!==null,es=0,Ee=_e=he=null,Ko=!1,e)throw Error(C(300));return t}function mu(){var t=rr!==0;return rr=0,t}function Ot(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?he.memoizedState=Ee=t:Ee=Ee.next=t,Ee}function mt(){if(_e===null){var t=he.alternate;t=t!==null?t.memoizedState:null}else t=_e.next;var e=Ee===null?he.memoizedState:Ee.next;if(e!==null)Ee=e,_e=t;else{if(t===null)throw Error(C(310));_e=t,t={memoizedState:_e.memoizedState,baseState:_e.baseState,baseQueue:_e.baseQueue,queue:_e.queue,next:null},Ee===null?he.memoizedState=Ee=t:Ee=Ee.next=t}return Ee}function or(t,e){return typeof e=="function"?e(t):e}function il(t){var e=mt(),n=e.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=t;var s=_e,i=s.baseQueue,r=n.pending;if(r!==null){if(i!==null){var o=i.next;i.next=r.next,r.next=o}s.baseQueue=i=r,n.pending=null}if(i!==null){r=i.next,s=s.baseState;var a=o=null,l=null,c=r;do{var d=c.lane;if((es&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),s=c.hasEagerState?c.eagerState:t(s,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=s):l=l.next=h,he.lanes|=d,ts|=d}c=c.next}while(c!==null&&c!==r);l===null?o=s:l.next=a,jt(s,e.memoizedState)||(Xe=!0),e.memoizedState=s,e.baseState=o,e.baseQueue=l,n.lastRenderedState=s}if(t=n.interleaved,t!==null){i=t;do r=i.lane,he.lanes|=r,ts|=r,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function rl(t){var e=mt(),n=e.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=t;var s=n.dispatch,i=n.pending,r=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do r=t(r,o.action),o=o.next;while(o!==i);jt(r,e.memoizedState)||(Xe=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),n.lastRenderedState=r}return[r,s]}function cm(){}function um(t,e){var n=he,s=mt(),i=e(),r=!jt(s.memoizedState,i);if(r&&(s.memoizedState=i,Xe=!0),s=s.queue,gu(fm.bind(null,n,s,t),[t]),s.getSnapshot!==e||r||Ee!==null&&Ee.memoizedState.tag&1){if(n.flags|=2048,ar(9,hm.bind(null,n,s,i,e),void 0,null),Pe===null)throw Error(C(349));es&30||dm(n,e,i)}return i}function dm(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=he.updateQueue,e===null?(e={lastEffect:null,stores:null},he.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function hm(t,e,n,s){e.value=n,e.getSnapshot=s,pm(e)&&mm(t)}function fm(t,e,n){return n(function(){pm(e)&&mm(t)})}function pm(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!jt(t,n)}catch{return!0}}function mm(t){var e=Qt(t,1);e!==null&&St(e,t,1,-1)}function Ud(t){var e=Ot();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:or,lastRenderedState:t},e.queue=t,t=t.dispatch=kx.bind(null,he,t),[e.memoizedState,t]}function ar(t,e,n,s){return t={tag:t,create:e,destroy:n,deps:s,next:null},e=he.updateQueue,e===null?(e={lastEffect:null,stores:null},he.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t)),t}function gm(){return mt().memoizedState}function bo(t,e,n,s){var i=Ot();he.flags|=t,i.memoizedState=ar(1|e,n,void 0,s===void 0?null:s)}function ya(t,e,n,s){var i=mt();s=s===void 0?null:s;var r=void 0;if(_e!==null){var o=_e.memoizedState;if(r=o.destroy,s!==null&&fu(s,o.deps)){i.memoizedState=ar(e,n,r,s);return}}he.flags|=t,i.memoizedState=ar(1|e,n,r,s)}function Hd(t,e){return bo(8390656,8,t,e)}function gu(t,e){return ya(2048,8,t,e)}function ym(t,e){return ya(4,2,t,e)}function xm(t,e){return ya(4,4,t,e)}function vm(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function bm(t,e,n){return n=n!=null?n.concat([t]):null,ya(4,4,vm.bind(null,e,t),n)}function yu(){}function _m(t,e){var n=mt();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&fu(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function wm(t,e){var n=mt();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&fu(e,s[1])?s[0]:(t=t(),n.memoizedState=[t,e],t)}function km(t,e,n){return es&21?(jt(n,e)||(n=Pp(),he.lanes|=n,ts|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Xe=!0),t.memoizedState=n)}function _x(t,e){var n=Q;Q=n!==0&&4>n?n:4,t(!0);var s=sl.transition;sl.transition={};try{t(!1),e()}finally{Q=n,sl.transition=s}}function Sm(){return mt().memoizedState}function wx(t,e,n){var s=Sn(t);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},jm(t))Cm(e,n);else if(n=om(t,e,n,s),n!==null){var i=Be();St(n,t,s,i),Em(n,e,s)}}function kx(t,e,n){var s=Sn(t),i={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(jm(t))Cm(e,i);else{var r=t.alternate;if(t.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var o=e.lastRenderedState,a=r(o,n);if(i.hasEagerState=!0,i.eagerState=a,jt(a,o)){var l=e.interleaved;l===null?(i.next=i,lu(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=om(t,e,i,s),n!==null&&(i=Be(),St(n,t,s,i),Em(n,e,s))}}function jm(t){var e=t.alternate;return t===he||e!==null&&e===he}function Cm(t,e){Ai=Ko=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Em(t,e,n){if(n&4194240){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,Kc(t,n)}}var Yo={readContext:pt,useCallback:Oe,useContext:Oe,useEffect:Oe,useImperativeHandle:Oe,useInsertionEffect:Oe,useLayoutEffect:Oe,useMemo:Oe,useReducer:Oe,useRef:Oe,useState:Oe,useDebugValue:Oe,useDeferredValue:Oe,useTransition:Oe,useMutableSource:Oe,useSyncExternalStore:Oe,useId:Oe,unstable_isNewReconciler:!1},Sx={readContext:pt,useCallback:function(t,e){return Ot().memoizedState=[t,e===void 0?null:e],t},useContext:pt,useEffect:Hd,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,bo(4194308,4,vm.bind(null,e,t),n)},useLayoutEffect:function(t,e){return bo(4194308,4,t,e)},useInsertionEffect:function(t,e){return bo(4,2,t,e)},useMemo:function(t,e){var n=Ot();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var s=Ot();return e=n!==void 0?n(e):e,s.memoizedState=s.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},s.queue=t,t=t.dispatch=wx.bind(null,he,t),[s.memoizedState,t]},useRef:function(t){var e=Ot();return t={current:t},e.memoizedState=t},useState:Ud,useDebugValue:yu,useDeferredValue:function(t){return Ot().memoizedState=t},useTransition:function(){var t=Ud(!1),e=t[0];return t=_x.bind(null,t[1]),Ot().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var s=he,i=Ot();if(le){if(n===void 0)throw Error(C(407));n=n()}else{if(n=e(),Pe===null)throw Error(C(349));es&30||dm(s,e,n)}i.memoizedState=n;var r={value:n,getSnapshot:e};return i.queue=r,Hd(fm.bind(null,s,r,t),[t]),s.flags|=2048,ar(9,hm.bind(null,s,r,n,e),void 0,null),n},useId:function(){var t=Ot(),e=Pe.identifierPrefix;if(le){var n=qt,s=Wt;n=(s&~(1<<32-kt(s)-1)).toString(32)+n,e=":"+e+"R"+n,n=rr++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=bx++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},jx={readContext:pt,useCallback:_m,useContext:pt,useEffect:gu,useImperativeHandle:bm,useInsertionEffect:ym,useLayoutEffect:xm,useMemo:wm,useReducer:il,useRef:gm,useState:function(){return il(or)},useDebugValue:yu,useDeferredValue:function(t){var e=mt();return km(e,_e.memoizedState,t)},useTransition:function(){var t=il(or)[0],e=mt().memoizedState;return[t,e]},useMutableSource:cm,useSyncExternalStore:um,useId:Sm,unstable_isNewReconciler:!1},Cx={readContext:pt,useCallback:_m,useContext:pt,useEffect:gu,useImperativeHandle:bm,useInsertionEffect:ym,useLayoutEffect:xm,useMemo:wm,useReducer:rl,useRef:gm,useState:function(){return rl(or)},useDebugValue:yu,useDeferredValue:function(t){var e=mt();return _e===null?e.memoizedState=t:km(e,_e.memoizedState,t)},useTransition:function(){var t=rl(or)[0],e=mt().memoizedState;return[t,e]},useMutableSource:cm,useSyncExternalStore:um,useId:Sm,unstable_isNewReconciler:!1};function vt(t,e){if(t&&t.defaultProps){e=fe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function sc(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:fe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var xa={isMounted:function(t){return(t=t._reactInternals)?os(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var s=Be(),i=Sn(t),r=Kt(s,i);r.payload=e,n!=null&&(r.callback=n),e=wn(t,r,i),e!==null&&(St(e,t,i,s),xo(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=Be(),i=Sn(t),r=Kt(s,i);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=wn(t,r,i),e!==null&&(St(e,t,i,s),xo(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Be(),s=Sn(t),i=Kt(n,s);i.tag=2,e!=null&&(i.callback=e),e=wn(t,i,s),e!==null&&(St(e,t,s,n),xo(e,t,s))}};function Vd(t,e,n,s,i,r,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,r,o):e.prototype&&e.prototype.isPureReactComponent?!Zi(n,s)||!Zi(i,r):!0}function Pm(t,e,n){var s=!1,i=Pn,r=e.contextType;return typeof r=="object"&&r!==null?r=pt(r):(i=Je(e)?Jn:ze.current,s=e.contextTypes,r=(s=s!=null)?Fs(t,i):Pn),e=new e(n,r),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=xa,t.stateNode=e,e._reactInternals=t,s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=r),e}function Wd(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&xa.enqueueReplaceState(e,e.state,null)}function ic(t,e,n,s){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},cu(t);var r=e.contextType;typeof r=="object"&&r!==null?i.context=pt(r):(r=Je(e)?Jn:ze.current,i.context=Fs(t,r)),i.state=t.memoizedState,r=e.getDerivedStateFromProps,typeof r=="function"&&(sc(t,e,r,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&xa.enqueueReplaceState(i,i.state,null),qo(t,n,i,s),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Hs(t,e){try{var n="",s=e;do n+=ey(s),s=s.return;while(s);var i=n}catch(r){i=`
Error generating stack: `+r.message+`
`+r.stack}return{value:t,source:e,stack:i,digest:null}}function ol(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function rc(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Ex=typeof WeakMap=="function"?WeakMap:Map;function Nm(t,e,n){n=Kt(-1,n),n.tag=3,n.payload={element:null};var s=e.value;return n.callback=function(){Qo||(Qo=!0,mc=s),rc(t,e)},n}function Mm(t,e,n){n=Kt(-1,n),n.tag=3;var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var i=e.value;n.payload=function(){return s(i)},n.callback=function(){rc(t,e)}}var r=t.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(n.callback=function(){rc(t,e),typeof s!="function"&&(kn===null?kn=new Set([this]):kn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function qd(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new Ex;var i=new Set;s.set(e,i)}else i=s.get(e),i===void 0&&(i=new Set,s.set(e,i));i.has(n)||(i.add(n),t=Bx.bind(null,t,e,n),e.then(t,t))}function Gd(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Kd(t,e,n,s,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Kt(-1,1),e.tag=2,wn(n,e,1))),n.lanes|=1),t)}var Px=Zt.ReactCurrentOwner,Xe=!1;function $e(t,e,n,s){e.child=t===null?rm(e,null,n,s):Bs(e,t.child,n,s)}function Yd(t,e,n,s,i){n=n.render;var r=e.ref;return As(e,i),s=pu(t,e,n,s,r,i),n=mu(),t!==null&&!Xe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Jt(t,e,i)):(le&&n&&nu(e),e.flags|=1,$e(t,e,s,i),e.child)}function Xd(t,e,n,s,i){if(t===null){var r=n.type;return typeof r=="function"&&!ju(r)&&r.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=r,Tm(t,e,r,s,i)):(t=So(n.type,null,s,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(r=t.child,!(t.lanes&i)){var o=r.memoizedProps;if(n=n.compare,n=n!==null?n:Zi,n(o,s)&&t.ref===e.ref)return Jt(t,e,i)}return e.flags|=1,t=jn(r,s),t.ref=e.ref,t.return=e,e.child=t}function Tm(t,e,n,s,i){if(t!==null){var r=t.memoizedProps;if(Zi(r,s)&&t.ref===e.ref)if(Xe=!1,e.pendingProps=s=r,(t.lanes&i)!==0)t.flags&131072&&(Xe=!0);else return e.lanes=t.lanes,Jt(t,e,i)}return oc(t,e,n,s,i)}function Om(t,e,n){var s=e.pendingProps,i=s.children,r=t!==null?t.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},te(Es,tt),tt|=n;else{if(!(n&1073741824))return t=r!==null?r.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,te(Es,tt),tt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=r!==null?r.baseLanes:n,te(Es,tt),tt|=s}else r!==null?(s=r.baseLanes|n,e.memoizedState=null):s=n,te(Es,tt),tt|=s;return $e(t,e,i,n),e.child}function Am(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function oc(t,e,n,s,i){var r=Je(n)?Jn:ze.current;return r=Fs(e,r),As(e,i),n=pu(t,e,n,s,r,i),s=mu(),t!==null&&!Xe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Jt(t,e,i)):(le&&s&&nu(e),e.flags|=1,$e(t,e,n,i),e.child)}function Qd(t,e,n,s,i){if(Je(n)){var r=!0;Bo(e)}else r=!1;if(As(e,i),e.stateNode===null)_o(t,e),Pm(e,n,s),ic(e,n,s,i),s=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=pt(c):(c=Je(n)?Jn:ze.current,c=Fs(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==s||l!==c)&&Wd(e,o,s,c),ln=!1;var f=e.memoizedState;o.state=f,qo(e,s,o,i),l=e.memoizedState,a!==s||f!==l||Qe.current||ln?(typeof d=="function"&&(sc(e,n,d,s),l=e.memoizedState),(a=ln||Vd(e,n,a,s,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=l),o.props=s,o.state=l,o.context=c,s=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{o=e.stateNode,am(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:vt(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=pt(l):(l=Je(n)?Jn:ze.current,l=Fs(e,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&Wd(e,o,s,l),ln=!1,f=e.memoizedState,o.state=f,qo(e,s,o,i);var y=e.memoizedState;a!==h||f!==y||Qe.current||ln?(typeof p=="function"&&(sc(e,n,p,s),y=e.memoizedState),(c=ln||Vd(e,n,c,s,f,y,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=y),o.props=s,o.state=y,o.context=l,s=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),s=!1)}return ac(t,e,n,s,r,i)}function ac(t,e,n,s,i,r){Am(t,e);var o=(e.flags&128)!==0;if(!s&&!o)return i&&Ld(e,n,!1),Jt(t,e,r);s=e.stateNode,Px.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,t!==null&&o?(e.child=Bs(e,t.child,null,r),e.child=Bs(e,null,a,r)):$e(t,e,a,r),e.memoizedState=s.state,i&&Ld(e,n,!0),e.child}function Rm(t){var e=t.stateNode;e.pendingContext?Dd(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Dd(t,e.context,!1),uu(t,e.containerInfo)}function Jd(t,e,n,s,i){return $s(),iu(i),e.flags|=256,$e(t,e,n,s),e.child}var lc={dehydrated:null,treeContext:null,retryLane:0};function cc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Dm(t,e,n){var s=e.pendingProps,i=de.current,r=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(r=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),te(de,i&1),t===null)return tc(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=s.children,t=s.fallback,r?(s=e.mode,r=e.child,o={mode:"hidden",children:o},!(s&1)&&r!==null?(r.childLanes=0,r.pendingProps=o):r=_a(o,s,0,null),t=Yn(t,s,n,null),r.return=e,t.return=e,r.sibling=t,e.child=r,e.child.memoizedState=cc(n),e.memoizedState=lc,t):xu(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Nx(t,e,o,s,a,i,n);if(r){r=s.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:s.children};return!(o&1)&&e.child!==i?(s=e.child,s.childLanes=0,s.pendingProps=l,e.deletions=null):(s=jn(i,l),s.subtreeFlags=i.subtreeFlags&14680064),a!==null?r=jn(a,r):(r=Yn(r,o,n,null),r.flags|=2),r.return=e,s.return=e,s.sibling=r,e.child=s,s=r,r=e.child,o=t.child.memoizedState,o=o===null?cc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},r.memoizedState=o,r.childLanes=t.childLanes&~n,e.memoizedState=lc,s}return r=t.child,t=r.sibling,s=jn(r,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=n),s.return=e,s.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=s,e.memoizedState=null,s}function xu(t,e){return e=_a({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Vr(t,e,n,s){return s!==null&&iu(s),Bs(e,t.child,null,n),t=xu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Nx(t,e,n,s,i,r,o){if(n)return e.flags&256?(e.flags&=-257,s=ol(Error(C(422))),Vr(t,e,o,s)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(r=s.fallback,i=e.mode,s=_a({mode:"visible",children:s.children},i,0,null),r=Yn(r,i,o,null),r.flags|=2,s.return=e,r.return=e,s.sibling=r,e.child=s,e.mode&1&&Bs(e,t.child,null,o),e.child.memoizedState=cc(o),e.memoizedState=lc,r);if(!(e.mode&1))return Vr(t,e,o,null);if(i.data==="$!"){if(s=i.nextSibling&&i.nextSibling.dataset,s)var a=s.dgst;return s=a,r=Error(C(419)),s=ol(r,s,void 0),Vr(t,e,o,s)}if(a=(o&t.childLanes)!==0,Xe||a){if(s=Pe,s!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(s.suspendedLanes|o)?0:i,i!==0&&i!==r.retryLane&&(r.retryLane=i,Qt(t,i),St(s,t,i,-1))}return Su(),s=ol(Error(C(421))),Vr(t,e,o,s)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Ux.bind(null,t),i._reactRetry=e,null):(t=r.treeContext,nt=_n(i.nextSibling),st=e,le=!0,wt=null,t!==null&&(lt[ct++]=Wt,lt[ct++]=qt,lt[ct++]=Zn,Wt=t.id,qt=t.overflow,Zn=e),e=xu(e,s.children),e.flags|=4096,e)}function Zd(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),nc(t.return,e,n)}function al(t,e,n,s,i){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:i}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=s,r.tail=n,r.tailMode=i)}function Lm(t,e,n){var s=e.pendingProps,i=s.revealOrder,r=s.tail;if($e(t,e,s.children,n),s=de.current,s&2)s=s&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Zd(t,n,e);else if(t.tag===19)Zd(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(te(de,s),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Go(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),al(e,!1,i,n,r);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Go(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}al(e,!0,n,null,r);break;case"together":al(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function _o(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Jt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ts|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(C(153));if(e.child!==null){for(t=e.child,n=jn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=jn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Mx(t,e,n){switch(e.tag){case 3:Rm(e),$s();break;case 5:lm(e);break;case 1:Je(e.type)&&Bo(e);break;case 4:uu(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,i=e.memoizedProps.value;te(Vo,s._currentValue),s._currentValue=i;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(te(de,de.current&1),e.flags|=128,null):n&e.child.childLanes?Dm(t,e,n):(te(de,de.current&1),t=Jt(t,e,n),t!==null?t.sibling:null);te(de,de.current&1);break;case 19:if(s=(n&e.childLanes)!==0,t.flags&128){if(s)return Lm(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),te(de,de.current),s)break;return null;case 22:case 23:return e.lanes=0,Om(t,e,n)}return Jt(t,e,n)}var Im,uc,zm,Fm;Im=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};uc=function(){};zm=function(t,e,n,s){var i=t.memoizedProps;if(i!==s){t=e.stateNode,qn(Lt.current);var r=null;switch(n){case"input":i=Ol(t,i),s=Ol(t,s),r=[];break;case"select":i=fe({},i,{value:void 0}),s=fe({},s,{value:void 0}),r=[];break;case"textarea":i=Dl(t,i),s=Dl(t,s),r=[];break;default:typeof i.onClick!="function"&&typeof s.onClick=="function"&&(t.onclick=Fo)}Il(n,s);var o;n=null;for(c in i)if(!s.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(qi.hasOwnProperty(c)?r||(r=[]):(r=r||[]).push(c,null));for(c in s){var l=s[c];if(a=i!=null?i[c]:void 0,s.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(r||(r=[]),r.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(r=r||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(r=r||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(qi.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ie("scroll",t),r||a===l||(r=[])):(r=r||[]).push(c,l))}n&&(r=r||[]).push("style",n);var c=r;(e.updateQueue=c)&&(e.flags|=4)}};Fm=function(t,e,n,s){n!==s&&(e.flags|=4)};function ci(t,e){if(!le)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function Ae(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags&14680064,s|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function Tx(t,e,n){var s=e.pendingProps;switch(su(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ae(e),null;case 1:return Je(e.type)&&$o(),Ae(e),null;case 3:return s=e.stateNode,Us(),ae(Qe),ae(ze),hu(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Ur(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,wt!==null&&(xc(wt),wt=null))),uc(t,e),Ae(e),null;case 5:du(e);var i=qn(ir.current);if(n=e.type,t!==null&&e.stateNode!=null)zm(t,e,n,s,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(C(166));return Ae(e),null}if(t=qn(Lt.current),Ur(e)){s=e.stateNode,n=e.type;var r=e.memoizedProps;switch(s[Rt]=e,s[nr]=r,t=(e.mode&1)!==0,n){case"dialog":ie("cancel",s),ie("close",s);break;case"iframe":case"object":case"embed":ie("load",s);break;case"video":case"audio":for(i=0;i<_i.length;i++)ie(_i[i],s);break;case"source":ie("error",s);break;case"img":case"image":case"link":ie("error",s),ie("load",s);break;case"details":ie("toggle",s);break;case"input":ld(s,r),ie("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!r.multiple},ie("invalid",s);break;case"textarea":ud(s,r),ie("invalid",s)}Il(n,r),i=null;for(var o in r)if(r.hasOwnProperty(o)){var a=r[o];o==="children"?typeof a=="string"?s.textContent!==a&&(r.suppressHydrationWarning!==!0&&Br(s.textContent,a,t),i=["children",a]):typeof a=="number"&&s.textContent!==""+a&&(r.suppressHydrationWarning!==!0&&Br(s.textContent,a,t),i=["children",""+a]):qi.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ie("scroll",s)}switch(n){case"input":Ar(s),cd(s,r,!0);break;case"textarea":Ar(s),dd(s);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(s.onclick=Fo)}s=i,e.updateQueue=s,s!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=fp(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof s.is=="string"?t=o.createElement(n,{is:s.is}):(t=o.createElement(n),n==="select"&&(o=t,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):t=o.createElementNS(t,n),t[Rt]=e,t[nr]=s,Im(t,e,!1,!1),e.stateNode=t;e:{switch(o=zl(n,s),n){case"dialog":ie("cancel",t),ie("close",t),i=s;break;case"iframe":case"object":case"embed":ie("load",t),i=s;break;case"video":case"audio":for(i=0;i<_i.length;i++)ie(_i[i],t);i=s;break;case"source":ie("error",t),i=s;break;case"img":case"image":case"link":ie("error",t),ie("load",t),i=s;break;case"details":ie("toggle",t),i=s;break;case"input":ld(t,s),i=Ol(t,s),ie("invalid",t);break;case"option":i=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},i=fe({},s,{value:void 0}),ie("invalid",t);break;case"textarea":ud(t,s),i=Dl(t,s),ie("invalid",t);break;default:i=s}Il(n,i),a=i;for(r in a)if(a.hasOwnProperty(r)){var l=a[r];r==="style"?gp(t,l):r==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&pp(t,l)):r==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Gi(t,l):typeof l=="number"&&Gi(t,""+l):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(qi.hasOwnProperty(r)?l!=null&&r==="onScroll"&&ie("scroll",t):l!=null&&Uc(t,r,l,o))}switch(n){case"input":Ar(t),cd(t,s,!1);break;case"textarea":Ar(t),dd(t);break;case"option":s.value!=null&&t.setAttribute("value",""+En(s.value));break;case"select":t.multiple=!!s.multiple,r=s.value,r!=null?Ns(t,!!s.multiple,r,!1):s.defaultValue!=null&&Ns(t,!!s.multiple,s.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Fo)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ae(e),null;case 6:if(t&&e.stateNode!=null)Fm(t,e,t.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(C(166));if(n=qn(ir.current),qn(Lt.current),Ur(e)){if(s=e.stateNode,n=e.memoizedProps,s[Rt]=e,(r=s.nodeValue!==n)&&(t=st,t!==null))switch(t.tag){case 3:Br(s.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Br(s.nodeValue,n,(t.mode&1)!==0)}r&&(e.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Rt]=e,e.stateNode=s}return Ae(e),null;case 13:if(ae(de),s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(le&&nt!==null&&e.mode&1&&!(e.flags&128))sm(),$s(),e.flags|=98560,r=!1;else if(r=Ur(e),s!==null&&s.dehydrated!==null){if(t===null){if(!r)throw Error(C(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(C(317));r[Rt]=e}else $s(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ae(e),r=!1}else wt!==null&&(xc(wt),wt=null),r=!0;if(!r)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(s=s!==null,s!==(t!==null&&t.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(t===null||de.current&1?ke===0&&(ke=3):Su())),e.updateQueue!==null&&(e.flags|=4),Ae(e),null);case 4:return Us(),uc(t,e),t===null&&er(e.stateNode.containerInfo),Ae(e),null;case 10:return au(e.type._context),Ae(e),null;case 17:return Je(e.type)&&$o(),Ae(e),null;case 19:if(ae(de),r=e.memoizedState,r===null)return Ae(e),null;if(s=(e.flags&128)!==0,o=r.rendering,o===null)if(s)ci(r,!1);else{if(ke!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Go(t),o!==null){for(e.flags|=128,ci(r,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=n,n=e.child;n!==null;)r=n,t=s,r.flags&=14680066,o=r.alternate,o===null?(r.childLanes=0,r.lanes=t,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,t=o.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return te(de,de.current&1|2),e.child}t=t.sibling}r.tail!==null&&ye()>Vs&&(e.flags|=128,s=!0,ci(r,!1),e.lanes=4194304)}else{if(!s)if(t=Go(o),t!==null){if(e.flags|=128,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ci(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!le)return Ae(e),null}else 2*ye()-r.renderingStartTime>Vs&&n!==1073741824&&(e.flags|=128,s=!0,ci(r,!1),e.lanes=4194304);r.isBackwards?(o.sibling=e.child,e.child=o):(n=r.last,n!==null?n.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=ye(),e.sibling=null,n=de.current,te(de,s?n&1|2:n&1),e):(Ae(e),null);case 22:case 23:return ku(),s=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?tt&1073741824&&(Ae(e),e.subtreeFlags&6&&(e.flags|=8192)):Ae(e),null;case 24:return null;case 25:return null}throw Error(C(156,e.tag))}function Ox(t,e){switch(su(e),e.tag){case 1:return Je(e.type)&&$o(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Us(),ae(Qe),ae(ze),hu(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return du(e),null;case 13:if(ae(de),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(C(340));$s()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ae(de),null;case 4:return Us(),null;case 10:return au(e.type._context),null;case 22:case 23:return ku(),null;case 24:return null;default:return null}}var Wr=!1,De=!1,Ax=typeof WeakSet=="function"?WeakSet:Set,T=null;function Cs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){pe(t,e,s)}else n.current=null}function dc(t,e,n){try{n()}catch(s){pe(t,e,s)}}var eh=!1;function Rx(t,e){if(Kl=Lo,t=Vp(),tu(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var i=s.anchorOffset,r=s.focusNode;s=s.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==r||s!==0&&h.nodeType!==3||(l=o+s),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++c===i&&(a=o),f===r&&++d===s&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yl={focusedElem:t,selectionRange:n},Lo=!1,T=e;T!==null;)if(e=T,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,T=t;else for(;T!==null;){e=T;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,b=y.memoizedState,m=e.stateNode,g=m.getSnapshotBeforeUpdate(e.elementType===e.type?x:vt(e.type,x),b);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(_){pe(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,T=t;break}T=e.return}return y=eh,eh=!1,y}function Ri(t,e,n){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&t)===t){var r=i.destroy;i.destroy=void 0,r!==void 0&&dc(e,n,r)}i=i.next}while(i!==s)}}function va(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var s=n.create;n.destroy=s()}n=n.next}while(n!==e)}}function hc(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function $m(t){var e=t.alternate;e!==null&&(t.alternate=null,$m(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Rt],delete e[nr],delete e[Jl],delete e[gx],delete e[yx])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Bm(t){return t.tag===5||t.tag===3||t.tag===4}function th(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Bm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function fc(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Fo));else if(s!==4&&(t=t.child,t!==null))for(fc(t,e,n),t=t.sibling;t!==null;)fc(t,e,n),t=t.sibling}function pc(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(t=t.child,t!==null))for(pc(t,e,n),t=t.sibling;t!==null;)pc(t,e,n),t=t.sibling}var Ne=null,bt=!1;function tn(t,e,n){for(n=n.child;n!==null;)Um(t,e,n),n=n.sibling}function Um(t,e,n){if(Dt&&typeof Dt.onCommitFiberUnmount=="function")try{Dt.onCommitFiberUnmount(da,n)}catch{}switch(n.tag){case 5:De||Cs(n,e);case 6:var s=Ne,i=bt;Ne=null,tn(t,e,n),Ne=s,bt=i,Ne!==null&&(bt?(t=Ne,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ne.removeChild(n.stateNode));break;case 18:Ne!==null&&(bt?(t=Ne,n=n.stateNode,t.nodeType===8?el(t.parentNode,n):t.nodeType===1&&el(t,n),Qi(t)):el(Ne,n.stateNode));break;case 4:s=Ne,i=bt,Ne=n.stateNode.containerInfo,bt=!0,tn(t,e,n),Ne=s,bt=i;break;case 0:case 11:case 14:case 15:if(!De&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){i=s=s.next;do{var r=i,o=r.destroy;r=r.tag,o!==void 0&&(r&2||r&4)&&dc(n,e,o),i=i.next}while(i!==s)}tn(t,e,n);break;case 1:if(!De&&(Cs(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(a){pe(n,e,a)}tn(t,e,n);break;case 21:tn(t,e,n);break;case 22:n.mode&1?(De=(s=De)||n.memoizedState!==null,tn(t,e,n),De=s):tn(t,e,n);break;default:tn(t,e,n)}}function nh(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Ax),e.forEach(function(s){var i=Hx.bind(null,t,s);n.has(s)||(n.add(s),s.then(i,i))})}}function xt(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var i=n[s];try{var r=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ne=a.stateNode,bt=!1;break e;case 3:Ne=a.stateNode.containerInfo,bt=!0;break e;case 4:Ne=a.stateNode.containerInfo,bt=!0;break e}a=a.return}if(Ne===null)throw Error(C(160));Um(r,o,i),Ne=null,bt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){pe(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Hm(e,t),e=e.sibling}function Hm(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xt(e,t),Pt(t),s&4){try{Ri(3,t,t.return),va(3,t)}catch(x){pe(t,t.return,x)}try{Ri(5,t,t.return)}catch(x){pe(t,t.return,x)}}break;case 1:xt(e,t),Pt(t),s&512&&n!==null&&Cs(n,n.return);break;case 5:if(xt(e,t),Pt(t),s&512&&n!==null&&Cs(n,n.return),t.flags&32){var i=t.stateNode;try{Gi(i,"")}catch(x){pe(t,t.return,x)}}if(s&4&&(i=t.stateNode,i!=null)){var r=t.memoizedProps,o=n!==null?n.memoizedProps:r,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&r.type==="radio"&&r.name!=null&&dp(i,r),zl(a,o);var c=zl(a,r);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?gp(i,h):d==="dangerouslySetInnerHTML"?pp(i,h):d==="children"?Gi(i,h):Uc(i,d,h,c)}switch(a){case"input":Al(i,r);break;case"textarea":hp(i,r);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!r.multiple;var p=r.value;p!=null?Ns(i,!!r.multiple,p,!1):f!==!!r.multiple&&(r.defaultValue!=null?Ns(i,!!r.multiple,r.defaultValue,!0):Ns(i,!!r.multiple,r.multiple?[]:"",!1))}i[nr]=r}catch(x){pe(t,t.return,x)}}break;case 6:if(xt(e,t),Pt(t),s&4){if(t.stateNode===null)throw Error(C(162));i=t.stateNode,r=t.memoizedProps;try{i.nodeValue=r}catch(x){pe(t,t.return,x)}}break;case 3:if(xt(e,t),Pt(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Qi(e.containerInfo)}catch(x){pe(t,t.return,x)}break;case 4:xt(e,t),Pt(t);break;case 13:xt(e,t),Pt(t),i=t.child,i.flags&8192&&(r=i.memoizedState!==null,i.stateNode.isHidden=r,!r||i.alternate!==null&&i.alternate.memoizedState!==null||(_u=ye())),s&4&&nh(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(De=(c=De)||d,xt(e,t),De=c):xt(e,t),Pt(t),s&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(T=t,d=t.child;d!==null;){for(h=T=d;T!==null;){switch(f=T,p=f.child,f.tag){case 0:case 11:case 14:case 15:Ri(4,f,f.return);break;case 1:Cs(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){s=f,n=f.return;try{e=s,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(x){pe(s,n,x)}}break;case 5:Cs(f,f.return);break;case 22:if(f.memoizedState!==null){ih(h);continue}}p!==null?(p.return=f,T=p):ih(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(r=i.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=mp("display",o))}catch(x){pe(t,t.return,x)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(x){pe(t,t.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:xt(e,t),Pt(t),s&4&&nh(t);break;case 21:break;default:xt(e,t),Pt(t)}}function Pt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Bm(n)){var s=n;break e}n=n.return}throw Error(C(160))}switch(s.tag){case 5:var i=s.stateNode;s.flags&32&&(Gi(i,""),s.flags&=-33);var r=th(t);pc(t,r,i);break;case 3:case 4:var o=s.stateNode.containerInfo,a=th(t);fc(t,a,o);break;default:throw Error(C(161))}}catch(l){pe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Dx(t,e,n){T=t,Vm(t)}function Vm(t,e,n){for(var s=(t.mode&1)!==0;T!==null;){var i=T,r=i.child;if(i.tag===22&&s){var o=i.memoizedState!==null||Wr;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||De;a=Wr;var c=De;if(Wr=o,(De=l)&&!c)for(T=i;T!==null;)o=T,l=o.child,o.tag===22&&o.memoizedState!==null?rh(i):l!==null?(l.return=o,T=l):rh(i);for(;r!==null;)T=r,Vm(r),r=r.sibling;T=i,Wr=a,De=c}sh(t)}else i.subtreeFlags&8772&&r!==null?(r.return=i,T=r):sh(t)}}function sh(t){for(;T!==null;){var e=T;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:De||va(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!De)if(n===null)s.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:vt(e.type,n.memoizedProps);s.componentDidUpdate(i,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var r=e.updateQueue;r!==null&&Bd(e,r,s);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Bd(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Qi(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}De||e.flags&512&&hc(e)}catch(f){pe(e,e.return,f)}}if(e===t){T=null;break}if(n=e.sibling,n!==null){n.return=e.return,T=n;break}T=e.return}}function ih(t){for(;T!==null;){var e=T;if(e===t){T=null;break}var n=e.sibling;if(n!==null){n.return=e.return,T=n;break}T=e.return}}function rh(t){for(;T!==null;){var e=T;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{va(4,e)}catch(l){pe(e,n,l)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var i=e.return;try{s.componentDidMount()}catch(l){pe(e,i,l)}}var r=e.return;try{hc(e)}catch(l){pe(e,r,l)}break;case 5:var o=e.return;try{hc(e)}catch(l){pe(e,o,l)}}}catch(l){pe(e,e.return,l)}if(e===t){T=null;break}var a=e.sibling;if(a!==null){a.return=e.return,T=a;break}T=e.return}}var Lx=Math.ceil,Xo=Zt.ReactCurrentDispatcher,vu=Zt.ReactCurrentOwner,ht=Zt.ReactCurrentBatchConfig,V=0,Pe=null,be=null,Me=0,tt=0,Es=Tn(0),ke=0,lr=null,ts=0,ba=0,bu=0,Di=null,Ge=null,_u=0,Vs=1/0,Bt=null,Qo=!1,mc=null,kn=null,qr=!1,pn=null,Jo=0,Li=0,gc=null,wo=-1,ko=0;function Be(){return V&6?ye():wo!==-1?wo:wo=ye()}function Sn(t){return t.mode&1?V&2&&Me!==0?Me&-Me:vx.transition!==null?(ko===0&&(ko=Pp()),ko):(t=Q,t!==0||(t=window.event,t=t===void 0?16:Dp(t.type)),t):1}function St(t,e,n,s){if(50<Li)throw Li=0,gc=null,Error(C(185));wr(t,n,s),(!(V&2)||t!==Pe)&&(t===Pe&&(!(V&2)&&(ba|=n),ke===4&&dn(t,Me)),Ze(t,s),n===1&&V===0&&!(e.mode&1)&&(Vs=ye()+500,ga&&On()))}function Ze(t,e){var n=t.callbackNode;vy(t,e);var s=Do(t,t===Pe?Me:0);if(s===0)n!==null&&pd(n),t.callbackNode=null,t.callbackPriority=0;else if(e=s&-s,t.callbackPriority!==e){if(n!=null&&pd(n),e===1)t.tag===0?xx(oh.bind(null,t)):em(oh.bind(null,t)),px(function(){!(V&6)&&On()}),n=null;else{switch(Np(s)){case 1:n=Gc;break;case 4:n=Cp;break;case 16:n=Ro;break;case 536870912:n=Ep;break;default:n=Ro}n=Jm(n,Wm.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Wm(t,e){if(wo=-1,ko=0,V&6)throw Error(C(327));var n=t.callbackNode;if(Rs()&&t.callbackNode!==n)return null;var s=Do(t,t===Pe?Me:0);if(s===0)return null;if(s&30||s&t.expiredLanes||e)e=Zo(t,s);else{e=s;var i=V;V|=2;var r=Gm();(Pe!==t||Me!==e)&&(Bt=null,Vs=ye()+500,Kn(t,e));do try{Fx();break}catch(a){qm(t,a)}while(!0);ou(),Xo.current=r,V=i,be!==null?e=0:(Pe=null,Me=0,e=ke)}if(e!==0){if(e===2&&(i=Hl(t),i!==0&&(s=i,e=yc(t,i))),e===1)throw n=lr,Kn(t,0),dn(t,s),Ze(t,ye()),n;if(e===6)dn(t,s);else{if(i=t.current.alternate,!(s&30)&&!Ix(i)&&(e=Zo(t,s),e===2&&(r=Hl(t),r!==0&&(s=r,e=yc(t,r))),e===1))throw n=lr,Kn(t,0),dn(t,s),Ze(t,ye()),n;switch(t.finishedWork=i,t.finishedLanes=s,e){case 0:case 1:throw Error(C(345));case 2:Fn(t,Ge,Bt);break;case 3:if(dn(t,s),(s&130023424)===s&&(e=_u+500-ye(),10<e)){if(Do(t,0)!==0)break;if(i=t.suspendedLanes,(i&s)!==s){Be(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ql(Fn.bind(null,t,Ge,Bt),e);break}Fn(t,Ge,Bt);break;case 4:if(dn(t,s),(s&4194240)===s)break;for(e=t.eventTimes,i=-1;0<s;){var o=31-kt(s);r=1<<o,o=e[o],o>i&&(i=o),s&=~r}if(s=i,s=ye()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Lx(s/1960))-s,10<s){t.timeoutHandle=Ql(Fn.bind(null,t,Ge,Bt),s);break}Fn(t,Ge,Bt);break;case 5:Fn(t,Ge,Bt);break;default:throw Error(C(329))}}}return Ze(t,ye()),t.callbackNode===n?Wm.bind(null,t):null}function yc(t,e){var n=Di;return t.current.memoizedState.isDehydrated&&(Kn(t,e).flags|=256),t=Zo(t,e),t!==2&&(e=Ge,Ge=n,e!==null&&xc(e)),t}function xc(t){Ge===null?Ge=t:Ge.push.apply(Ge,t)}function Ix(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var i=n[s],r=i.getSnapshot;i=i.value;try{if(!jt(r(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function dn(t,e){for(e&=~bu,e&=~ba,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-kt(e),s=1<<n;t[n]=-1,e&=~s}}function oh(t){if(V&6)throw Error(C(327));Rs();var e=Do(t,0);if(!(e&1))return Ze(t,ye()),null;var n=Zo(t,e);if(t.tag!==0&&n===2){var s=Hl(t);s!==0&&(e=s,n=yc(t,s))}if(n===1)throw n=lr,Kn(t,0),dn(t,e),Ze(t,ye()),n;if(n===6)throw Error(C(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Fn(t,Ge,Bt),Ze(t,ye()),null}function wu(t,e){var n=V;V|=1;try{return t(e)}finally{V=n,V===0&&(Vs=ye()+500,ga&&On())}}function ns(t){pn!==null&&pn.tag===0&&!(V&6)&&Rs();var e=V;V|=1;var n=ht.transition,s=Q;try{if(ht.transition=null,Q=1,t)return t()}finally{Q=s,ht.transition=n,V=e,!(V&6)&&On()}}function ku(){tt=Es.current,ae(Es)}function Kn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,fx(n)),be!==null)for(n=be.return;n!==null;){var s=n;switch(su(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&$o();break;case 3:Us(),ae(Qe),ae(ze),hu();break;case 5:du(s);break;case 4:Us();break;case 13:ae(de);break;case 19:ae(de);break;case 10:au(s.type._context);break;case 22:case 23:ku()}n=n.return}if(Pe=t,be=t=jn(t.current,null),Me=tt=e,ke=0,lr=null,bu=ba=ts=0,Ge=Di=null,Wn!==null){for(e=0;e<Wn.length;e++)if(n=Wn[e],s=n.interleaved,s!==null){n.interleaved=null;var i=s.next,r=n.pending;if(r!==null){var o=r.next;r.next=i,s.next=o}n.pending=s}Wn=null}return t}function qm(t,e){do{var n=be;try{if(ou(),vo.current=Yo,Ko){for(var s=he.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}Ko=!1}if(es=0,Ee=_e=he=null,Ai=!1,rr=0,vu.current=null,n===null||n.return===null){ke=1,lr=e,be=null;break}e:{var r=t,o=n.return,a=n,l=e;if(e=Me,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Gd(o);if(p!==null){p.flags&=-257,Kd(p,o,a,r,e),p.mode&1&&qd(r,c,e),e=p,l=c;var y=e.updateQueue;if(y===null){var x=new Set;x.add(l),e.updateQueue=x}else y.add(l);break e}else{if(!(e&1)){qd(r,c,e),Su();break e}l=Error(C(426))}}else if(le&&a.mode&1){var b=Gd(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Kd(b,o,a,r,e),iu(Hs(l,a));break e}}r=l=Hs(l,a),ke!==4&&(ke=2),Di===null?Di=[r]:Di.push(r),r=o;do{switch(r.tag){case 3:r.flags|=65536,e&=-e,r.lanes|=e;var m=Nm(r,l,e);$d(r,m);break e;case 1:a=l;var g=r.type,v=r.stateNode;if(!(r.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(kn===null||!kn.has(v)))){r.flags|=65536,e&=-e,r.lanes|=e;var _=Mm(r,a,e);$d(r,_);break e}}r=r.return}while(r!==null)}Ym(n)}catch(w){e=w,be===n&&n!==null&&(be=n=n.return);continue}break}while(!0)}function Gm(){var t=Xo.current;return Xo.current=Yo,t===null?Yo:t}function Su(){(ke===0||ke===3||ke===2)&&(ke=4),Pe===null||!(ts&268435455)&&!(ba&268435455)||dn(Pe,Me)}function Zo(t,e){var n=V;V|=2;var s=Gm();(Pe!==t||Me!==e)&&(Bt=null,Kn(t,e));do try{zx();break}catch(i){qm(t,i)}while(!0);if(ou(),V=n,Xo.current=s,be!==null)throw Error(C(261));return Pe=null,Me=0,ke}function zx(){for(;be!==null;)Km(be)}function Fx(){for(;be!==null&&!uy();)Km(be)}function Km(t){var e=Qm(t.alternate,t,tt);t.memoizedProps=t.pendingProps,e===null?Ym(t):be=e,vu.current=null}function Ym(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Ox(n,e),n!==null){n.flags&=32767,be=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ke=6,be=null;return}}else if(n=Tx(n,e,tt),n!==null){be=n;return}if(e=e.sibling,e!==null){be=e;return}be=e=t}while(e!==null);ke===0&&(ke=5)}function Fn(t,e,n){var s=Q,i=ht.transition;try{ht.transition=null,Q=1,$x(t,e,n,s)}finally{ht.transition=i,Q=s}return null}function $x(t,e,n,s){do Rs();while(pn!==null);if(V&6)throw Error(C(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(C(177));t.callbackNode=null,t.callbackPriority=0;var r=n.lanes|n.childLanes;if(by(t,r),t===Pe&&(be=Pe=null,Me=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||qr||(qr=!0,Jm(Ro,function(){return Rs(),null})),r=(n.flags&15990)!==0,n.subtreeFlags&15990||r){r=ht.transition,ht.transition=null;var o=Q;Q=1;var a=V;V|=4,vu.current=null,Rx(t,n),Hm(n,t),ox(Yl),Lo=!!Kl,Yl=Kl=null,t.current=n,Dx(n),dy(),V=a,Q=o,ht.transition=r}else t.current=n;if(qr&&(qr=!1,pn=t,Jo=i),r=t.pendingLanes,r===0&&(kn=null),py(n.stateNode),Ze(t,ye()),e!==null)for(s=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],s(i.value,{componentStack:i.stack,digest:i.digest});if(Qo)throw Qo=!1,t=mc,mc=null,t;return Jo&1&&t.tag!==0&&Rs(),r=t.pendingLanes,r&1?t===gc?Li++:(Li=0,gc=t):Li=0,On(),null}function Rs(){if(pn!==null){var t=Np(Jo),e=ht.transition,n=Q;try{if(ht.transition=null,Q=16>t?16:t,pn===null)var s=!1;else{if(t=pn,pn=null,Jo=0,V&6)throw Error(C(331));var i=V;for(V|=4,T=t.current;T!==null;){var r=T,o=r.child;if(T.flags&16){var a=r.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(T=c;T!==null;){var d=T;switch(d.tag){case 0:case 11:case 15:Ri(8,d,r)}var h=d.child;if(h!==null)h.return=d,T=h;else for(;T!==null;){d=T;var f=d.sibling,p=d.return;if($m(d),d===c){T=null;break}if(f!==null){f.return=p,T=f;break}T=p}}}var y=r.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var b=x.sibling;x.sibling=null,x=b}while(x!==null)}}T=r}}if(r.subtreeFlags&2064&&o!==null)o.return=r,T=o;else e:for(;T!==null;){if(r=T,r.flags&2048)switch(r.tag){case 0:case 11:case 15:Ri(9,r,r.return)}var m=r.sibling;if(m!==null){m.return=r.return,T=m;break e}T=r.return}}var g=t.current;for(T=g;T!==null;){o=T;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,T=v;else e:for(o=g;T!==null;){if(a=T,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:va(9,a)}}catch(w){pe(a,a.return,w)}if(a===o){T=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,T=_;break e}T=a.return}}if(V=i,On(),Dt&&typeof Dt.onPostCommitFiberRoot=="function")try{Dt.onPostCommitFiberRoot(da,t)}catch{}s=!0}return s}finally{Q=n,ht.transition=e}}return!1}function ah(t,e,n){e=Hs(n,e),e=Nm(t,e,1),t=wn(t,e,1),e=Be(),t!==null&&(wr(t,1,e),Ze(t,e))}function pe(t,e,n){if(t.tag===3)ah(t,t,n);else for(;e!==null;){if(e.tag===3){ah(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(kn===null||!kn.has(s))){t=Hs(n,t),t=Mm(e,t,1),e=wn(e,t,1),t=Be(),e!==null&&(wr(e,1,t),Ze(e,t));break}}e=e.return}}function Bx(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),e=Be(),t.pingedLanes|=t.suspendedLanes&n,Pe===t&&(Me&n)===n&&(ke===4||ke===3&&(Me&130023424)===Me&&500>ye()-_u?Kn(t,0):bu|=n),Ze(t,e)}function Xm(t,e){e===0&&(t.mode&1?(e=Lr,Lr<<=1,!(Lr&130023424)&&(Lr=4194304)):e=1);var n=Be();t=Qt(t,e),t!==null&&(wr(t,e,n),Ze(t,n))}function Ux(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Xm(t,n)}function Hx(t,e){var n=0;switch(t.tag){case 13:var s=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(C(314))}s!==null&&s.delete(e),Xm(t,n)}var Qm;Qm=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Qe.current)Xe=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Xe=!1,Mx(t,e,n);Xe=!!(t.flags&131072)}else Xe=!1,le&&e.flags&1048576&&tm(e,Ho,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;_o(t,e),t=e.pendingProps;var i=Fs(e,ze.current);As(e,n),i=pu(null,e,s,t,i,n);var r=mu();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Je(s)?(r=!0,Bo(e)):r=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,cu(e),i.updater=xa,e.stateNode=i,i._reactInternals=e,ic(e,s,t,n),e=ac(null,e,s,!0,r,n)):(e.tag=0,le&&r&&nu(e),$e(null,e,i,n),e=e.child),e;case 16:s=e.elementType;e:{switch(_o(t,e),t=e.pendingProps,i=s._init,s=i(s._payload),e.type=s,i=e.tag=Wx(s),t=vt(s,t),i){case 0:e=oc(null,e,s,t,n);break e;case 1:e=Qd(null,e,s,t,n);break e;case 11:e=Yd(null,e,s,t,n);break e;case 14:e=Xd(null,e,s,vt(s.type,t),n);break e}throw Error(C(306,s,""))}return e;case 0:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:vt(s,i),oc(t,e,s,i,n);case 1:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:vt(s,i),Qd(t,e,s,i,n);case 3:e:{if(Rm(e),t===null)throw Error(C(387));s=e.pendingProps,r=e.memoizedState,i=r.element,am(t,e),qo(e,s,null,n);var o=e.memoizedState;if(s=o.element,r.isDehydrated)if(r={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){i=Hs(Error(C(423)),e),e=Jd(t,e,s,n,i);break e}else if(s!==i){i=Hs(Error(C(424)),e),e=Jd(t,e,s,n,i);break e}else for(nt=_n(e.stateNode.containerInfo.firstChild),st=e,le=!0,wt=null,n=rm(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if($s(),s===i){e=Jt(t,e,n);break e}$e(t,e,s,n)}e=e.child}return e;case 5:return lm(e),t===null&&tc(e),s=e.type,i=e.pendingProps,r=t!==null?t.memoizedProps:null,o=i.children,Xl(s,i)?o=null:r!==null&&Xl(s,r)&&(e.flags|=32),Am(t,e),$e(t,e,o,n),e.child;case 6:return t===null&&tc(e),null;case 13:return Dm(t,e,n);case 4:return uu(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=Bs(e,null,s,n):$e(t,e,s,n),e.child;case 11:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:vt(s,i),Yd(t,e,s,i,n);case 7:return $e(t,e,e.pendingProps,n),e.child;case 8:return $e(t,e,e.pendingProps.children,n),e.child;case 12:return $e(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(s=e.type._context,i=e.pendingProps,r=e.memoizedProps,o=i.value,te(Vo,s._currentValue),s._currentValue=o,r!==null)if(jt(r.value,o)){if(r.children===i.children&&!Qe.current){e=Jt(t,e,n);break e}}else for(r=e.child,r!==null&&(r.return=e);r!==null;){var a=r.dependencies;if(a!==null){o=r.child;for(var l=a.firstContext;l!==null;){if(l.context===s){if(r.tag===1){l=Kt(-1,n&-n),l.tag=2;var c=r.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}r.lanes|=n,l=r.alternate,l!==null&&(l.lanes|=n),nc(r.return,n,e),a.lanes|=n;break}l=l.next}}else if(r.tag===10)o=r.type===e.type?null:r.child;else if(r.tag===18){if(o=r.return,o===null)throw Error(C(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),nc(o,n,e),o=r.sibling}else o=r.child;if(o!==null)o.return=r;else for(o=r;o!==null;){if(o===e){o=null;break}if(r=o.sibling,r!==null){r.return=o.return,o=r;break}o=o.return}r=o}$e(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,s=e.pendingProps.children,As(e,n),i=pt(i),s=s(i),e.flags|=1,$e(t,e,s,n),e.child;case 14:return s=e.type,i=vt(s,e.pendingProps),i=vt(s.type,i),Xd(t,e,s,i,n);case 15:return Tm(t,e,e.type,e.pendingProps,n);case 17:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:vt(s,i),_o(t,e),e.tag=1,Je(s)?(t=!0,Bo(e)):t=!1,As(e,n),Pm(e,s,i),ic(e,s,i,n),ac(null,e,s,!0,t,n);case 19:return Lm(t,e,n);case 22:return Om(t,e,n)}throw Error(C(156,e.tag))};function Jm(t,e){return jp(t,e)}function Vx(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ut(t,e,n,s){return new Vx(t,e,n,s)}function ju(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Wx(t){if(typeof t=="function")return ju(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Vc)return 11;if(t===Wc)return 14}return 2}function jn(t,e){var n=t.alternate;return n===null?(n=ut(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function So(t,e,n,s,i,r){var o=2;if(s=t,typeof t=="function")ju(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ys:return Yn(n.children,i,r,e);case Hc:o=8,i|=8;break;case Pl:return t=ut(12,n,e,i|2),t.elementType=Pl,t.lanes=r,t;case Nl:return t=ut(13,n,e,i),t.elementType=Nl,t.lanes=r,t;case Ml:return t=ut(19,n,e,i),t.elementType=Ml,t.lanes=r,t;case lp:return _a(n,i,r,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case op:o=10;break e;case ap:o=9;break e;case Vc:o=11;break e;case Wc:o=14;break e;case an:o=16,s=null;break e}throw Error(C(130,t==null?t:typeof t,""))}return e=ut(o,n,e,i),e.elementType=t,e.type=s,e.lanes=r,e}function Yn(t,e,n,s){return t=ut(7,t,s,e),t.lanes=n,t}function _a(t,e,n,s){return t=ut(22,t,s,e),t.elementType=lp,t.lanes=n,t.stateNode={isHidden:!1},t}function ll(t,e,n){return t=ut(6,t,null,e),t.lanes=n,t}function cl(t,e,n){return e=ut(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function qx(t,e,n,s,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ha(0),this.expirationTimes=Ha(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ha(0),this.identifierPrefix=s,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Cu(t,e,n,s,i,r,o,a,l){return t=new qx(t,e,n,a,l),e===1?(e=1,r===!0&&(e|=8)):e=0,r=ut(3,null,null,e),t.current=r,r.stateNode=t,r.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},cu(r),t}function Gx(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:gs,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}function Zm(t){if(!t)return Pn;t=t._reactInternals;e:{if(os(t)!==t||t.tag!==1)throw Error(C(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Je(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(C(171))}if(t.tag===1){var n=t.type;if(Je(n))return Zp(t,n,e)}return e}function eg(t,e,n,s,i,r,o,a,l){return t=Cu(n,s,!0,t,i,r,o,a,l),t.context=Zm(null),n=t.current,s=Be(),i=Sn(n),r=Kt(s,i),r.callback=e??null,wn(n,r,i),t.current.lanes=i,wr(t,i,s),Ze(t,s),t}function wa(t,e,n,s){var i=e.current,r=Be(),o=Sn(i);return n=Zm(n),e.context===null?e.context=n:e.pendingContext=n,e=Kt(r,o),e.payload={element:t},s=s===void 0?null:s,s!==null&&(e.callback=s),t=wn(i,e,o),t!==null&&(St(t,i,o,r),xo(t,i,o)),o}function ea(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function lh(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Eu(t,e){lh(t,e),(t=t.alternate)&&lh(t,e)}function Kx(){return null}var tg=typeof reportError=="function"?reportError:function(t){console.error(t)};function Pu(t){this._internalRoot=t}ka.prototype.render=Pu.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(C(409));wa(t,e,null,null)};ka.prototype.unmount=Pu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ns(function(){wa(null,t,null,null)}),e[Xt]=null}};function ka(t){this._internalRoot=t}ka.prototype.unstable_scheduleHydration=function(t){if(t){var e=Op();t={blockedOn:null,target:t,priority:e};for(var n=0;n<un.length&&e!==0&&e<un[n].priority;n++);un.splice(n,0,t),n===0&&Rp(t)}};function Nu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Sa(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ch(){}function Yx(t,e,n,s,i){if(i){if(typeof s=="function"){var r=s;s=function(){var c=ea(o);r.call(c)}}var o=eg(e,s,t,0,null,!1,!1,"",ch);return t._reactRootContainer=o,t[Xt]=o.current,er(t.nodeType===8?t.parentNode:t),ns(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof s=="function"){var a=s;s=function(){var c=ea(l);a.call(c)}}var l=Cu(t,0,!1,null,null,!1,!1,"",ch);return t._reactRootContainer=l,t[Xt]=l.current,er(t.nodeType===8?t.parentNode:t),ns(function(){wa(e,l,n,s)}),l}function ja(t,e,n,s,i){var r=n._reactRootContainer;if(r){var o=r;if(typeof i=="function"){var a=i;i=function(){var l=ea(o);a.call(l)}}wa(e,o,t,i)}else o=Yx(n,e,t,i,s);return ea(o)}Mp=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=bi(e.pendingLanes);n!==0&&(Kc(e,n|1),Ze(e,ye()),!(V&6)&&(Vs=ye()+500,On()))}break;case 13:ns(function(){var s=Qt(t,1);if(s!==null){var i=Be();St(s,t,1,i)}}),Eu(t,1)}};Yc=function(t){if(t.tag===13){var e=Qt(t,134217728);if(e!==null){var n=Be();St(e,t,134217728,n)}Eu(t,134217728)}};Tp=function(t){if(t.tag===13){var e=Sn(t),n=Qt(t,e);if(n!==null){var s=Be();St(n,t,e,s)}Eu(t,e)}};Op=function(){return Q};Ap=function(t,e){var n=Q;try{return Q=t,e()}finally{Q=n}};$l=function(t,e,n){switch(e){case"input":if(Al(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var i=ma(s);if(!i)throw Error(C(90));up(s),Al(s,i)}}}break;case"textarea":hp(t,n);break;case"select":e=n.value,e!=null&&Ns(t,!!n.multiple,e,!1)}};vp=wu;bp=ns;var Xx={usingClientEntryPoint:!1,Events:[Sr,_s,ma,yp,xp,wu]},ui={findFiberByHostInstance:Vn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Qx={bundleType:ui.bundleType,version:ui.version,rendererPackageName:ui.rendererPackageName,rendererConfig:ui.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=kp(t),t===null?null:t.stateNode},findFiberByHostInstance:ui.findFiberByHostInstance||Kx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gr.isDisabled&&Gr.supportsFiber)try{da=Gr.inject(Qx),Dt=Gr}catch{}}rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xx;rt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Nu(e))throw Error(C(200));return Gx(t,e,null,n)};rt.createRoot=function(t,e){if(!Nu(t))throw Error(C(299));var n=!1,s="",i=tg;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Cu(t,1,!1,null,null,n,!1,s,i),t[Xt]=e.current,er(t.nodeType===8?t.parentNode:t),new Pu(e)};rt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(C(188)):(t=Object.keys(t).join(","),Error(C(268,t)));return t=kp(e),t=t===null?null:t.stateNode,t};rt.flushSync=function(t){return ns(t)};rt.hydrate=function(t,e,n){if(!Sa(e))throw Error(C(200));return ja(null,t,e,!0,n)};rt.hydrateRoot=function(t,e,n){if(!Nu(t))throw Error(C(405));var s=n!=null&&n.hydratedSources||null,i=!1,r="",o=tg;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=eg(e,null,t,1,n??null,i,!1,r,o),t[Xt]=e.current,er(t),s)for(t=0;t<s.length;t++)n=s[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ka(e)};rt.render=function(t,e,n){if(!Sa(e))throw Error(C(200));return ja(null,t,e,!1,n)};rt.unmountComponentAtNode=function(t){if(!Sa(t))throw Error(C(40));return t._reactRootContainer?(ns(function(){ja(null,null,t,!1,function(){t._reactRootContainer=null,t[Xt]=null})}),!0):!1};rt.unstable_batchedUpdates=wu;rt.unstable_renderSubtreeIntoContainer=function(t,e,n,s){if(!Sa(n))throw Error(C(200));if(t==null||t._reactInternals===void 0)throw Error(C(38));return ja(t,e,n,!1,s)};rt.version="18.3.1-next-f1338f8080-20240426";function ng(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ng)}catch(t){console.error(t)}}ng(),np.exports=rt;var Jx=np.exports,sg,uh=Jx;sg=uh.createRoot,uh.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Zx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ce=(t,e)=>{const n=O.forwardRef(({color:s="currentColor",size:i=24,strokeWidth:r=2,absoluteStrokeWidth:o,className:a="",children:l,...c},d)=>O.createElement("svg",{ref:d,...Zx,width:i,height:i,stroke:s,strokeWidth:o?Number(r)*24/Number(i):r,className:["lucide",`lucide-${ev(t)}`,a].join(" "),...c},[...e.map(([h,f])=>O.createElement(h,f)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=ce("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=ce("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=ce("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=ce("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=ce("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ca=ce("Euro",[["path",{d:"M4 10h12",key:"1y6xl8"}],["path",{d:"M4 14h9",key:"1loblj"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",key:"1j6lzo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=ce("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=ce("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=ce("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=ce("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=ce("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=ce("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=ce("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=ce("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=ce("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=ce("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=ce("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=ce("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22h0a3.13 3.13 0 0 1-3-3.88Z",key:"s6e0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=ce("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dh=ce("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=ce("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=ce("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=ce("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=ce("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),yv="modulepreload",xv=function(t){return"/"+t},hh={},Ws=function(e,n,s){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=xv(l),l in hh)return;hh[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":yv,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function r(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&r(a.reason);return e().catch(r)})},vv=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ws(async()=>{const{default:s}=await Promise.resolve().then(()=>Js);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)};class Mu extends Error{constructor(e,n="FunctionsError",s){super(e),this.name=n,this.context=s}}class bv extends Mu{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class _v extends Mu{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class wv extends Mu{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var vc;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(vc||(vc={}));var kv=function(t,e,n,s){function i(r){return r instanceof n?r:new n(function(o){o(r)})}return new(n||(n=Promise))(function(r,o){function a(d){try{c(s.next(d))}catch(h){o(h)}}function l(d){try{c(s.throw(d))}catch(h){o(h)}}function c(d){d.done?r(d.value):i(d.value).then(a,l)}c((s=s.apply(t,e||[])).next())})};class Sv{constructor(e,{headers:n={},customFetch:s,region:i=vc.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=vv(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var s;return kv(this,void 0,void 0,function*(){try{const{headers:i,method:r,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${e}`,{method:r||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:c}).catch(y=>{throw new bv(y)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new _v(d);if(!d.ok)throw new wv(d);let f=((s=d.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),p;return f==="application/json"?p=yield d.json():f==="application/octet-stream"?p=yield d.blob():f==="text/event-stream"?p=d:f==="multipart/form-data"?p=yield d.formData():p=yield d.text(),{data:p,error:null}}catch(i){return{data:null,error:i}}})}}var Ke={},Tu={},Ea={},Er={},Pa={},Na={},jv=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},qs=jv();const Cv=qs.fetch,og=qs.fetch.bind(qs),ag=qs.Headers,Ev=qs.Request,Pv=qs.Response,Js=Object.freeze(Object.defineProperty({__proto__:null,Headers:ag,Request:Ev,Response:Pv,default:og,fetch:Cv},Symbol.toStringTag,{value:"Module"})),Nv=C0(Js);var Ma={};Object.defineProperty(Ma,"__esModule",{value:!0});let Mv=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Ma.default=Mv;var lg=ft&&ft.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Na,"__esModule",{value:!0});const Tv=lg(Nv),Ov=lg(Ma);let Av=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Tv.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const s=this.fetch;let i=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async r=>{var o,a,l;let c=null,d=null,h=null,f=r.status,p=r.statusText;if(r.ok){if(this.method!=="HEAD"){const m=await r.text();m===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=m:d=JSON.parse(m))}const x=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),b=(a=r.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");x&&b&&b.length>1&&(h=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const x=await r.text();try{c=JSON.parse(x),Array.isArray(c)&&r.status===404&&(d=[],c=null,f=200,p="OK")}catch{r.status===404&&x===""?(f=204,p="No Content"):c={message:x}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,f=200,p="OK"),c&&this.shouldThrowOnError)throw new Ov.default(c)}return{error:c,data:d,count:h,status:f,statusText:p}});return this.shouldThrowOnError||(i=i.catch(r=>{var o,a,l;return{error:{message:`${(o=r==null?void 0:r.name)!==null&&o!==void 0?o:"FetchError"}: ${r==null?void 0:r.message}`,details:`${(a=r==null?void 0:r.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=r==null?void 0:r.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,n)}};Na.default=Av;var Rv=ft&&ft.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Pa,"__esModule",{value:!0});const Dv=Rv(Na);let Lv=class extends Dv.default{select(e){let n=!1;const s=(e??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:s,foreignTable:i,referencedTable:r=i}={}){const o=r?`${r}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,n,{foreignTable:s,referencedTable:i=s}={}){const r=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(r,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:s=!1,buffers:i=!1,wal:r=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,s?"settings":null,i?"buffers":null,r?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Pa.default=Lv;var Iv=ft&&ft.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Er,"__esModule",{value:!0});const zv=Iv(Pa);let Fv=class extends zv.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const s=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${s})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:s,type:i}={}){let r="";i==="plain"?r="pl":i==="phrase"?r="ph":i==="websearch"&&(r="w");const o=s===void 0?"":`(${s})`;return this.url.searchParams.append(e,`${r}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,s])=>{this.url.searchParams.append(n,`eq.${s}`)}),this}not(e,n,s){return this.url.searchParams.append(e,`not.${n}.${s}`),this}or(e,{foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,n,s){return this.url.searchParams.append(e,`${n}.${s}`),this}};Er.default=Fv;var $v=ft&&ft.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ea,"__esModule",{value:!0});const di=$v(Er);let Bv=class{constructor(e,{headers:n={},schema:s,fetch:i}){this.url=e,this.headers=n,this.schema=s,this.fetch=i}select(e,{head:n=!1,count:s}={}){const i=n?"HEAD":"GET";let r=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",o),s&&(this.headers.Prefer=`count=${s}`),new di.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:s=!0}={}){const i="POST",r=[];if(this.headers.Prefer&&r.push(this.headers.Prefer),n&&r.push(`count=${n}`),s||r.push("missing=default"),this.headers.Prefer=r.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new di.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:s=!1,count:i,defaultToNull:r=!0}={}){const o="POST",a=[`resolution=${s?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),r||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new di.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const s="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new di.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",s=[];return e&&s.push(`count=${e}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new di.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ea.default=Bv;var Ta={},Oa={};Object.defineProperty(Oa,"__esModule",{value:!0});Oa.version=void 0;Oa.version="0.0.0-automated";Object.defineProperty(Ta,"__esModule",{value:!0});Ta.DEFAULT_HEADERS=void 0;const Uv=Oa;Ta.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Uv.version}`};var cg=ft&&ft.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Tu,"__esModule",{value:!0});const Hv=cg(Ea),Vv=cg(Er),Wv=Ta;let qv=class ug{constructor(e,{headers:n={},schema:s,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},Wv.DEFAULT_HEADERS),n),this.schemaName=s,this.fetch=i}from(e){const n=new URL(`${this.url}/${e}`);return new Hv.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new ug(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:s=!1,get:i=!1,count:r}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;s||i?(o=s?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{a.searchParams.append(d,h)})):(o="POST",l=n);const c=Object.assign({},this.headers);return r&&(c.Prefer=`count=${r}`),new Vv.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Tu.default=qv;var Zs=ft&&ft.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ke,"__esModule",{value:!0});Ke.PostgrestError=Ke.PostgrestBuilder=Ke.PostgrestTransformBuilder=Ke.PostgrestFilterBuilder=Ke.PostgrestQueryBuilder=Ke.PostgrestClient=void 0;const dg=Zs(Tu);Ke.PostgrestClient=dg.default;const hg=Zs(Ea);Ke.PostgrestQueryBuilder=hg.default;const fg=Zs(Er);Ke.PostgrestFilterBuilder=fg.default;const pg=Zs(Pa);Ke.PostgrestTransformBuilder=pg.default;const mg=Zs(Na);Ke.PostgrestBuilder=mg.default;const gg=Zs(Ma);Ke.PostgrestError=gg.default;var Gv=Ke.default={PostgrestClient:dg.default,PostgrestQueryBuilder:hg.default,PostgrestFilterBuilder:fg.default,PostgrestTransformBuilder:pg.default,PostgrestBuilder:mg.default,PostgrestError:gg.default};const{PostgrestClient:Kv,PostgrestQueryBuilder:bS,PostgrestFilterBuilder:_S,PostgrestTransformBuilder:wS,PostgrestBuilder:kS,PostgrestError:SS}=Gv,Yv="2.11.2",Xv={"X-Client-Info":`realtime-js/${Yv}`},Qv="1.0.0",yg=1e4,Jv=1e3;var Ds;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ds||(Ds={}));var et;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(et||(et={}));var _t;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(_t||(_t={}));var bc;(function(t){t.websocket="websocket"})(bc||(bc={}));var Hn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Hn||(Hn={}));class Zv{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,n,s)}_decodeBroadcast(e,n,s){const i=n.getUint8(1),r=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=s.decode(e.slice(o,o+i));o=o+i;const l=s.decode(e.slice(o,o+r));o=o+r;const c=JSON.parse(s.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class xg{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ee;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ee||(ee={}));const fh=(t,e,n={})=>{var s;const i=(s=n.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(e).reduce((r,o)=>(r[o]=eb(o,t,e,i),r),{})},eb=(t,e,n,s)=>{const i=e.find(a=>a.name===t),r=i==null?void 0:i.type,o=n[t];return r&&!s.includes(r)?vg(r,o):_c(o)},vg=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return ib(e,n)}switch(t){case ee.bool:return tb(e);case ee.float4:case ee.float8:case ee.int2:case ee.int4:case ee.int8:case ee.numeric:case ee.oid:return nb(e);case ee.json:case ee.jsonb:return sb(e);case ee.timestamp:return rb(e);case ee.abstime:case ee.date:case ee.daterange:case ee.int4range:case ee.int8range:case ee.money:case ee.reltime:case ee.text:case ee.time:case ee.timestamptz:case ee.timetz:case ee.tsrange:case ee.tstzrange:return _c(e);default:return _c(e)}},_c=t=>t,tb=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},nb=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},sb=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},ib=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,s=t[n];if(t[0]==="{"&&s==="}"){let r;const o=t.slice(1,n);try{r=JSON.parse("["+o+"]")}catch{r=o?o.split(","):[]}return r.map(a=>vg(e,a))}return t},rb=t=>typeof t=="string"?t.replace(" ","T"):t,bg=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class ul{constructor(e,n,s={},i=yg){this.channel=e,this.event=n,this.payload=s,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var s;return this._hasReceived(e)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ph;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(ph||(ph={}));class zi{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},i=>{const{onJoin:r,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=zi.syncState(this.state,i,r,o),this.pendingDiffs.forEach(l=>{this.state=zi.syncDiff(this.state,l,r,o)}),this.pendingDiffs=[],a()}),this.channel._on(s.diff,{},i=>{const{onJoin:r,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=zi.syncDiff(this.state,i,r,o),a())}),this.onJoin((i,r,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:r,newPresences:o})}),this.onLeave((i,r,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:r,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,s,i){const r=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(r,(c,d)=>{o[c]||(l[c]=d)}),this.map(o,(c,d)=>{const h=r[c];if(h){const f=d.map(b=>b.presence_ref),p=h.map(b=>b.presence_ref),y=d.filter(b=>p.indexOf(b.presence_ref)<0),x=h.filter(b=>f.indexOf(b.presence_ref)<0);y.length>0&&(a[c]=y),x.length>0&&(l[c]=x)}else a[c]=d}),this.syncDiff(r,{joins:a,leaves:l},s,i)}static syncDiff(e,n,s,i){const{joins:r,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),i||(i=()=>{}),this.map(r,(a,l)=>{var c;const d=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),d.length>0){const h=e[a].map(p=>p.presence_ref),f=d.filter(p=>h.indexOf(p.presence_ref)<0);e[a].unshift(...f)}s(a,d,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const d=l.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),e[a]=c,i(a,c,l),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(s=>n(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,s)=>{const i=e[s];return"metas"in i?n[s]=i.metas.map(r=>(r.presence_ref=r.phx_ref,delete r.phx_ref,delete r.phx_ref_prev,r)):n[s]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var mh;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(mh||(mh={}));var gh;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(gh||(gh={}));var Ut;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ut||(Ut={}));class Ou{constructor(e,n={config:{}},s){this.topic=e,this.params=n,this.socket=s,this.bindings={},this.state=et.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ul(this,_t.join,this.params,this.timeout),this.rejoinTimer=new xg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=et.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=et.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=et.errored,this.rejoinTimer.scheduleTimeout())}),this._on(_t.reply,{},(i,r)=>{this._trigger(this._replyEventName(r),i)}),this.presence=new zi(this),this.broadcastEndpointURL=bg(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var s,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:r,presence:o,private:a}}=this.params;this._onError(d=>e==null?void 0:e(Ut.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(Ut.CLOSED));const l={},c={broadcast:r,presence:o,postgres_changes:(i=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(d=>d.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){e==null||e(Ut.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,p=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,y=[];for(let x=0;x<p;x++){const b=f[x],{filter:{event:m,schema:g,table:v,filter:_}}=b,w=d&&d[x];if(w&&w.event===m&&w.schema===g&&w.table===v&&w.filter===_)y.push(Object.assign(Object.assign({},b),{id:w.id}));else{this.unsubscribe(),e==null||e(Ut.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(Ut.SUBSCRIBED);return}}).receive("error",d=>{e==null||e(Ut.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ut.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,s){return this._on(e,n,s)}async send(e,n={}){var s,i;if(!this._canPush()&&e.type==="broadcast"){const{event:r,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(r=>{var o,a,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&r("ok"),c.receive("ok",()=>r("ok")),c.receive("error",()=>r("error")),c.receive("timeout",()=>r("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=et.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(_t.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(s=>{const i=new ul(this,_t.leave,{},e);i.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(e,n,s){const i=new AbortController,r=setTimeout(()=>i.abort(),s),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(r),o}_push(e,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new ul(this,e,n,s);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,n,s){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,s){var i,r;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=_t;if(s&&[a,l,c,d].indexOf(o)>=0&&s!==this._joinRef())return;let f=this._onMessage(o,n,s);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var y,x,b;return((y=p.filter)===null||y===void 0?void 0:y.event)==="*"||((b=(x=p.filter)===null||x===void 0?void 0:x.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(p=>p.callback(f,s)):(r=this.bindings[o])===null||r===void 0||r.filter(p=>{var y,x,b,m,g,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const _=p.id,w=(y=p.filter)===null||y===void 0?void 0:y.event;return _&&((x=n.ids)===null||x===void 0?void 0:x.includes(_))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const _=(g=(m=p==null?void 0:p.filter)===null||m===void 0?void 0:m.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return _==="*"||_===((v=n==null?void 0:n.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const y=f.data,{schema:x,table:b,commit_timestamp:m,type:g,errors:v}=y;f=Object.assign(Object.assign({},{schema:x,table:b,commit_timestamp:m,eventType:g,new:{},old:{},errors:v}),this._getPayloadRecords(y))}p.callback(f,s)})}_isClosed(){return this.state===et.closed}_isJoined(){return this.state===et.joined}_isJoining(){return this.state===et.joining}_isLeaving(){return this.state===et.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,s){const i=e.toLocaleLowerCase(),r={type:i,filter:n,callback:s};return this.bindings[i]?this.bindings[i].push(r):this.bindings[i]=[r],this}_off(e,n){const s=e.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(i=>{var r;return!(((r=i.type)===null||r===void 0?void 0:r.toLocaleLowerCase())===s&&Ou.isEqual(i.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const s in e)if(e[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(_t.close,{},e)}_onError(e){this._on(_t.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=et.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=fh(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=fh(e.columns,e.old_record)),n}}const ob=()=>{},ab=typeof WebSocket<"u",lb=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class cb{constructor(e,n){var s;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Xv,this.params={},this.timeout=yg,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=ob,this.conn=null,this.sendBuffer=[],this.serializer=new Zv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=r=>{let o;return r?o=r:typeof fetch>"u"?o=(...a)=>Ws(async()=>{const{default:l}=await Promise.resolve().then(()=>Js);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${bc.websocket}`,this.httpEndpoint=bg(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(s=n==null?void 0:n.params)===null||s===void 0?void 0:s.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:r=>[1e3,2e3,5e3,1e4][r-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(r,o)=>o(JSON.stringify(r)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new xg(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(ab){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new ub(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Ws(async()=>{const{default:e}=await import("./browser-C-uvhSQw.js").then(n=>n.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Qv}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,s){this.logger(e,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Ds.connecting:return Hn.Connecting;case Ds.open:return Hn.Open;case Ds.closing:return Hn.Closing;default:return Hn.Closed}}isConnected(){return this.connectionState()===Hn.Open}channel(e,n={config:{}}){const s=new Ou(`realtime:${e}`,n,this);return this.channels.push(s),s}push(e){const{topic:n,event:s,payload:i,ref:r}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${s} (${r})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let s=null;try{s=JSON.parse(atob(n.split(".")[1]))}catch{}if(s&&s.exp&&!(Math.floor(Date.now()/1e3)-s.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`);this.accessTokenValue=n,this.channels.forEach(i=>{n&&i.updateJoinPayload({access_token:n}),i.joinedOnce&&i._isJoined()&&i._push(_t.access_token,{access_token:n})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Jv,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:s,event:i,payload:r,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${r.status||""} ${s} ${i} ${o&&"("+o+")"||""}`,r),this.channels.filter(a=>a._isMember(s)).forEach(a=>a._trigger(i,r,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(_t.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const s=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${s}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const s=new Blob([lb],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}}class ub{constructor(e,n,s){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ds.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=s.close}}class Au extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ce(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class db extends Au{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class wc extends Au{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var hb=function(t,e,n,s){function i(r){return r instanceof n?r:new n(function(o){o(r)})}return new(n||(n=Promise))(function(r,o){function a(d){try{c(s.next(d))}catch(h){o(h)}}function l(d){try{c(s.throw(d))}catch(h){o(h)}}function c(d){d.done?r(d.value):i(d.value).then(a,l)}c((s=s.apply(t,e||[])).next())})};const _g=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ws(async()=>{const{default:s}=await Promise.resolve().then(()=>Js);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)},fb=()=>hb(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ws(()=>Promise.resolve().then(()=>Js),void 0)).Response:Response}),kc=t=>{if(Array.isArray(t))return t.map(n=>kc(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,s])=>{const i=n.replace(/([-_][a-z])/gi,r=>r.toUpperCase().replace(/[-_]/g,""));e[i]=kc(s)}),e};var as=function(t,e,n,s){function i(r){return r instanceof n?r:new n(function(o){o(r)})}return new(n||(n=Promise))(function(r,o){function a(d){try{c(s.next(d))}catch(h){o(h)}}function l(d){try{c(s.throw(d))}catch(h){o(h)}}function c(d){d.done?r(d.value):i(d.value).then(a,l)}c((s=s.apply(t,e||[])).next())})};const dl=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),pb=(t,e,n)=>as(void 0,void 0,void 0,function*(){const s=yield fb();t instanceof s&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{e(new db(dl(i),t.status||500))}).catch(i=>{e(new wc(dl(i),i))}):e(new wc(dl(t),t))}),mb=(t,e,n,s)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s&&(i.body=JSON.stringify(s)),Object.assign(Object.assign({},i),n))};function Pr(t,e,n,s,i,r){return as(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,mb(e,s,i,r)).then(l=>{if(!l.ok)throw l;return s!=null&&s.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>pb(l,a,s))})})}function ta(t,e,n,s){return as(this,void 0,void 0,function*(){return Pr(t,"GET",e,n,s)})}function cn(t,e,n,s,i){return as(this,void 0,void 0,function*(){return Pr(t,"POST",e,s,i,n)})}function gb(t,e,n,s,i){return as(this,void 0,void 0,function*(){return Pr(t,"PUT",e,s,i,n)})}function yb(t,e,n,s){return as(this,void 0,void 0,function*(){return Pr(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function wg(t,e,n,s,i){return as(this,void 0,void 0,function*(){return Pr(t,"DELETE",e,s,i,n)})}var We=function(t,e,n,s){function i(r){return r instanceof n?r:new n(function(o){o(r)})}return new(n||(n=Promise))(function(r,o){function a(d){try{c(s.next(d))}catch(h){o(h)}}function l(d){try{c(s.throw(d))}catch(h){o(h)}}function c(d){d.done?r(d.value):i(d.value).then(a,l)}c((s=s.apply(t,e||[])).next())})};const xb={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},yh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class vb{constructor(e,n={},s,i){this.url=e,this.headers=n,this.bucketId=s,this.fetch=_g(i)}uploadOrUpdate(e,n,s,i){return We(this,void 0,void 0,function*(){try{let r;const o=Object.assign(Object.assign({},yh),i);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&s instanceof Blob?(r=new FormData,r.append("cacheControl",o.cacheControl),l&&r.append("metadata",this.encodeMetadata(l)),r.append("",s)):typeof FormData<"u"&&s instanceof FormData?(r=s,r.append("cacheControl",o.cacheControl),l&&r.append("metadata",this.encodeMetadata(l))):(r=s,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const c=this._removeEmptyFolders(n),d=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:r,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:c,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(r){if(Ce(r))return{data:null,error:r};throw r}})}upload(e,n,s){return We(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,s)})}uploadToSignedUrl(e,n,s,i){return We(this,void 0,void 0,function*(){const r=this._removeEmptyFolders(e),o=this._getFinalPath(r),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:yh.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",c.cacheControl)):(l=s,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:d}),f=yield h.json();return h.ok?{data:{path:r,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(Ce(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return We(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const r=yield cn(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:i}),o=new URL(this.url+r.url),a=o.searchParams.get("token");if(!a)throw new Au("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(s){if(Ce(s))return{data:null,error:s};throw s}})}update(e,n,s){return We(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,s)})}move(e,n,s){return We(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Ce(i))return{data:null,error:i};throw i}})}copy(e,n,s){return We(this,void 0,void 0,function*(){try{return{data:{path:(yield cn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Ce(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,s){return We(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),r=yield cn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return r={signedUrl:encodeURI(`${this.url}${r.signedURL}${o}`)},{data:r,error:null}}catch(i){if(Ce(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,s){return We(this,void 0,void 0,function*(){try{const i=yield cn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),r=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${r}`):null})),error:null}}catch(i){if(Ce(i))return{data:null,error:i};throw i}})}download(e,n){return We(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=r?`?${r}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield ta(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Ce(a))return{data:null,error:a};throw a}})}info(e){return We(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const s=yield ta(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:kc(s),error:null}}catch(s){if(Ce(s))return{data:null,error:s};throw s}})}exists(e){return We(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield yb(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(Ce(s)&&s instanceof wc){const i=s.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,n){const s=this._getFinalPath(e),i=[],r=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";r!==""&&i.push(r);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${s}${c}`)}}}remove(e){return We(this,void 0,void 0,function*(){try{return{data:yield wg(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(Ce(n))return{data:null,error:n};throw n}})}list(e,n,s){return We(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},xb),n),{prefix:e||""});return{data:yield cn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},s),error:null}}catch(i){if(Ce(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const bb="2.7.1",_b={"X-Client-Info":`storage-js/${bb}`};var ds=function(t,e,n,s){function i(r){return r instanceof n?r:new n(function(o){o(r)})}return new(n||(n=Promise))(function(r,o){function a(d){try{c(s.next(d))}catch(h){o(h)}}function l(d){try{c(s.throw(d))}catch(h){o(h)}}function c(d){d.done?r(d.value):i(d.value).then(a,l)}c((s=s.apply(t,e||[])).next())})};class wb{constructor(e,n={},s){this.url=e,this.headers=Object.assign(Object.assign({},_b),n),this.fetch=_g(s)}listBuckets(){return ds(this,void 0,void 0,function*(){try{return{data:yield ta(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Ce(e))return{data:null,error:e};throw e}})}getBucket(e){return ds(this,void 0,void 0,function*(){try{return{data:yield ta(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(Ce(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return ds(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(Ce(s))return{data:null,error:s};throw s}})}updateBucket(e,n){return ds(this,void 0,void 0,function*(){try{return{data:yield gb(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(Ce(s))return{data:null,error:s};throw s}})}emptyBucket(e){return ds(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Ce(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ds(this,void 0,void 0,function*(){try{return{data:yield wg(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(Ce(n))return{data:null,error:n};throw n}})}}class kb extends wb{constructor(e,n={},s){super(e,n,s)}from(e){return new vb(this.url,this.headers,e,this.fetch)}}const Sb="2.48.1";let wi="";typeof Deno<"u"?wi="deno":typeof document<"u"?wi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?wi="react-native":wi="node";const jb={"X-Client-Info":`supabase-js-${wi}/${Sb}`},Cb={headers:jb},Eb={schema:"public"},Pb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Nb={};var Mb=function(t,e,n,s){function i(r){return r instanceof n?r:new n(function(o){o(r)})}return new(n||(n=Promise))(function(r,o){function a(d){try{c(s.next(d))}catch(h){o(h)}}function l(d){try{c(s.throw(d))}catch(h){o(h)}}function c(d){d.done?r(d.value):i(d.value).then(a,l)}c((s=s.apply(t,e||[])).next())})};const Tb=t=>{let e;return t?e=t:typeof fetch>"u"?e=og:e=fetch,(...n)=>e(...n)},Ob=()=>typeof Headers>"u"?ag:Headers,Ab=(t,e,n)=>{const s=Tb(n),i=Ob();return(r,o)=>Mb(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new i(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),s(r,Object.assign(Object.assign({},o),{headers:c}))})};var Rb=function(t,e,n,s){function i(r){return r instanceof n?r:new n(function(o){o(r)})}return new(n||(n=Promise))(function(r,o){function a(d){try{c(s.next(d))}catch(h){o(h)}}function l(d){try{c(s.throw(d))}catch(h){o(h)}}function c(d){d.done?r(d.value):i(d.value).then(a,l)}c((s=s.apply(t,e||[])).next())})};function Db(t){return t.replace(/\/$/,"")}function Lb(t,e){const{db:n,auth:s,realtime:i,global:r}=t,{db:o,auth:a,realtime:l,global:c}=e,d={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),s),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},c),r),accessToken:()=>Rb(this,void 0,void 0,function*(){return""})};return t.accessToken?d.accessToken=t.accessToken:delete d.accessToken,d}const kg="2.67.3",Ib="http://localhost:9999",zb="supabase.auth.token",Fb={"X-Client-Info":`gotrue-js/${kg}`},xh=10,Sc="X-Supabase-Api-Version",Sg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function $b(t){return Math.round(Date.now()/1e3)+t}function Bb(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Mt=()=>typeof window<"u"&&typeof document<"u",Rn={tested:!1,writable:!1},Fi=()=>{if(!Mt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Rn.tested)return Rn.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Rn.tested=!0,Rn.writable=!0}catch{Rn.tested=!0,Rn.writable=!1}return Rn.writable};function Ub(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,r)=>{e[r]=i})}catch{}return n.searchParams.forEach((s,i)=>{e[i]=s}),e}const jg=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ws(async()=>{const{default:s}=await Promise.resolve().then(()=>Js);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)},Hb=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Cg=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Kr=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Yr=async(t,e)=>{await t.removeItem(e)};function Vb(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",s,i,r,o,a,l,c,d=0;for(t=t.replace("-","+").replace("_","/");d<t.length;)o=e.indexOf(t.charAt(d++)),a=e.indexOf(t.charAt(d++)),l=e.indexOf(t.charAt(d++)),c=e.indexOf(t.charAt(d++)),s=o<<2|a>>4,i=(a&15)<<4|l>>2,r=(l&3)<<6|c,n=n+String.fromCharCode(s),l!=64&&i!=0&&(n=n+String.fromCharCode(i)),c!=64&&r!=0&&(n=n+String.fromCharCode(r));return n}class Aa{constructor(){this.promise=new Aa.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Aa.promiseConstructor=Promise;function vh(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=t.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const s=n[1];return JSON.parse(Vb(s))}async function Wb(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function qb(t,e){return new Promise((s,i)=>{(async()=>{for(let r=0;r<1/0;r++)try{const o=await t(r);if(!e(r,null,o)){s(o);return}}catch(o){if(!e(r,o)){i(o);return}}})()})}function Gb(t){return("0"+t.toString(16)).substr(-2)}function Kb(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let i="";for(let r=0;r<56;r++)i+=n.charAt(Math.floor(Math.random()*s));return i}return crypto.getRandomValues(e),Array.from(e,Gb).join("")}async function Yb(t){const n=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(s);return Array.from(i).map(r=>String.fromCharCode(r)).join("")}function Xb(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Qb(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Yb(t);return Xb(n)}async function hs(t,e,n=!1){const s=Kb();let i=s;n&&(i+="/PASSWORD_RECOVERY"),await Cg(t,`${e}-code-verifier`,i);const r=await Qb(s);return[r,s===r?"plain":"s256"]}const Jb=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Zb(t){const e=t.headers.get(Sc);if(!e||!e.match(Jb))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class Ru extends Error{constructor(e,n,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function $(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class e_ extends Ru{constructor(e,n,s){super(e,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function t_(t){return $(t)&&t.name==="AuthApiError"}class Eg extends Ru{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class ls extends Ru{constructor(e,n,s,i){super(e,s,i),this.name=n,this.status=s}}class sn extends ls{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function n_(t){return $(t)&&t.name==="AuthSessionMissingError"}class hl extends ls{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Xr extends ls{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Qr extends ls{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function s_(t){return $(t)&&t.name==="AuthImplicitGrantRedirectError"}class bh extends ls{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class jc extends ls{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function fl(t){return $(t)&&t.name==="AuthRetryableFetchError"}class _h extends ls{constructor(e,n,s){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}var i_=function(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n};const $n=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),r_=[502,503,504];async function wh(t){var e;if(!Hb(t))throw new jc($n(t),0);if(r_.includes(t.status))throw new jc($n(t),t.status);let n;try{n=await t.json()}catch(r){throw new Eg($n(r),r)}let s;const i=Zb(t);if(i&&i.getTime()>=Sg["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new _h($n(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new sn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((r,o)=>r&&typeof o=="string",!0))throw new _h($n(n),t.status,n.weak_password.reasons);throw new e_($n(n),t.status||500,s)}const o_=(t,e,n,s)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(s),Object.assign(Object.assign({},i),n))};async function H(t,e,n,s){var i;const r=Object.assign({},s==null?void 0:s.headers);r[Sc]||(r[Sc]=Sg["2024-01-01"].name),s!=null&&s.jwt&&(r.Authorization=`Bearer ${s.jwt}`);const o=(i=s==null?void 0:s.query)!==null&&i!==void 0?i:{};s!=null&&s.redirectTo&&(o.redirect_to=s.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await a_(t,e,n+a,{headers:r,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(l):{data:Object.assign({},l),error:null}}async function a_(t,e,n,s,i,r){const o=o_(e,s,i,r);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new jc($n(l),0)}if(a.ok||await wh(a),s!=null&&s.noResolveJson)return a;try{return await a.json()}catch(l){await wh(l)}}function rn(t){var e;let n=null;d_(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=$b(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:s},error:null}}function kh(t){const e=rn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function hn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function l_(t){return{data:t,error:null}}function c_(t){const{action_link:e,email_otp:n,hashed_token:s,redirect_to:i,verification_type:r}=t,o=i_(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:s,redirect_to:i,verification_type:r},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function u_(t){return t}function d_(t){return t.access_token&&t.refresh_token&&t.expires_in}var h_=function(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n};class f_{constructor({url:e="",headers:n={},fetch:s}){this.url=e,this.headers=n,this.fetch=jg(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await H(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if($(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,n={}){try{return await H(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:hn})}catch(s){if($(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:n}=e,s=h_(e,["options"]),i=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(i.new_email=s==null?void 0:s.newEmail,delete i.newEmail),await H(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:c_,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if($(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await H(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:hn})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,s,i,r,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await H(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(r=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&r!==void 0?r:""},xform:u_});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(y=>{const x=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(y.split(";")[1].split("=")[1]);c[`${b}Page`]=x}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if($(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await H(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:hn})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await H(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:hn})}catch(s){if($(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,n=!1){try{return await H(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:hn})}catch(s){if($(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){try{const{data:n,error:s}=await H(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:s}}catch(n){if($(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await H(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if($(n))return{data:null,error:n};throw n}}}const p_={getItem:t=>Fi()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Fi()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Fi()&&globalThis.localStorage.removeItem(t)}};function Sh(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function m_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const fs={debug:!!(globalThis&&Fi()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Pg extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class g_ extends Pg{}async function y_(t,e,n){fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),fs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async i=>{if(i){fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new g_(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(fs.debug)try{const r=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(r,null,"  "))}catch(r){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",r)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}m_();const x_={url:Ib,storageKey:zb,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Fb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},hi=30*1e3,jh=3;async function Ch(t,e,n){return await n()}class ur{constructor(e){var n,s;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ur.nextInstanceID,ur.nextInstanceID+=1,this.instanceID>0&&Mt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},x_),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new f_({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=jg(i.fetch),this.lock=i.lock||Ch,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Mt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=y_:this.lock=Ch,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:Fi()?this.storage=p_:(this.memoryStorage={},this.storage=Sh(this.memoryStorage)):(this.memoryStorage={},this.storage=Sh(this.memoryStorage)),Mt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(r){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",r)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async r=>{this._debug("received broadcast notification from other tab or client",r),await this._notifyAllSubscribers(r.data.event,r.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${kg}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=Ub(window.location.href);let s="none";if(this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce"),Mt()&&this.detectSessionInUrl&&s!=="none"){const{data:i,error:r}=await this._getSessionFromURL(n,s);if(r){if(this._debug("#_initialize()","error detecting session from URL",r),s_(r)){const l=(e=r.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:r}}return await this._removeSession(),{error:r}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return $(n)?{error:n}:{error:new Eg("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,s,i;try{const r=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:rn}),{data:o,error:a}=r;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(r){if($(r))return{data:{user:null,session:null},error:r};throw r}}async signUp(e){var n,s,i;try{let r;if("email"in e){const{email:d,password:h,options:f}=e;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await hs(this.storage,this.storageKey)),r=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:y},xform:rn})}else if("phone"in e){const{phone:d,password:h,options:f}=e;r=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:rn})}else throw new Xr("You must provide either an email or phone number and a password");const{data:o,error:a}=r;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(r){if($(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithPassword(e){try{let n;if("email"in e){const{email:r,password:o,options:a}=e;n=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:kh})}else if("phone"in e){const{phone:r,password:o,options:a}=e;n=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:kh})}else throw new Xr("You must provide either an email or phone number and a password");const{data:s,error:i}=n;return i?{data:{user:null,session:null},error:i}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new hl}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:i})}catch(n){if($(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,s,i,r;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(r=e.options)===null||r===void 0?void 0:r.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await Kr(this.storage,`${this.storageKey}-code-verifier`),[s,i]=(n??"").split("/");try{const{data:r,error:o}=await H(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:rn});if(await Yr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!r||!r.session||!r.user?{data:{user:null,session:null,redirectType:null},error:new hl}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign(Object.assign({},r),{redirectType:i??null}),error:o})}catch(r){if($(r))return{data:{user:null,session:null,redirectType:null},error:r};throw r}}async signInWithIdToken(e){try{const{options:n,provider:s,token:i,access_token:r,nonce:o}=e,a=await H(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:i,access_token:r,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:rn}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new hl}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if($(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,s,i,r,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await hs(this.storage,this.storageKey));const{error:h}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:d}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new Xr("You must provide either an email or phone number.")}catch(a){if($(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,s;try{let i,r;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,r=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:a}=await H(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:r}}),redirectTo:i,xform:rn});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if($(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,s,i;try{let r=null,o=null;return this.flowType==="pkce"&&([r,o]=await hs(this.storage,this.storageKey)),await H(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:r,code_challenge_method:o}),headers:this.headers,xform:l_})}catch(r){if($(r))return{data:null,error:r};throw r}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;if(s)throw s;if(!n)throw new sn;const{error:i}=await H(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if($(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:s,type:i,options:r}=e,{error:o}=await H(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},redirectTo:r==null?void 0:r.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:s,type:i,options:r}=e,{data:o,error:a}=await H(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Xr("You must provide either an email or phone number and a type")}catch(n){if($(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Kr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:e},error:null}}const{session:i,error:r}=await this._callRefreshToken(e.refresh_token);return r?{data:{session:null},error:r}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:hn}):await this._useSession(async n=>{var s,i,r;const{data:o,error:a}=n;if(a)throw a;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new sn}:await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(r=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&r!==void 0?r:void 0,xform:hn})})}catch(n){if($(n))return n_(n)&&(await this._removeSession(),await Yr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async s=>{const{data:i,error:r}=s;if(r)throw r;if(!i.session)throw new sn;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await hs(this.storage,this.storageKey));const{data:c,error:d}=await H(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:hn});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(s){if($(s))return{data:{user:null},error:s};throw s}}_decodeJWT(e){return vh(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new sn;const n=Date.now()/1e3;let s=n,i=!0,r=null;const o=vh(e.access_token);if(o.exp&&(s=o.exp,i=s<=n),i){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};r=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;r={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)}return{data:{user:r.user,session:r},error:null}}catch(n){if($(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var s;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(s=o.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new sn;const{session:i,error:r}=await this._callRefreshToken(e.refresh_token);return r?{data:{user:null,session:null},error:r}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if($(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Mt())throw new Qr("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Qr(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new bh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Qr("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new bh("No code detected.");const{data:g,error:v}=await this._exchangeCodeForSession(e.code);if(v)throw v;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:i,access_token:r,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!r||!a||!o||!c)throw new Qr("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let f=d+h;l&&(f=parseInt(l));const p=f-d;p*1e3<=hi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const y=f-h;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,f,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,f,d);const{data:x,error:b}=await this._getUser(r);if(b)throw b;const m={provider_token:s,provider_refresh_token:i,access_token:r,expires_in:h,expires_at:f,refresh_token:o,token_type:c,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:e.type},error:null}}catch(s){if($(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Kr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:i,error:r}=n;if(r)return{error:r};const o=(s=i.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(t_(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Yr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=Bb(),s={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async n=>{var s,i;try{const{data:{session:r},error:o}=n;if(o)throw o;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(r){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",r),console.error(r)}})}async resetPasswordForEmail(e,n={}){let s=null,i=null;this.flowType==="pkce"&&([s,i]=await hs(this.storage,this.storageKey,!0));try{return await H(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(r){if($(r))return{data:null,error:r};throw r}}async getUserIdentities(){var e;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if($(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:s,error:i}=await this._useSession(async r=>{var o,a,l,c,d;const{data:h,error:f}=r;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await H(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Mt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:e.provider,url:s==null?void 0:s.url},error:null}}catch(s){if($(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var s,i;const{data:r,error:o}=n;if(o)throw o;return await H(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(s=r.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if($(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await qb(async i=>(i>0&&await Wb(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await H(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:rn})),(i,r)=>{const o=200*Math.pow(2,i);return r&&fl(r)&&Date.now()+o-s<hi})}catch(s){if(this._debug(n,"error",s),$(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",s),Mt()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Kr(this.storage,this.storageKey);if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=Math.round(Date.now()/1e3),r=((e=s.expires_at)!==null&&e!==void 0?e:1/0)<i+xh;if(this._debug(n,`session has${r?"":" not"} expired with margin of ${xh}s`),r){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),fl(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,s;if(!e)throw new sn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Aa;const{data:r,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!r.session)throw new sn;await this._saveSession(r.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",r.session);const a={session:r.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(r){if(this._debug(i,"error",r),$(r)){const o={session:null,error:r};return fl(r)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(r),r}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,s=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:n});const r=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){r.push(l)}});if(await Promise.all(o),r.length>0){for(let a=0;a<r.length;a+=1)console.error(r[a]);throw r[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Cg(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Yr(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Mt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),hi);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((s.expires_at*1e3-e)/hi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${hi}ms, refresh threshold is ${jh} ticks`),i<=jh&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Pg)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Mt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,s){const i=[`provider=${encodeURIComponent(n)}`];if(s!=null&&s.redirectTo&&i.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&i.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[r,o]=await hs(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(r)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(s!=null&&s.queryParams){const r=new URLSearchParams(s.queryParams);i.push(r.toString())}return s!=null&&s.skipBrowserRedirect&&i.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var s;const{data:i,error:r}=n;return r?{data:null,error:r}:await H(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if($(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var s,i;const{data:r,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await H(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if($(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:i,error:r}=n;if(r)return{data:null,error:r};const{data:o,error:a}=await H(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if($(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:i,error:r}=n;return r?{data:null,error:r}:await H(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if($(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const s=(e==null?void 0:e.factors)||[],i=s.filter(o=>o.factor_type==="totp"&&o.status==="verified"),r=s.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:s,totp:i,phone:r},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,s;const{data:{session:i},error:r}=e;if(r)return{data:null,error:r};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((s=(n=i.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}}ur.nextInstanceID=0;const v_=ur;class b_ extends v_{constructor(e){super(e)}}var __=function(t,e,n,s){function i(r){return r instanceof n?r:new n(function(o){o(r)})}return new(n||(n=Promise))(function(r,o){function a(d){try{c(s.next(d))}catch(h){o(h)}}function l(d){try{c(s.throw(d))}catch(h){o(h)}}function c(d){d.done?r(d.value):i(d.value).then(a,l)}c((s=s.apply(t,e||[])).next())})};class w_{constructor(e,n,s){var i,r,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=Db(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:Eb,realtime:Nb,auth:Object.assign(Object.assign({},Pb),{storageKey:l}),global:Cb},d=Lb(s??{},c);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(r=d.global.headers)!==null&&r!==void 0?r:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=Ab(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Kv(`${a}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new Sv(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new kb(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},s={}){return this.rest.rpc(e,n,s)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return __(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(n=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:i,storageKey:r,flowType:o,lock:a,debug:l},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new b_({url:this.authUrl,headers:Object.assign(Object.assign({},h),c),storageKey:r,autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:i,flowType:o,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new cb(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(e,n,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const k_=(t,e,n)=>new w_(t,e,n),S_="https://xfztookxklscvnctqcog.supabase.co",j_="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhmenRvb2t4a2xzY3ZuY3RxY29nIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzg4MzAwOTIsImV4cCI6MjA1NDQwNjA5Mn0.lLgof7_zr3l_y_6MOSD-hpslEg40zgfpwvs4bGHGdhQ",oe=k_(S_,j_),Du=({isOpen:t,onClose:e})=>{const[n,s]=O.useState("email"),[i,r]=O.useState({nickname:"",email:""}),[o,a]=O.useState(""),[l,c]=O.useState(!1),[d,h]=O.useState(!1);if(!t)return null;const f=async p=>{p.preventDefault(),a(""),c(!0);try{if(n==="anonymous")localStorage.setItem("userNickname",i.nickname),localStorage.setItem("isAnonymous","true"),e();else{const{error:y}=await oe.auth.signInWithOtp({email:i.email,options:{emailRedirectTo:window.location.origin}});if(y)throw y;const{error:x}=await oe.from("subscribers").insert([{email:i.email,notifications_enabled:!0}]);if(x&&!x.message.includes("unique constraint"))throw x;h(!0)}}catch(y){a(y.message||"Error durante el registro")}finally{c(!1)}};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-xl p-8 max-w-md w-full relative",children:[u.jsx("button",{onClick:e,className:"absolute right-4 top-4 text-gray-500 hover:text-gray-700",children:u.jsx(Cr,{size:24})}),u.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Hazte Auditor"}),o&&u.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-lg",children:o}),u.jsxs("div",{className:"flex gap-4 mb-6",children:[u.jsx("button",{className:`flex-1 py-3 px-4 rounded-lg border ${n==="anonymous"?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:border-blue-600"}`,onClick:()=>s("anonymous"),children:u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsx(rg,{size:20}),"Anónimo"]})}),u.jsx("button",{className:`flex-1 py-3 px-4 rounded-lg border ${n==="email"?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:border-blue-600"}`,onClick:()=>s("email"),children:u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsx(cr,{size:20}),"Email"]})})]}),n==="anonymous"?u.jsxs("form",{onSubmit:f,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"nickname",className:"block text-sm font-medium text-gray-700 mb-1",children:"Apodo"}),u.jsx("input",{type:"text",id:"nickname",value:i.nickname,onChange:p=>r({...i,nickname:p.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Tu apodo para auditar",required:!0,minLength:2,maxLength:50})]}),u.jsx("button",{type:"submit",disabled:l,className:"w-full py-3 px-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-semibold disabled:opacity-50",children:l?"Procesando...":"Continuar como Anónimo"})]}):d?u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"mb-4 text-green-600",children:[u.jsx(cr,{size:48,className:"mx-auto mb-4"}),u.jsx("h3",{className:"text-xl font-semibold mb-2",children:"¡Revisa tu email!"})]}),u.jsxs("p",{className:"text-gray-600 mb-4",children:["Te hemos enviado un enlace mágico a ",i.email,". Haz clic en el enlace para acceder a tu cuenta."]}),u.jsx("p",{className:"text-sm text-gray-500",children:"Si no lo encuentras, revisa tu carpeta de spam."})]}):u.jsxs("form",{onSubmit:f,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),u.jsx("input",{type:"email",id:"email",value:i.email,onChange:p=>r({...i,email:p.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"tu@email.com",required:!0})]}),u.jsx("button",{type:"submit",disabled:l,className:"w-full py-3 px-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-semibold disabled:opacity-50",children:l?"Enviando...":"Enviar enlace mágico"})]}),u.jsxs("div",{className:"mt-4 text-sm text-gray-500 text-center",children:[u.jsx("p",{children:"Al registrarte, aceptas nuestros términos y condiciones y nuestra política de privacidad."}),!d&&n==="email"&&u.jsx("p",{className:"mt-2 text-blue-600",children:"Recibirás notificaciones de nuevas propuestas de ahorro."})]})]})})},C_=({onNavigate:t})=>{const[e,n]=O.useState(!1),[s,i]=O.useState(!1),r=o=>{t(o),i(!1)};return u.jsxs(u.Fragment,{children:[u.jsxs("header",{className:"bg-white shadow-sm relative z-50",children:[u.jsx("div",{className:"container mx-auto px-4",children:u.jsxs("div",{className:"flex items-center justify-between h-16",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(ig,{className:"text-blue-600",size:24}),u.jsx("span",{className:"text-xl font-bold text-gray-800",children:"Auditoría Ciudadana"})]}),u.jsxs("nav",{className:"hidden md:flex items-center gap-6",children:[u.jsx("button",{onClick:()=>t("propuestas"),className:"text-gray-600 hover:text-gray-900",children:"Propuestas"}),u.jsx("button",{onClick:()=>t("presupuestos"),className:"text-gray-600 hover:text-gray-900",children:"Presupuestos"}),u.jsx("button",{onClick:()=>t("deuda"),className:"text-gray-600 hover:text-gray-900",children:"Deuda"}),u.jsx("button",{onClick:()=>t("impuestos"),className:"text-gray-600 hover:text-gray-900",children:"Impuestos"}),u.jsx("button",{onClick:()=>t("recursos"),className:"text-gray-600 hover:text-gray-900",children:"Recursos"}),u.jsx("button",{onClick:()=>t("metodologia"),className:"text-gray-600 hover:text-gray-900",children:"Metodología"}),u.jsx("button",{onClick:()=>t("about"),className:"text-gray-600 hover:text-gray-900",children:"Sobre Nosotros"})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("button",{onClick:()=>n(!0),className:"flex items-center gap-2 px-4 py-2 border border-blue-600 text-blue-600 rounded-lg hover:bg-blue-50",children:[u.jsx(rg,{size:20}),u.jsx("span",{className:"hidden md:inline",children:"Hazte Auditor"})]}),u.jsx("button",{onClick:()=>i(!s),className:"md:hidden p-2 hover:bg-gray-100 rounded-lg","aria-label":"Menu",children:s?u.jsx(Cr,{size:24}):u.jsx(ov,{size:24})})]})]})}),s&&u.jsx("div",{className:"absolute top-full left-0 right-0 bg-white shadow-lg border-t border-gray-100 md:hidden",children:u.jsxs("nav",{className:"container mx-auto px-4 py-2",children:[u.jsx("button",{onClick:()=>r("propuestas"),className:"block w-full text-left px-4 py-3 text-gray-600 hover:bg-gray-50 rounded-lg",children:"Propuestas"}),u.jsx("button",{onClick:()=>r("presupuestos"),className:"block w-full text-left px-4 py-3 text-gray-600 hover:bg-gray-50 rounded-lg",children:"Presupuestos"}),u.jsx("button",{onClick:()=>r("deuda"),className:"block w-full text-left px-4 py-3 text-gray-600 hover:bg-gray-50 rounded-lg",children:"Deuda"}),u.jsx("button",{onClick:()=>r("impuestos"),className:"block w-full text-left px-4 py-3 text-gray-600 hover:bg-gray-50 rounded-lg",children:"Impuestos"}),u.jsx("button",{onClick:()=>r("recursos"),className:"block w-full text-left px-4 py-3 text-gray-600 hover:bg-gray-50 rounded-lg",children:"Recursos"}),u.jsx("button",{onClick:()=>r("metodologia"),className:"block w-full text-left px-4 py-3 text-gray-600 hover:bg-gray-50 rounded-lg",children:"Metodología"}),u.jsx("button",{onClick:()=>r("about"),className:"block w-full text-left px-4 py-3 text-gray-600 hover:bg-gray-50 rounded-lg",children:"Sobre Nosotros"})]})})]}),u.jsx(Du,{isOpen:e,onClose:()=>n(!1)})]})},E_=({onNavigate:t})=>{const[e,n]=O.useState(!1),[s,i]=O.useState(0),[r,o]=O.useState(!0),[a,l]=O.useState(!1),[c,d]=O.useState(""),[h,f]=O.useState("");O.useEffect(()=>{p();const m=oe.channel("proposals_changes").on("postgres_changes",{event:"*",schema:"public",table:"proposals"},()=>{p()}).subscribe();return()=>{oe.removeChannel(m)}},[]);const p=async()=>{try{const{data:m,error:g}=await oe.from("proposals").select("savings");if(g)throw g;const v=m.reduce((_,w)=>{const S=typeof w.savings=="number"?w.savings:0;return _+S},0);i(v),o(!1)}catch(m){console.error("Error fetching total savings:",m),o(!1)}},y=async m=>{m.preventDefault();try{const{error:g}=await oe.from("subscribers").insert([{email:c,notifications_enabled:!0}]);if(g&&!g.message.includes("unique constraint"))throw g;f("¡Gracias por unirte al movimiento DOGE! Recibirás notificaciones de nuevas propuestas."),d(""),l(!1),setTimeout(()=>f(""),5e3)}catch(g){console.error("Error subscribing:",g),f("Error al suscribirse. Por favor, intente nuevamente.")}},x=m=>m.toLocaleString("es-ES",{maximumFractionDigits:0}),b=()=>u.jsxs("svg",{width:"300",height:"120",viewBox:"0 0 300 120",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"chainsaw-shadow",children:[u.jsx("path",{d:"M20 40 L120 40 C130 40 140 30 140 20 L140 80 C140 90 130 100 120 100 L20 100 C10 100 0 90 0 80 L0 60 C0 50 10 40 20 40Z",fill:"#e5e5e5",stroke:"#374151",strokeWidth:"2"}),u.jsx("circle",{cx:"70",cy:"70",r:"25",fill:"#4b5563",stroke:"#374151",strokeWidth:"2"}),u.jsx("circle",{cx:"70",cy:"70",r:"20",fill:"#6b7280"}),u.jsx("circle",{cx:"70",cy:"70",r:"15",fill:"#4b5563"}),u.jsx("rect",{x:"30",y:"20",width:"40",height:"10",rx:"5",fill:"#dc2626"}),u.jsx("path",{d:"M40 20 L60 20",stroke:"#991b1b",strokeWidth:"2"}),u.jsx("path",{d:"M140 55 L280 55 L290 65 L280 75 L140 75Z",fill:"#d1d5db",stroke:"#374151",strokeWidth:"2"}),u.jsx("path",{d:"M140 65 L280 65",stroke:"#6b7280",strokeWidth:"8",strokeLinecap:"round",className:"animate-chain"}),[...Array(14)].map((m,g)=>u.jsx("path",{d:`M${160+g*10} 55 L${165+g*10} 45 L${170+g*10} 55 M${160+g*10} 75 L${165+g*10} 85 L${170+g*10} 75`,stroke:"#374151",strokeWidth:"2"},g)),u.jsx("path",{d:"M40 100 C40 110 50 120 60 120 L100 120 C110 120 120 110 120 100",fill:"none",stroke:"#374151",strokeWidth:"4"})]});return u.jsxs("div",{className:"relative min-h-[600px] overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 bg-red-600"}),u.jsx("div",{className:"absolute inset-0 overflow-hidden",children:[...Array(8)].map((m,g)=>u.jsx("div",{className:"absolute animate-float",style:{left:`${Math.random()*80+10}%`,top:`${Math.random()*80+10}%`,animationDelay:`${g*.5}s`,transform:`rotate(${Math.random()*45-22.5}deg)`,opacity:.2},children:u.jsx(b,{})},g))}),u.jsx("div",{className:"relative container mx-auto px-4 h-full flex items-center",children:u.jsxs("div",{className:"max-w-2xl text-white py-12",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[u.jsx(Ii,{className:"text-yellow-400",size:28}),u.jsx("h2",{className:"text-xl font-semibold text-yellow-400",children:"España necesita su DOGE, su motosierra fiscal"})]}),u.jsx("h1",{className:"text-3xl md:text-5xl font-bold mb-6 leading-tight",children:"El gasto público está fuera de control"}),u.jsx("p",{className:"text-lg md:text-xl mb-8 leading-relaxed",children:"España tiene uno de los gobiernos más ineficientes de Europa, con un gasto público desbocado del 44.3% del PIB. Únete a la iniciativa ciudadana para identificar y eliminar el despilfarro en todas las administraciones. Si quieres contribuir nuevas propuestas de ahorro y ser parte del movimiento DOGE hazte auditor, si quieres recibir y comentar propuestas pero no contribuir nuevas únete al movimiento DOGE."}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-8",children:[u.jsxs("button",{onClick:()=>n(!0),className:"sm:w-1/3 flex items-center justify-center gap-2 px-6 py-3 bg-yellow-500 text-black font-semibold rounded-lg hover:bg-yellow-400 transform hover:scale-105 transition-all duration-200",children:[u.jsx(gv,{size:20}),"Hazte Auditor"]}),a?u.jsxs("form",{onSubmit:y,className:"sm:w-2/3 flex gap-2",children:[u.jsx("input",{type:"email",value:c,onChange:m=>d(m.target.value),placeholder:"tu@email.com",className:"flex-1 px-4 py-3 rounded-lg bg-white bg-opacity-20 border border-white border-opacity-30 text-white placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-yellow-400",required:!0}),u.jsxs("button",{type:"submit",className:"flex items-center gap-2 px-6 py-3 bg-yellow-500 text-black font-semibold rounded-lg hover:bg-yellow-400 transition-colors",children:[u.jsx(cr,{size:20}),u.jsx("span",{children:"Unirme"})]})]}):u.jsxs("button",{onClick:()=>l(!0),className:"sm:w-2/3 flex items-center justify-center gap-2 px-6 py-3 bg-yellow-500 text-black font-semibold rounded-lg hover:bg-yellow-400 transition-colors",children:[u.jsx(cr,{size:20}),u.jsx("span",{children:"Unirme al DOGE"})]})]}),h&&u.jsx("p",{className:"mt-2 text-sm text-yellow-400",children:h}),u.jsxs("div",{className:"bg-black bg-opacity-50 backdrop-blur-sm rounded-lg p-6 mb-8",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx(Ca,{size:24,className:"text-green-400"}),u.jsx("h2",{className:"text-xl font-semibold",children:"Ahorro Total Propuesto"})]}),u.jsx("div",{className:"text-4xl md:text-5xl font-bold text-green-400",children:r?u.jsx("div",{className:"animate-pulse",children:"Calculando..."}):`${x(s)}M€`}),u.jsx("p",{className:"text-sm mt-2 text-gray-300",children:"Suma de todas las propuestas de ahorro presentadas"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"bg-black bg-opacity-50 backdrop-blur-sm rounded-lg p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(Ii,{className:"text-yellow-400",size:20}),u.jsx("h3",{className:"font-semibold",children:"Chandler Institute (2024)"})]}),u.jsx("p",{className:"text-sm text-gray-200",children:"España ocupa el puesto 31 de 38 países OCDE en eficiencia gubernamental. Exceso de burocracia, duplicidades administrativas y gasto improductivo."})]}),u.jsxs("div",{className:"bg-black bg-opacity-50 backdrop-blur-sm rounded-lg p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx(Ii,{className:"text-yellow-400",size:20}),u.jsx("h3",{className:"font-semibold",children:"Comisión Europea (2023)"})]}),u.jsx("p",{className:"text-sm text-gray-200",children:"Ranking 23/27 en la UE en eficiencia del gasto público. Costes administrativos un 32% superiores a la media europea."})]})]})]})}),u.jsx(Du,{isOpen:e,onClose:()=>n(!1)})]})};function Ng(){const[t,e]=O.useState(null),[n,s]=O.useState(!0);return O.useEffect(()=>{const r=localStorage.getItem("userNickname"),o=localStorage.getItem("isAnonymous")==="true";if(r&&o){e({nickname:r,isAnonymous:!0}),s(!1);return}oe.auth.getSession().then(({data:{session:l}})=>{var c;l!=null&&l.user?e({id:l.user.id,nickname:l.user.user_metadata.nickname||((c=l.user.email)==null?void 0:c.split("@")[0])||"Usuario",isAnonymous:!1}):e(null),s(!1)});const{data:{subscription:a}}=oe.auth.onAuthStateChange((l,c)=>{var d;if(c!=null&&c.user)e({id:c.user.id,nickname:c.user.user_metadata.nickname||((d=c.user.email)==null?void 0:d.split("@")[0])||"Usuario",isAnonymous:!1});else{const h=localStorage.getItem("userNickname"),f=localStorage.getItem("isAnonymous")==="true";e(h&&f?{nickname:h,isAnonymous:!0}:null)}});return()=>a.unsubscribe()},[]),{user:t,loading:n,logout:async()=>{t!=null&&t.isAnonymous?(localStorage.removeItem("userNickname"),localStorage.removeItem("isAnonymous"),e(null)):await oe.auth.signOut()}}}const P_={nacional:{total:459769,categories:{Administración:31275,Defensa:12825,Infraestructuras:15e3,Contratación:2e5,Otros:200669}},autonomico:{total:183589,categories:{Sanidad:87356,Educación:55172,Transportes:12e3,"Servicios Sociales":22457,Otros:6604}},municipal:{total:102453,categories:{Transporte:10245,Infraestructura:15368,"Servicios Municipales":51227,Cultura:10245,Otros:15368}}},N_=.25;async function M_(t){try{if(!t.title||!t.description||!t.savings)return{isValid:!1,error:"Faltan campos requeridos"};const e=P_[t.level],s=(e.categories[t.category]||e.total*.1)*N_;if(t.savings>s)return{isValid:!0,improvedProposal:{...t,savings:Math.round(s)},error:`El ahorro propuesto parece demasiado optimista. Se ha ajustado a ${Math.round(s)}M€ basado en el presupuesto de la categoría.`};if(T_(t.description).length>0){const r=await O_(t.description);return{isValid:!0,improvedProposal:{...t,description:r},error:"Se ha mejorado la descripción para incluir más detalles y referencias."}}return{isValid:!0}}catch(e){return console.error("Error validating proposal:",e),{isValid:!1,error:"Error al validar la propuesta"}}}function T_(t){const e=[];return t.length<200&&e.push("Descripción demasiado corta"),!t.match(/\d\.|•|-|\*|1\)/)&&!t.includes(`
`)&&e.push("Falta estructura clara"),t.match(/\d+[M€%]/)||e.push("Faltan datos cuantitativos"),!t.toLowerCase().includes("ejemplo")&&!t.match(/\([^)]*\)/)&&!t.toLowerCase().includes("referencia")&&e.push("Faltan ejemplos o referencias"),e}async function O_(t){return t.includes(`
`)||(t=t.replace(/\. /g,`.

`)),t.match(/1\.|Situación actual|Medidas propuestas|Ahorros/)||(t=`1. Situación actual:
${t}

2. Medidas propuestas:
- [Detallar medidas específicas]

3. Ahorros estimados:
- [Desglosar ahorros por medida]`),t}const Eh={nacional:["Administración","Contratación","Defensa","Infraestructuras","Otros"],autonomico:["Sanidad","Educación","Transportes","Servicios Sociales","Otros"],municipal:["Transporte","Infraestructura","Servicios Municipales","Cultura","Otros"]},A_=({isOpen:t,onClose:e,level:n})=>{const{user:s}=Ng(),[i,r]=O.useState({title:"",description:"",savings:"",category:Eh[n][0],nickname:(s==null?void 0:s.nickname)||""}),[o,a]=O.useState(!1),[l,c]=O.useState(""),[d,h]=O.useState([]),[f,p]=O.useState(!1);if(!t)return null;const y=async x=>{if(x.preventDefault(),c(""),h([]),!i.nickname.trim()){c("Por favor, introduce un nombre o apodo");return}const b={title:i.title.trim(),description:i.description.trim(),savings:parseInt(i.savings),category:i.category,level:n},m=await M_(b);if(!m.isValid){c(m.error||"Propuesta inválida");return}if(m.improvedProposal){if(!window.confirm(`${m.error}

¿Deseas continuar con la propuesta mejorada?`))return;b.description=m.improvedProposal.description,b.savings=m.improvedProposal.savings}a(!0);try{let g=localStorage.getItem("userFingerprint");g||(g=Math.random().toString(36).substring(2)+Date.now().toString(36),localStorage.setItem("userFingerprint",g));const v=(s==null?void 0:s.nickname)||`${i.nickname}_${g.substring(0,6)}`,{error:_}=await oe.from("proposals").insert({title:b.title,description:b.description,details:b.description,savings:b.savings,category:b.category,level:b.level,nickname:v,user_id:(s==null?void 0:s.id)||null});if(_)throw _;e()}catch(g){c(g.message||"Error al crear la propuesta")}finally{a(!1)}};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-2xl w-full relative max-h-[90vh] overflow-y-auto",children:[u.jsx("button",{onClick:e,className:"absolute right-4 top-4 text-gray-500 hover:text-gray-700",children:u.jsx(Cr,{size:24})}),u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Nueva Propuesta de Ahorro"}),u.jsx("button",{onClick:()=>p(!f),className:"text-blue-600 hover:text-blue-700",title:"Ver ayuda",children:u.jsx(rv,{size:24})})]}),u.jsxs("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[u.jsxs("div",{className:"flex items-center gap-2 text-blue-800 mb-2",children:[u.jsx(hv,{className:"text-blue-600",size:20}),u.jsx("h3",{className:"font-semibold",children:"Consejo para una mejor propuesta"})]}),u.jsx("p",{className:"text-blue-700 text-sm",children:"Cuando tengas tu idea de cómo combatir el despilfarro socialista, te recomendamos usar tu IA favorita (ChatGPT, Claude, etc.) para escribir la propuesta en detalle y con cifras de ahorro razonables dentro del presupuesto español. Esto te ayudará a:"}),u.jsxs("ul",{className:"mt-2 space-y-1 text-sm text-blue-700",children:[u.jsx("li",{children:"• Estructurar mejor tu propuesta"}),u.jsx("li",{children:"• Incluir datos y referencias relevantes"}),u.jsx("li",{children:"• Calcular ahorros realistas"}),u.jsx("li",{children:"• Mejorar la claridad y el impacto"})]})]}),f&&u.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg text-sm",children:[u.jsx("h3",{className:"font-semibold mb-2",children:"Consejos para una buena propuesta:"}),u.jsxs("ul",{className:"space-y-2 text-gray-600",children:[u.jsx("li",{children:"• Título breve y claro que resuma la propuesta"}),u.jsx("li",{children:"• Descripción concisa del ahorro propuesto"}),u.jsx("li",{children:"• Incluye ejemplos o referencias si los tienes"}),u.jsx("li",{children:"• Estima el ahorro de forma realista"}),u.jsx("li",{children:"• Usa un lenguaje respetuoso y constructivo"})]})]}),l&&u.jsx("div",{className:"mb-6 p-4 bg-red-50 text-red-600 rounded-lg",children:l}),d.length>0&&u.jsx("div",{className:"mb-6 p-4 bg-yellow-50 rounded-lg",children:u.jsx("ul",{className:"list-disc list-inside text-yellow-700 space-y-1",children:d.map((x,b)=>u.jsx("li",{children:x},b))})}),u.jsxs("form",{onSubmit:y,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"nickname",className:"block text-sm font-medium text-gray-700 mb-1",children:"Tu Nombre o Apodo"}),u.jsx("input",{type:"text",id:"nickname",value:i.nickname,onChange:x=>r({...i,nickname:x.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"¿Cómo quieres firmar esta propuesta?",required:!0,minLength:2,maxLength:50})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Título de la Propuesta"}),u.jsx("input",{type:"text",id:"title",value:i.title,onChange:x=>r({...i,title:x.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Escribe un título breve y claro",required:!0,minLength:5,maxLength:200})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoría"}),u.jsx("select",{id:"category",value:i.category,onChange:x=>r({...i,category:x.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:Eh[n].map(x=>u.jsx("option",{value:x,children:x},x))})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripción de la Propuesta"}),u.jsx("textarea",{id:"description",value:i.description,onChange:x=>r({...i,description:x.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:6,placeholder:`Explica brevemente tu propuesta de ahorro. Puedes incluir:
- Qué propones cambiar o mejorar
- Cómo se lograría el ahorro
- Ejemplos similares si los conoces`,required:!0,minLength:20,maxLength:4e3})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"savings",className:"block text-sm font-medium text-gray-700 mb-1",children:"Ahorro Estimado (millones €)"}),u.jsx("input",{type:"number",id:"savings",value:i.savings,onChange:x=>r({...i,savings:x.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0",step:"1",min:"1",max:"100000",required:!0})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-4",children:[u.jsx("button",{type:"button",onClick:e,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),u.jsx("button",{type:"submit",disabled:o||d.length>0,className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:o?"Publicando...":"Publicar Propuesta"})]})]})]})})},R_={nacional:["Administración","Contratación","Defensa","Infraestructuras","Otros"],autonomico:["Sanidad","Educación","Transportes","Servicios Sociales","Otros"],municipal:["Transporte","Infraestructura","Servicios Municipales","Cultura","Otros"]},D_=({isOpen:t,onClose:e,proposal:n})=>{const[s,i]=O.useState({title:n.title,description:n.description,savings:n.savings.toString(),category:n.category}),[r,o]=O.useState(!1),[a,l]=O.useState("");if(!t)return null;const c=async d=>{if(d.preventDefault(),l(""),!s.title.trim()){l("Por favor, introduce un título para la propuesta");return}if(!s.description.trim()){l("Por favor, describe tu propuesta de ahorro");return}if(!s.savings){l("Por favor, indica el ahorro estimado en millones de euros");return}const h=parseInt(s.savings);if(h>1e4){l("El ahorro máximo permitido por propuesta es de 10.000M€");return}o(!0);try{const{error:f}=await oe.from("proposals").update({title:s.title.trim(),description:s.description.trim(),details:s.description.trim(),savings:h,category:s.category}).eq("id",n.id);if(f)throw f;e()}catch(f){l(f.message||"Error al actualizar la propuesta")}finally{o(!1)}};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-2xl w-full relative max-h-[90vh] overflow-y-auto",children:[u.jsx("button",{onClick:e,className:"absolute right-4 top-4 text-gray-500 hover:text-gray-700",children:u.jsx(Cr,{size:24})}),u.jsx("div",{className:"flex items-center justify-between mb-6",children:u.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Editar Propuesta"})}),a&&u.jsx("div",{className:"mb-6 p-4 bg-red-50 text-red-600 rounded-lg",children:a}),u.jsxs("form",{onSubmit:c,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Título de la Propuesta"}),u.jsx("input",{type:"text",id:"title",value:s.title,onChange:d=>i({...s,title:d.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoría"}),u.jsx("select",{id:"category",value:s.category,onChange:d=>i({...s,category:d.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:R_[n.level].map(d=>u.jsx("option",{value:d,children:d},d))})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripción de la Propuesta"}),u.jsx("textarea",{id:"description",value:s.description,onChange:d=>i({...s,description:d.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:6,required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"savings",className:"block text-sm font-medium text-gray-700 mb-1",children:"Ahorro Estimado (millones €)"}),u.jsx("input",{type:"number",id:"savings",value:s.savings,onChange:d=>i({...s,savings:d.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-4",children:[u.jsx("button",{type:"button",onClick:e,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),u.jsx("button",{type:"submit",disabled:r,className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:r?"Guardando...":"Guardar Cambios"})]})]})]})})},L_=({onSearch:t})=>u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(uv,{className:"h-5 w-5 text-gray-400"})}),u.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Buscar propuestas por título, descripción o categoría...",onChange:e=>t(e.target.value)})]}),Mg="camino75";async function Ph(t,e){return prompt(`Introduce la contraseña para eliminar este ${t}:`)===Mg}async function I_(t){return prompt("Introduce la contraseña para editar esta propuesta:")===Mg}const z_=()=>{const{user:t}=Ng(),[e,n]=O.useState(!1),[s,i]=O.useState(!1),[r,o]=O.useState(null),[a,l]=O.useState(null),[c,d]=O.useState(""),[h,f]=O.useState(""),[p,y]=O.useState(""),[x,b]=O.useState([]),[m,g]=O.useState(!0),[v,_]=O.useState({}),[w,S]=O.useState(null),[k,j]=O.useState(""),[M,N]=O.useState([]);O.useEffect(()=>{let R=localStorage.getItem("userFingerprint");R||(R=Math.random().toString(36).substring(2)+Date.now().toString(36),localStorage.setItem("userFingerprint",R)),D();const I=oe.channel("proposals_changes").on("postgres_changes",{event:"*",schema:"public",table:"proposals"},()=>{D()}).on("postgres_changes",{event:"*",schema:"public",table:"votes"},()=>{D()}).subscribe();return()=>{oe.removeChannel(I)}},[]),O.useEffect(()=>{if(!x)return;const R=k.toLowerCase(),I=x.filter(P=>P.title.toLowerCase().includes(R)||P.description.toLowerCase().includes(R)||P.category.toLowerCase().includes(R));N(I)},[k,x]);const D=async()=>{try{g(!0);const R=localStorage.getItem("userFingerprint"),{data:I,error:P}=await oe.from("proposals").select(`
          *,
          comments (
            id,
            content,
            nickname,
            created_at
          ),
          votes (
            id,
            vote_type,
            nickname
          )
        `);if(P)throw P;const G={};I==null||I.forEach(en=>{var Ia;const Ve=en.votes||[],ue=Ve.filter(ni=>ni.vote_type==="up").length,ve=Ve.filter(ni=>ni.vote_type==="down").length,La=R?(Ia=Ve.find(ni=>ni.nickname.includes(R)))==null?void 0:Ia.vote_type:void 0;G[en.id]={upvotes:ue,downvotes:ve,userVote:La}});const Et=I==null?void 0:I.sort((en,Ve)=>{const ue=G[en.id],ve=G[Ve.id],La=((ue==null?void 0:ue.upvotes)||0)-((ue==null?void 0:ue.downvotes)||0);return((ve==null?void 0:ve.upvotes)||0)-((ve==null?void 0:ve.downvotes)||0)-La});_(G),b(Et||[])}catch(R){console.error("Error fetching data:",R)}finally{g(!1)}},F=async(R,I)=>{try{let P=localStorage.getItem("userFingerprint");P||(P=Math.random().toString(36).substring(2)+Date.now().toString(36),localStorage.setItem("userFingerprint",P));const G=(t==null?void 0:t.nickname)||`anon_${P}`;if(v[R].userVote===I){_(ue=>({...ue,[R]:{upvotes:I==="up"?ue[R].upvotes-1:ue[R].upvotes,downvotes:I==="down"?ue[R].downvotes-1:ue[R].downvotes,userVote:void 0}}));const{error:Ve}=await oe.from("votes").delete().eq("proposal_id",R).eq("nickname",G);if(Ve)throw Ve}else{_(ue=>({...ue,[R]:{upvotes:I==="up"?ue[R].upvotes+1:ue[R].upvotes,downvotes:I==="down"?ue[R].downvotes+1:ue[R].downvotes,userVote:I}}));const{error:Ve}=await oe.from("votes").upsert({proposal_id:R,vote_type:I,nickname:G},{onConflict:"proposal_id,nickname"});if(Ve)throw Ve}}catch(P){console.error("Error al votar:",P),D()}},se=async R=>{if(navigator.share)try{await navigator.share({title:R.title,text:`Propuesta de ahorro por ${R.nickname}: ${R.title} - Ahorro estimado: ${R.savings}M€`,url:window.location.href})}catch(I){console.log("Error sharing:",I)}else{const I=window.location.href;await navigator.clipboard.writeText(I),alert("Enlace copiado al portapapeles")}},je=R=>{l(a===R?null:R),y(""),d("");let I=localStorage.getItem("userFingerprint");I||(I=Math.random().toString(36).substring(2)+Date.now().toString(36),localStorage.setItem("userFingerprint",I),f(`Anon_${I.substring(0,6)}`))},q=async R=>{var I;if(y(""),!h.trim()){const P=localStorage.getItem("userFingerprint");if(P)f(`Anon_${P.substring(0,6)}`);else{y("Por favor, introduce un apodo para comentar");return}}try{const{error:P}=await oe.from("comments").insert({proposal_id:R,content:c.trim(),nickname:h.trim()||`Anon_${(I=localStorage.getItem("userFingerprint"))==null?void 0:I.substring(0,6)}`});if(P)throw P;d(""),f(""),y(""),D()}catch(P){console.error("Error al comentar:",P),y("Error al publicar el comentario. Por favor, intenta nuevamente.")}},K=()=>{if(!t){i(!0);return}n(!0)},Z=async(R,I)=>{try{if(!await Ph("proposal",I)){alert("No tienes permiso para eliminar esta propuesta");return}if(window.confirm("¿Estás seguro de que quieres eliminar esta propuesta?")){const{error:G}=await oe.from("proposals").delete().eq("id",R);if(G)throw G;D()}}catch(P){console.error("Error al eliminar la propuesta:",P),alert("Error al eliminar la propuesta")}},E=async R=>{await I_(R.nickname)?S(R):alert("Contraseña incorrecta")},L=async(R,I)=>{try{if(!await Ph("comment",I)){alert("No tienes permiso para eliminar este comentario");return}if(window.confirm("¿Estás seguro de que quieres eliminar este comentario?")){const{error:G}=await oe.from("comments").delete().eq("id",R);if(G)throw G;D()}}catch(P){console.error("Error al eliminar el comentario:",P),alert("Error al eliminar el comentario")}},z=R=>R.toLocaleString("es-ES",{maximumFractionDigits:0}),J=R=>{var I;return u.jsxs("div",{className:"mt-4 pt-4 border-t",children:[u.jsx("h4",{className:"font-semibold text-gray-800 mb-4",children:"Comentarios"}),u.jsxs("div",{className:"space-y-4",children:[(I=R.comments)==null?void 0:I.map(P=>u.jsxs("div",{className:"bg-white rounded-lg p-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"font-medium text-blue-600",children:P.nickname}),u.jsx("span",{className:"text-gray-500",children:"•"}),u.jsx("span",{className:"text-gray-500",children:new Date(P.created_at).toLocaleDateString("es-ES")})]}),u.jsx("button",{onClick:()=>L(P.id,P.nickname),className:"p-1 text-gray-400 hover:text-red-600 transition-colors",title:"Eliminar comentario",children:u.jsx(dh,{size:16})})]}),u.jsx("p",{className:"text-gray-700",children:P.content})]},P.id)),u.jsxs("div",{className:"bg-white rounded-lg p-4 space-y-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"text",value:h,onChange:P=>f(P.target.value),placeholder:"Tu apodo (opcional)",className:"flex-1 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),u.jsxs("div",{className:"text-sm text-gray-500",children:[u.jsx("span",{className:"hidden sm:inline",children:"o deja en blanco para comentar como anónimo"}),u.jsx("span",{className:"sm:hidden",children:"o deja en blanco"})]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[u.jsx("input",{type:"text",value:c,onChange:P=>d(P.target.value),placeholder:"Añade un comentario...",className:"flex-1 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),u.jsx("button",{onClick:()=>q(R.id),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 whitespace-nowrap",children:"Comentar"})]}),p&&u.jsx("p",{className:"text-sm text-red-600",children:p})]})]})]})},Y=R=>{const I=M.filter(P=>P.level===R);return I.length===0?k&&!x.some(P=>P.level===R)?null:u.jsx("div",{className:"bg-gray-50 rounded-lg p-6 text-center",children:u.jsx("p",{className:"text-gray-600",children:k?"No hay propuestas que coincidan con tu búsqueda en este nivel.":"No hay propuestas para este nivel todavía."})}):I.map(P=>{var G,Et,en,Ve,ue;return u.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[u.jsxs("div",{className:"p-4 cursor-pointer hover:bg-gray-50",onClick:()=>o(r===P.id?null:P.id),children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("span",{className:"inline-block px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:P.category}),u.jsx("span",{className:"text-sm text-gray-500",children:"•"}),u.jsx("span",{className:"text-sm text-gray-500",children:new Date(P.created_at).toLocaleDateString("es-ES")})]}),u.jsx("h3",{className:"text-xl font-bold text-gray-800",children:P.title})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[z(P.savings),"M€"]}),u.jsx("div",{className:"text-sm text-gray-500",children:"Ahorro estimado"})]}),r===P.id?u.jsx(sv,{className:"text-gray-400"}):u.jsx(nv,{className:"text-gray-400"})]})]}),u.jsxs("div",{className:"flex flex-wrap items-center gap-4 mt-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("button",{onClick:ve=>{ve.stopPropagation(),F(P.id,"up")},className:`flex items-center gap-1 ${((G=v[P.id])==null?void 0:G.userVote)==="up"?"text-green-600":"text-gray-600 hover:text-green-600"}`,children:[u.jsx(pv,{size:20}),u.jsx("span",{children:((Et=v[P.id])==null?void 0:Et.upvotes)||0})]}),u.jsxs("button",{onClick:ve=>{ve.stopPropagation(),F(P.id,"down")},className:`flex items-center gap-1 ml-2 ${((en=v[P.id])==null?void 0:en.userVote)==="down"?"text-red-600":"text-gray-600 hover:text-red-600"}`,children:[u.jsx(fv,{size:20}),u.jsx("span",{children:((Ve=v[P.id])==null?void 0:Ve.downvotes)||0})]})]}),u.jsxs("button",{onClick:ve=>{ve.stopPropagation(),je(P.id)},className:"flex items-center gap-2 text-gray-600 hover:text-blue-600",children:[u.jsx(av,{size:20}),u.jsx("span",{children:((ue=P.comments)==null?void 0:ue.length)||0})]}),u.jsxs("button",{onClick:ve=>{ve.stopPropagation(),se(P)},className:"flex items-center gap-2 text-gray-600 hover:text-blue-600",children:[u.jsx(dv,{size:20}),u.jsx("span",{className:"hidden sm:inline",children:"Compartir"})]}),u.jsxs("button",{onClick:ve=>{ve.stopPropagation(),E(P)},className:"flex items-center gap-2 text-gray-600 hover:text-blue-600",children:[u.jsx(lv,{size:20}),u.jsx("span",{className:"hidden sm:inline",children:"Editar"})]}),u.jsx("button",{onClick:ve=>{ve.stopPropagation(),Z(P.id,P.nickname)},className:"text-gray-400 hover:text-red-600 transition-colors",title:"Eliminar propuesta",children:u.jsx(dh,{size:20})})]})]}),r===P.id&&u.jsxs("div",{className:"p-4 border-t bg-gray-50",children:[u.jsx("p",{className:"text-gray-600 mb-4 whitespace-pre-line",children:P.description}),a===P.id&&J(P)]})]},P.id)})};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-center mb-8",children:[u.jsx(L_,{onSearch:j}),u.jsxs("button",{onClick:K,className:"w-full sm:w-auto flex items-center justify-center gap-2 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[u.jsx(cv,{size:20}),u.jsx("span",{children:"Nueva Propuesta"})]})]}),m?u.jsxs("div",{className:"text-center py-8",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),u.jsx("p",{className:"mt-4 text-gray-600",children:"Cargando propuestas..."})]}):u.jsx("div",{className:"space-y-8",children:k&&M.length===0?u.jsxs("div",{className:"bg-gray-50 rounded-lg p-8 text-center",children:[u.jsxs("p",{className:"text-gray-600 mb-2",children:['No se encontraron propuestas que coincidan con "',k,'"']}),u.jsx("p",{className:"text-sm text-gray-500",children:"Prueba con otros términos o revisa la ortografía"})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h2",{className:"text-2xl font-bold text-blue-900",children:"Propuestas Nacionales"}),!k&&u.jsx("div",{className:"text-sm text-gray-500 animate-bounce",children:"↓ Sigue bajando para ver propuestas autonómicas y municipales ↓"})]}),u.jsx("div",{className:"space-y-4",children:Y("nacional")})]}),u.jsxs("div",{className:"relative pt-12",children:[u.jsx("div",{className:"absolute inset-x-0 top-0 flex items-center justify-center",children:u.jsx("div",{className:"bg-blue-100 text-blue-800 text-sm font-medium px-4 py-1 rounded-full",children:"Propuestas Autonómicas"})}),u.jsx("div",{className:"space-y-4",children:Y("autonomico")})]}),u.jsxs("div",{className:"relative pt-12",children:[u.jsx("div",{className:"absolute inset-x-0 top-0 flex items-center justify-center",children:u.jsx("div",{className:"bg-blue-100 text-blue-800 text-sm font-medium px-4 py-1 rounded-full",children:"Propuestas Municipales"})}),u.jsx("div",{className:"space-y-4",children:Y("municipal")})]})]})}),u.jsx(A_,{isOpen:e,onClose:()=>{n(!1),D()},level:"nacional"}),u.jsx(Du,{isOpen:s,onClose:()=>i(!1)}),w&&u.jsx(D_,{isOpen:!0,onClose:()=>{S(null),D()},proposal:w})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Nr(t){return t+.5|0}const mn=(t,e,n)=>Math.max(Math.min(t,n),e);function ki(t){return mn(Nr(t*2.55),0,255)}function Cn(t){return mn(Nr(t*255),0,255)}function Vt(t){return mn(Nr(t/2.55)/100,0,1)}function Nh(t){return mn(Nr(t*100),0,100)}const at={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Cc=[..."0123456789ABCDEF"],F_=t=>Cc[t&15],$_=t=>Cc[(t&240)>>4]+Cc[t&15],Jr=t=>(t&240)>>4===(t&15),B_=t=>Jr(t.r)&&Jr(t.g)&&Jr(t.b)&&Jr(t.a);function U_(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&at[t[1]]*17,g:255&at[t[2]]*17,b:255&at[t[3]]*17,a:e===5?at[t[4]]*17:255}:(e===7||e===9)&&(n={r:at[t[1]]<<4|at[t[2]],g:at[t[3]]<<4|at[t[4]],b:at[t[5]]<<4|at[t[6]],a:e===9?at[t[7]]<<4|at[t[8]]:255})),n}const H_=(t,e)=>t<255?e(t):"";function V_(t){var e=B_(t)?F_:$_;return t?"#"+e(t.r)+e(t.g)+e(t.b)+H_(t.a,e):void 0}const W_=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Tg(t,e,n){const s=e*Math.min(n,1-n),i=(r,o=(r+t/30)%12)=>n-s*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function q_(t,e,n){const s=(i,r=(i+t/60)%6)=>n-n*e*Math.max(Math.min(r,4-r,1),0);return[s(5),s(3),s(1)]}function G_(t,e,n){const s=Tg(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)s[i]*=1-e-n,s[i]+=e;return s}function K_(t,e,n,s,i){return t===i?(e-n)/s+(e<n?6:0):e===i?(n-t)/s+2:(t-e)/s+4}function Lu(t){const n=t.r/255,s=t.g/255,i=t.b/255,r=Math.max(n,s,i),o=Math.min(n,s,i),a=(r+o)/2;let l,c,d;return r!==o&&(d=r-o,c=a>.5?d/(2-r-o):d/(r+o),l=K_(n,s,i,d,r),l=l*60+.5),[l|0,c||0,a]}function Iu(t,e,n,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,s)).map(Cn)}function zu(t,e,n){return Iu(Tg,t,e,n)}function Y_(t,e,n){return Iu(G_,t,e,n)}function X_(t,e,n){return Iu(q_,t,e,n)}function Og(t){return(t%360+360)%360}function Q_(t){const e=W_.exec(t);let n=255,s;if(!e)return;e[5]!==s&&(n=e[6]?ki(+e[5]):Cn(+e[5]));const i=Og(+e[2]),r=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?s=Y_(i,r,o):e[1]==="hsv"?s=X_(i,r,o):s=zu(i,r,o),{r:s[0],g:s[1],b:s[2],a:n}}function J_(t,e){var n=Lu(t);n[0]=Og(n[0]+e),n=zu(n),t.r=n[0],t.g=n[1],t.b=n[2]}function Z_(t){if(!t)return;const e=Lu(t),n=e[0],s=Nh(e[1]),i=Nh(e[2]);return t.a<255?`hsla(${n}, ${s}%, ${i}%, ${Vt(t.a)})`:`hsl(${n}, ${s}%, ${i}%)`}const Mh={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Th={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function ew(){const t={},e=Object.keys(Th),n=Object.keys(Mh);let s,i,r,o,a;for(s=0;s<e.length;s++){for(o=a=e[s],i=0;i<n.length;i++)r=n[i],a=a.replace(r,Mh[r]);r=parseInt(Th[o],16),t[a]=[r>>16&255,r>>8&255,r&255]}return t}let Zr;function tw(t){Zr||(Zr=ew(),Zr.transparent=[0,0,0,0]);const e=Zr[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const nw=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function sw(t){const e=nw.exec(t);let n=255,s,i,r;if(e){if(e[7]!==s){const o=+e[7];n=e[8]?ki(o):mn(o*255,0,255)}return s=+e[1],i=+e[3],r=+e[5],s=255&(e[2]?ki(s):mn(s,0,255)),i=255&(e[4]?ki(i):mn(i,0,255)),r=255&(e[6]?ki(r):mn(r,0,255)),{r:s,g:i,b:r,a:n}}}function iw(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Vt(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const pl=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,ps=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function rw(t,e,n){const s=ps(Vt(t.r)),i=ps(Vt(t.g)),r=ps(Vt(t.b));return{r:Cn(pl(s+n*(ps(Vt(e.r))-s))),g:Cn(pl(i+n*(ps(Vt(e.g))-i))),b:Cn(pl(r+n*(ps(Vt(e.b))-r))),a:t.a+n*(e.a-t.a)}}function eo(t,e,n){if(t){let s=Lu(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*n,e===0?360:1)),s=zu(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function Ag(t,e){return t&&Object.assign(e||{},t)}function Oh(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Cn(t[3]))):(e=Ag(t,{r:0,g:0,b:0,a:1}),e.a=Cn(e.a)),e}function ow(t){return t.charAt(0)==="r"?sw(t):Q_(t)}class dr{constructor(e){if(e instanceof dr)return e;const n=typeof e;let s;n==="object"?s=Oh(e):n==="string"&&(s=U_(e)||tw(e)||ow(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=Ag(this._rgb);return e&&(e.a=Vt(e.a)),e}set rgb(e){this._rgb=Oh(e)}rgbString(){return this._valid?iw(this._rgb):void 0}hexString(){return this._valid?V_(this._rgb):void 0}hslString(){return this._valid?Z_(this._rgb):void 0}mix(e,n){if(e){const s=this.rgb,i=e.rgb;let r;const o=n===r?.5:n,a=2*o-1,l=s.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-c,s.r=255&c*s.r+r*i.r+.5,s.g=255&c*s.g+r*i.g+.5,s.b=255&c*s.b+r*i.b+.5,s.a=o*s.a+(1-o)*i.a,this.rgb=s}return this}interpolate(e,n){return e&&(this._rgb=rw(this._rgb,e._rgb,n)),this}clone(){return new dr(this.rgb)}alpha(e){return this._rgb.a=Cn(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Nr(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return eo(this._rgb,2,e),this}darken(e){return eo(this._rgb,2,-e),this}saturate(e){return eo(this._rgb,1,e),this}desaturate(e){return eo(this._rgb,1,-e),this}rotate(e){return J_(this._rgb,e),this}}/*!
 * Chart.js v4.4.7
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function zt(){}const aw=(()=>{let t=0;return()=>t++})();function ne(t){return t==null}function we(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function W(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function gt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Nt(t,e){return gt(t)?t:e}function B(t,e){return typeof t>"u"?e:t}const lw=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,Rg=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function re(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function X(t,e,n,s){let i,r,o;if(we(t))for(r=t.length,i=0;i<r;i++)e.call(n,t[i],i);else if(W(t))for(o=Object.keys(t),r=o.length,i=0;i<r;i++)e.call(n,t[o[i]],o[i])}function na(t,e){let n,s,i,r;if(!t||!e||t.length!==e.length)return!1;for(n=0,s=t.length;n<s;++n)if(i=t[n],r=e[n],i.datasetIndex!==r.datasetIndex||i.index!==r.index)return!1;return!0}function sa(t){if(we(t))return t.map(sa);if(W(t)){const e=Object.create(null),n=Object.keys(t),s=n.length;let i=0;for(;i<s;++i)e[n[i]]=sa(t[n[i]]);return e}return t}function Dg(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function cw(t,e,n,s){if(!Dg(t))return;const i=e[t],r=n[t];W(i)&&W(r)?hr(i,r,s):e[t]=sa(r)}function hr(t,e,n){const s=we(e)?e:[e],i=s.length;if(!W(t))return t;n=n||{};const r=n.merger||cw;let o;for(let a=0;a<i;++a){if(o=s[a],!W(o))continue;const l=Object.keys(o);for(let c=0,d=l.length;c<d;++c)r(l[c],t,o,n)}return t}function $i(t,e){return hr(t,e,{merger:uw})}function uw(t,e,n){if(!Dg(t))return;const s=e[t],i=n[t];W(s)&&W(i)?$i(s,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=sa(i))}const Ah={"":t=>t,x:t=>t.x,y:t=>t.y};function dw(t){const e=t.split("."),n=[];let s="";for(const i of e)s+=i,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function hw(t){const e=dw(t);return n=>{for(const s of e){if(s==="")break;n=n&&n[s]}return n}}function ss(t,e){return(Ah[e]||(Ah[e]=hw(e)))(t)}function Fu(t){return t.charAt(0).toUpperCase()+t.slice(1)}const fr=t=>typeof t<"u",Nn=t=>typeof t=="function",Rh=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function fw(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const ge=Math.PI,me=2*ge,pw=me+ge,ia=Number.POSITIVE_INFINITY,mw=ge/180,Se=ge/2,Dn=ge/4,Dh=ge*2/3,Ec=Math.log10,It=Math.sign;function Bi(t,e,n){return Math.abs(t-e)<n}function Lh(t){const e=Math.round(t);t=Bi(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Ec(t))),s=t/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function gw(t){const e=[],n=Math.sqrt(t);let s;for(s=1;s<n;s++)t%s===0&&(e.push(s),e.push(t/s));return n===(n|0)&&e.push(n),e.sort((i,r)=>i-r).pop(),e}function pr(t){return!isNaN(parseFloat(t))&&isFinite(t)}function yw(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function xw(t,e,n){let s,i,r;for(s=0,i=t.length;s<i;s++)r=t[s][n],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function Gt(t){return t*(ge/180)}function vw(t){return t*(180/ge)}function Ih(t){if(!gt(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Lg(t,e){const n=e.x-t.x,s=e.y-t.y,i=Math.sqrt(n*n+s*s);let r=Math.atan2(s,n);return r<-.5*ge&&(r+=me),{angle:r,distance:i}}function Pc(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function bw(t,e){return(t-e+pw)%me-ge}function on(t){return(t%me+me)%me}function mr(t,e,n,s){const i=on(t),r=on(e),o=on(n),a=on(r-i),l=on(o-i),c=on(i-r),d=on(i-o);return i===r||i===o||s&&r===o||a>l&&c<d}function Le(t,e,n){return Math.max(e,Math.min(n,t))}function _w(t){return Le(t,-32768,32767)}function gn(t,e,n,s=1e-6){return t>=Math.min(e,n)-s&&t<=Math.max(e,n)+s}function $u(t,e,n){n=n||(o=>t[o]<e);let s=t.length-1,i=0,r;for(;s-i>1;)r=i+s>>1,n(r)?i=r:s=r;return{lo:i,hi:s}}const Gn=(t,e,n,s)=>$u(t,n,s?i=>{const r=t[i][e];return r<n||r===n&&t[i+1][e]===n}:i=>t[i][e]<n),ww=(t,e,n)=>$u(t,n,s=>t[s][e]>=n);function kw(t,e,n){let s=0,i=t.length;for(;s<i&&t[s]<e;)s++;for(;i>s&&t[i-1]>n;)i--;return s>0||i<t.length?t.slice(s,i):t}const Ig=["push","pop","shift","splice","unshift"];function Sw(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Ig.forEach(n=>{const s="_onData"+Fu(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...r){const o=i.apply(this,r);return t._chartjs.listeners.forEach(a=>{typeof a[s]=="function"&&a[s](...r)}),o}})})}function zh(t,e){const n=t._chartjs;if(!n)return;const s=n.listeners,i=s.indexOf(e);i!==-1&&s.splice(i,1),!(s.length>0)&&(Ig.forEach(r=>{delete t[r]}),delete t._chartjs)}function zg(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Fg=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function $g(t,e){let n=[],s=!1;return function(...i){n=i,s||(s=!0,Fg.call(window,()=>{s=!1,t.apply(e,n)}))}}function jw(t,e){let n;return function(...s){return e?(clearTimeout(n),n=setTimeout(t,e,s)):t.apply(this,s),e}}const Bu=t=>t==="start"?"left":t==="end"?"right":"center",Re=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,Cw=(t,e,n,s)=>t===(s?"left":"right")?n:t==="center"?(e+n)/2:e;function Ew(t,e,n){const s=e.length;let i=0,r=s;if(t._sorted){const{iScale:o,_parsed:a}=t,l=o.axis,{min:c,max:d,minDefined:h,maxDefined:f}=o.getUserBounds();h&&(i=Le(Math.min(Gn(a,l,c).lo,n?s:Gn(e,l,o.getPixelForValue(c)).lo),0,s-1)),f?r=Le(Math.max(Gn(a,o.axis,d,!0).hi+1,n?0:Gn(e,l,o.getPixelForValue(d),!0).hi+1),i,s)-i:r=s-i}return{start:i,count:r}}function Pw(t){const{xScale:e,yScale:n,_scaleRanges:s}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!s)return t._scaleRanges=i,!0;const r=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==n.min||s.ymax!==n.max;return Object.assign(s,i),r}const to=t=>t===0||t===1,Fh=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*me/n)),$h=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*me/n)+1,Ui={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Se)+1,easeOutSine:t=>Math.sin(t*Se),easeInOutSine:t=>-.5*(Math.cos(ge*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>to(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>to(t)?t:Fh(t,.075,.3),easeOutElastic:t=>to(t)?t:$h(t,.075,.3),easeInOutElastic(t){return to(t)?t:t<.5?.5*Fh(t*2,.1125,.45):.5+.5*$h(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Ui.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Ui.easeInBounce(t*2)*.5:Ui.easeOutBounce(t*2-1)*.5+.5};function Uu(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Bh(t){return Uu(t)?t:new dr(t)}function ml(t){return Uu(t)?t:new dr(t).saturate(.5).darken(.1).hexString()}const Nw=["x","y","borderWidth","radius","tension"],Mw=["color","borderColor","backgroundColor"];function Tw(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:Mw},numbers:{type:"number",properties:Nw}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Ow(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Uh=new Map;function Aw(t,e){e=e||{};const n=t+JSON.stringify(e);let s=Uh.get(n);return s||(s=new Intl.NumberFormat(t,e),Uh.set(n,s)),s}function Hu(t,e,n){return Aw(e,n).format(t)}const Bg={values(t){return we(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const s=this.chart.options.locale;let i,r=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),r=Rw(t,n)}const o=Ec(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Hu(t,s,l)},logarithmic(t,e,n){if(t===0)return"0";const s=n[e].significand||t/Math.pow(10,Math.floor(Ec(t)));return[1,2,3,5,10,15].includes(s)||e>.8*n.length?Bg.numeric.call(this,t,e,n):""}};function Rw(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Ug={formatters:Bg};function Dw(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ug.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const is=Object.create(null),Nc=Object.create(null);function Hi(t,e){if(!e)return t;const n=e.split(".");for(let s=0,i=n.length;s<i;++s){const r=n[s];t=t[r]||(t[r]=Object.create(null))}return t}function gl(t,e,n){return typeof e=="string"?hr(Hi(t,e),n):hr(Hi(t,""),e)}class Lw{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,i)=>ml(i.backgroundColor),this.hoverBorderColor=(s,i)=>ml(i.borderColor),this.hoverColor=(s,i)=>ml(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return gl(this,e,n)}get(e){return Hi(this,e)}describe(e,n){return gl(Nc,e,n)}override(e,n){return gl(is,e,n)}route(e,n,s,i){const r=Hi(this,e),o=Hi(this,s),a="_"+n;Object.defineProperties(r,{[a]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[i];return W(l)?Object.assign({},c,l):B(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var xe=new Lw({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Tw,Ow,Dw]);function Iw(t){return!t||ne(t.size)||ne(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Hh(t,e,n,s,i){let r=e[i];return r||(r=e[i]=t.measureText(i).width,n.push(i)),r>s&&(s=r),s}function Ln(t,e,n){const s=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*s)/s+i}function Vh(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Mc(t,e,n,s){Hg(t,e,n,s,null)}function Hg(t,e,n,s,i){let r,o,a,l,c,d,h,f;const p=e.pointStyle,y=e.rotation,x=e.radius;let b=(y||0)*mw;if(p&&typeof p=="object"&&(r=p.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){t.save(),t.translate(n,s),t.rotate(b),t.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),t.restore();return}if(!(isNaN(x)||x<=0)){switch(t.beginPath(),p){default:i?t.ellipse(n,s,i/2,x,0,0,me):t.arc(n,s,x,0,me),t.closePath();break;case"triangle":d=i?i/2:x,t.moveTo(n+Math.sin(b)*d,s-Math.cos(b)*x),b+=Dh,t.lineTo(n+Math.sin(b)*d,s-Math.cos(b)*x),b+=Dh,t.lineTo(n+Math.sin(b)*d,s-Math.cos(b)*x),t.closePath();break;case"rectRounded":c=x*.516,l=x-c,o=Math.cos(b+Dn)*l,h=Math.cos(b+Dn)*(i?i/2-c:l),a=Math.sin(b+Dn)*l,f=Math.sin(b+Dn)*(i?i/2-c:l),t.arc(n-h,s-a,c,b-ge,b-Se),t.arc(n+f,s-o,c,b-Se,b),t.arc(n+h,s+a,c,b,b+Se),t.arc(n-f,s+o,c,b+Se,b+ge),t.closePath();break;case"rect":if(!y){l=Math.SQRT1_2*x,d=i?i/2:l,t.rect(n-d,s-l,2*d,2*l);break}b+=Dn;case"rectRot":h=Math.cos(b)*(i?i/2:x),o=Math.cos(b)*x,a=Math.sin(b)*x,f=Math.sin(b)*(i?i/2:x),t.moveTo(n-h,s-a),t.lineTo(n+f,s-o),t.lineTo(n+h,s+a),t.lineTo(n-f,s+o),t.closePath();break;case"crossRot":b+=Dn;case"cross":h=Math.cos(b)*(i?i/2:x),o=Math.cos(b)*x,a=Math.sin(b)*x,f=Math.sin(b)*(i?i/2:x),t.moveTo(n-h,s-a),t.lineTo(n+h,s+a),t.moveTo(n+f,s-o),t.lineTo(n-f,s+o);break;case"star":h=Math.cos(b)*(i?i/2:x),o=Math.cos(b)*x,a=Math.sin(b)*x,f=Math.sin(b)*(i?i/2:x),t.moveTo(n-h,s-a),t.lineTo(n+h,s+a),t.moveTo(n+f,s-o),t.lineTo(n-f,s+o),b+=Dn,h=Math.cos(b)*(i?i/2:x),o=Math.cos(b)*x,a=Math.sin(b)*x,f=Math.sin(b)*(i?i/2:x),t.moveTo(n-h,s-a),t.lineTo(n+h,s+a),t.moveTo(n+f,s-o),t.lineTo(n-f,s+o);break;case"line":o=i?i/2:Math.cos(b)*x,a=Math.sin(b)*x,t.moveTo(n-o,s-a),t.lineTo(n+o,s+a);break;case"dash":t.moveTo(n,s),t.lineTo(n+Math.cos(b)*(i?i/2:x),s+Math.sin(b)*x);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function gr(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Vu(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Wu(t){t.restore()}function zw(t,e,n,s,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const r=(e.x+n.x)/2;t.lineTo(r,e.y),t.lineTo(r,n.y)}else i==="after"!=!!s?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function Fw(t,e,n,s){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?n.cp2x:n.cp1x,s?n.cp2y:n.cp1y,n.x,n.y)}function $w(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),ne(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function Bw(t,e,n,s,i){if(i.strikethrough||i.underline){const r=t.measureText(s),o=e-r.actualBoundingBoxLeft,a=e+r.actualBoundingBoxRight,l=n-r.actualBoundingBoxAscent,c=n+r.actualBoundingBoxDescent,d=i.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,d),t.lineTo(a,d),t.stroke()}}function Uw(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function yr(t,e,n,s,i,r={}){const o=we(e)?e:[e],a=r.strokeWidth>0&&r.strokeColor!=="";let l,c;for(t.save(),t.font=i.string,$w(t,r),l=0;l<o.length;++l)c=o[l],r.backdrop&&Uw(t,r.backdrop),a&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),ne(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(c,n,s,r.maxWidth)),t.fillText(c,n,s,r.maxWidth),Bw(t,n,s,c,r),s+=Number(i.lineHeight);t.restore()}function ra(t,e){const{x:n,y:s,w:i,h:r,radius:o}=e;t.arc(n+o.topLeft,s+o.topLeft,o.topLeft,1.5*ge,ge,!0),t.lineTo(n,s+r-o.bottomLeft),t.arc(n+o.bottomLeft,s+r-o.bottomLeft,o.bottomLeft,ge,Se,!0),t.lineTo(n+i-o.bottomRight,s+r),t.arc(n+i-o.bottomRight,s+r-o.bottomRight,o.bottomRight,Se,0,!0),t.lineTo(n+i,s+o.topRight),t.arc(n+i-o.topRight,s+o.topRight,o.topRight,0,-Se,!0),t.lineTo(n+o.topLeft,s)}const Hw=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Vw=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Ww(t,e){const n=(""+t).match(Hw);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const qw=t=>+t||0;function qu(t,e){const n={},s=W(e),i=s?Object.keys(e):e,r=W(t)?s?o=>B(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of i)n[o]=qw(r(o));return n}function Vg(t){return qu(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Ls(t){return qu(t,["topLeft","topRight","bottomLeft","bottomRight"])}function yt(t){const e=Vg(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Ie(t,e){t=t||{},e=e||xe.font;let n=B(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let s=B(t.style,e.style);s&&!(""+s).match(Vw)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const i={family:B(t.family,e.family),lineHeight:Ww(B(t.lineHeight,e.lineHeight),n),size:n,style:s,weight:B(t.weight,e.weight),string:""};return i.string=Iw(i),i}function no(t,e,n,s){let i,r,o;for(i=0,r=t.length;i<r;++i)if(o=t[i],o!==void 0&&o!==void 0)return o}function Gw(t,e,n){const{min:s,max:i}=t,r=Rg(e,(i-s)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(s,-Math.abs(r)),max:o(i,r)}}function cs(t,e){return Object.assign(Object.create(t),e)}function Gu(t,e=[""],n,s,i=()=>t[0]){const r=n||t;typeof s>"u"&&(s=Kg("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:r,_fallback:s,_getTarget:i,override:a=>Gu([a,...t],e,r,s)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return qg(a,l,()=>t1(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return qh(a).includes(l)},ownKeys(a){return qh(a)},set(a,l,c){const d=a._storage||(a._storage=i());return a[l]=d[l]=c,delete a._keys,!0}})}function Gs(t,e,n,s){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:Wg(t,s),setContext:r=>Gs(t,r,n,s),override:r=>Gs(t.override(r),e,n,s)};return new Proxy(i,{deleteProperty(r,o){return delete r[o],delete t[o],!0},get(r,o,a){return qg(r,o,()=>Yw(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(r,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(r,o,a){return t[o]=a,delete r[o],!0}})}function Wg(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:s=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:s,isScriptable:Nn(n)?n:()=>n,isIndexable:Nn(s)?s:()=>s}}const Kw=(t,e)=>t?t+Fu(e):e,Ku=(t,e)=>W(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function qg(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const s=n();return t[e]=s,s}function Yw(t,e,n){const{_proxy:s,_context:i,_subProxy:r,_descriptors:o}=t;let a=s[e];return Nn(a)&&o.isScriptable(e)&&(a=Xw(e,a,t,n)),we(a)&&a.length&&(a=Qw(e,a,t,o.isIndexable)),Ku(e,a)&&(a=Gs(a,i,r&&r[e],o)),a}function Xw(t,e,n,s){const{_proxy:i,_context:r,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(r,o||s);return a.delete(t),Ku(t,l)&&(l=Yu(i._scopes,i,t,l)),l}function Qw(t,e,n,s){const{_proxy:i,_context:r,_subProxy:o,_descriptors:a}=n;if(typeof r.index<"u"&&s(t))return e[r.index%e.length];if(W(e[0])){const l=e,c=i._scopes.filter(d=>d!==l);e=[];for(const d of l){const h=Yu(c,i,t,d);e.push(Gs(h,r,o&&o[t],a))}}return e}function Gg(t,e,n){return Nn(t)?t(e,n):t}const Jw=(t,e)=>t===!0?e:typeof t=="string"?ss(e,t):void 0;function Zw(t,e,n,s,i){for(const r of e){const o=Jw(n,r);if(o){t.add(o);const a=Gg(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==s)return a}else if(o===!1&&typeof s<"u"&&n!==s)return null}return!1}function Yu(t,e,n,s){const i=e._rootScopes,r=Gg(e._fallback,n,s),o=[...t,...i],a=new Set;a.add(s);let l=Wh(a,o,n,r||n,s);return l===null||typeof r<"u"&&r!==n&&(l=Wh(a,o,r,l,s),l===null)?!1:Gu(Array.from(a),[""],i,r,()=>e1(e,n,s))}function Wh(t,e,n,s,i){for(;n;)n=Zw(t,e,n,s,i);return n}function e1(t,e,n){const s=t._getTarget();e in s||(s[e]={});const i=s[e];return we(i)&&W(n)?n:i||{}}function t1(t,e,n,s){let i;for(const r of e)if(i=Kg(Kw(r,t),n),typeof i<"u")return Ku(t,i)?Yu(n,s,t,i):i}function Kg(t,e){for(const n of e){if(!n)continue;const s=n[t];if(typeof s<"u")return s}}function qh(t){let e=t._keys;return e||(e=t._keys=n1(t._scopes)),e}function n1(t){const e=new Set;for(const n of t)for(const s of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(s);return Array.from(e)}const s1=Number.EPSILON||1e-14,Ks=(t,e)=>e<t.length&&!t[e].skip&&t[e],Yg=t=>t==="x"?"y":"x";function i1(t,e,n,s){const i=t.skip?e:t,r=e,o=n.skip?e:n,a=Pc(r,i),l=Pc(o,r);let c=a/(a+l),d=l/(a+l);c=isNaN(c)?0:c,d=isNaN(d)?0:d;const h=s*c,f=s*d;return{previous:{x:r.x-h*(o.x-i.x),y:r.y-h*(o.y-i.y)},next:{x:r.x+f*(o.x-i.x),y:r.y+f*(o.y-i.y)}}}function r1(t,e,n){const s=t.length;let i,r,o,a,l,c=Ks(t,0);for(let d=0;d<s-1;++d)if(l=c,c=Ks(t,d+1),!(!l||!c)){if(Bi(e[d],0,s1)){n[d]=n[d+1]=0;continue}i=n[d]/e[d],r=n[d+1]/e[d],a=Math.pow(i,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),n[d]=i*o*e[d],n[d+1]=r*o*e[d])}}function o1(t,e,n="x"){const s=Yg(n),i=t.length;let r,o,a,l=Ks(t,0);for(let c=0;c<i;++c){if(o=a,a=l,l=Ks(t,c+1),!a)continue;const d=a[n],h=a[s];o&&(r=(d-o[n])/3,a[`cp1${n}`]=d-r,a[`cp1${s}`]=h-r*e[c]),l&&(r=(l[n]-d)/3,a[`cp2${n}`]=d+r,a[`cp2${s}`]=h+r*e[c])}}function a1(t,e="x"){const n=Yg(e),s=t.length,i=Array(s).fill(0),r=Array(s);let o,a,l,c=Ks(t,0);for(o=0;o<s;++o)if(a=l,l=c,c=Ks(t,o+1),!!l){if(c){const d=c[e]-l[e];i[o]=d!==0?(c[n]-l[n])/d:0}r[o]=a?c?It(i[o-1])!==It(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}r1(t,i,r),o1(t,r,e)}function so(t,e,n){return Math.max(Math.min(t,n),e)}function l1(t,e){let n,s,i,r,o,a=gr(t[0],e);for(n=0,s=t.length;n<s;++n)o=r,r=a,a=n<s-1&&gr(t[n+1],e),r&&(i=t[n],o&&(i.cp1x=so(i.cp1x,e.left,e.right),i.cp1y=so(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=so(i.cp2x,e.left,e.right),i.cp2y=so(i.cp2y,e.top,e.bottom)))}function c1(t,e,n,s,i){let r,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")a1(t,i);else{let c=s?t[t.length-1]:t[0];for(r=0,o=t.length;r<o;++r)a=t[r],l=i1(c,a,t[Math.min(r+1,o-(s?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&l1(t,n)}function Xu(){return typeof window<"u"&&typeof document<"u"}function Qu(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function oa(t,e,n){let s;return typeof t=="string"?(s=parseInt(t,10),t.indexOf("%")!==-1&&(s=s/100*e.parentNode[n])):s=t,s}const Ra=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function u1(t,e){return Ra(t).getPropertyValue(e)}const d1=["top","right","bottom","left"];function Xn(t,e,n){const s={};n=n?"-"+n:"";for(let i=0;i<4;i++){const r=d1[i];s[r]=parseFloat(t[e+"-"+r+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const h1=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function f1(t,e){const n=t.touches,s=n&&n.length?n[0]:t,{offsetX:i,offsetY:r}=s;let o=!1,a,l;if(h1(i,r,t.target))a=i,l=r;else{const c=e.getBoundingClientRect();a=s.clientX-c.left,l=s.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Bn(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:s}=e,i=Ra(n),r=i.boxSizing==="border-box",o=Xn(i,"padding"),a=Xn(i,"border","width"),{x:l,y:c,box:d}=f1(t,n),h=o.left+(d&&a.left),f=o.top+(d&&a.top);let{width:p,height:y}=e;return r&&(p-=o.width+a.width,y-=o.height+a.height),{x:Math.round((l-h)/p*n.width/s),y:Math.round((c-f)/y*n.height/s)}}function p1(t,e,n){let s,i;if(e===void 0||n===void 0){const r=t&&Qu(t);if(!r)e=t.clientWidth,n=t.clientHeight;else{const o=r.getBoundingClientRect(),a=Ra(r),l=Xn(a,"border","width"),c=Xn(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,s=oa(a.maxWidth,r,"clientWidth"),i=oa(a.maxHeight,r,"clientHeight")}}return{width:e,height:n,maxWidth:s||ia,maxHeight:i||ia}}const io=t=>Math.round(t*10)/10;function m1(t,e,n,s){const i=Ra(t),r=Xn(i,"margin"),o=oa(i.maxWidth,t,"clientWidth")||ia,a=oa(i.maxHeight,t,"clientHeight")||ia,l=p1(t,e,n);let{width:c,height:d}=l;if(i.boxSizing==="content-box"){const f=Xn(i,"border","width"),p=Xn(i,"padding");c-=p.width+f.width,d-=p.height+f.height}return c=Math.max(0,c-r.width),d=Math.max(0,s?c/s:d-r.height),c=io(Math.min(c,o,l.maxWidth)),d=io(Math.min(d,a,l.maxHeight)),c&&!d&&(d=io(c/2)),(e!==void 0||n!==void 0)&&s&&l.height&&d>l.height&&(d=l.height,c=io(Math.floor(d*s))),{width:c,height:d}}function Gh(t,e,n){const s=e||1,i=Math.floor(t.height*s),r=Math.floor(t.width*s);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==s||o.height!==i||o.width!==r?(t.currentDevicePixelRatio=s,o.height=i,o.width=r,t.ctx.setTransform(s,0,0,s,0,0),!0):!1}const g1=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Xu()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function Kh(t,e){const n=u1(t,e),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function Un(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function y1(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:s==="middle"?n<.5?t.y:e.y:s==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function x1(t,e,n,s){const i={x:t.cp2x,y:t.cp2y},r={x:e.cp1x,y:e.cp1y},o=Un(t,i,n),a=Un(i,r,n),l=Un(r,e,n),c=Un(o,a,n),d=Un(a,l,n);return Un(c,d,n)}const v1=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},b1=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Is(t,e,n){return t?v1(e,n):b1()}function Xg(t,e){let n,s;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=s)}function Qg(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Jg(t){return t==="angle"?{between:mr,compare:bw,normalize:on}:{between:gn,compare:(e,n)=>e-n,normalize:e=>e}}function Yh({start:t,end:e,count:n,loop:s,style:i}){return{start:t%n,end:e%n,loop:s&&(e-t+1)%n===0,style:i}}function _1(t,e,n){const{property:s,start:i,end:r}=n,{between:o,normalize:a}=Jg(s),l=e.length;let{start:c,end:d,loop:h}=t,f,p;if(h){for(c+=l,d+=l,f=0,p=l;f<p&&o(a(e[c%l][s]),i,r);++f)c--,d--;c%=l,d%=l}return d<c&&(d+=l),{start:c,end:d,loop:h,style:t.style}}function w1(t,e,n){if(!n)return[t];const{property:s,start:i,end:r}=n,o=e.length,{compare:a,between:l,normalize:c}=Jg(s),{start:d,end:h,loop:f,style:p}=_1(t,e,n),y=[];let x=!1,b=null,m,g,v;const _=()=>l(i,v,m)&&a(i,v)!==0,w=()=>a(r,m)===0||l(r,v,m),S=()=>x||_(),k=()=>!x||w();for(let j=d,M=d;j<=h;++j)g=e[j%o],!g.skip&&(m=c(g[s]),m!==v&&(x=l(m,i,r),b===null&&S()&&(b=a(m,i)===0?j:M),b!==null&&k()&&(y.push(Yh({start:b,end:j,loop:f,count:o,style:p})),b=null),M=j,v=m));return b!==null&&y.push(Yh({start:b,end:h,loop:f,count:o,style:p})),y}function k1(t,e){const n=[],s=t.segments;for(let i=0;i<s.length;i++){const r=w1(s[i],t.points,e);r.length&&n.push(...r)}return n}function S1(t,e,n,s){let i=0,r=e-1;if(n&&!s)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(r+=i);r>i&&t[r%e].skip;)r--;return r%=e,{start:i,end:r}}function j1(t,e,n,s){const i=t.length,r=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%i];c.skip||c.stop?a.skip||(s=!1,r.push({start:e%i,end:(l-1)%i,loop:s}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&r.push({start:e%i,end:o%i,loop:s}),r}function C1(t,e){const n=t.points,s=t.options.spanGaps,i=n.length;if(!i)return[];const r=!!t._loop,{start:o,end:a}=S1(n,i,r,s);if(s===!0)return Xh(t,[{start:o,end:a,loop:r}],n,e);const l=a<o?a+i:a,c=!!t._fullLoop&&o===0&&a===i-1;return Xh(t,j1(n,o,l,c),n,e)}function Xh(t,e,n,s){return!s||!s.setContext||!n?e:E1(t,e,n,s)}function E1(t,e,n,s){const i=t._chart.getContext(),r=Qh(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let d=r,h=e[0].start,f=h;function p(y,x,b,m){const g=a?-1:1;if(y!==x){for(y+=l;n[y%l].skip;)y-=g;for(;n[x%l].skip;)x+=g;y%l!==x%l&&(c.push({start:y%l,end:x%l,loop:b,style:m}),d=m,h=x%l)}}for(const y of e){h=a?h:y.start;let x=n[h%l],b;for(f=h+1;f<=y.end;f++){const m=n[f%l];b=Qh(s.setContext(cs(i,{type:"segment",p0:x,p1:m,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),P1(b,d)&&p(h,f-1,y.loop,d),x=m,d=b}h<f-1&&p(h,f-1,y.loop,d)}return c}function Qh(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function P1(t,e){if(!e)return!1;const n=[],s=function(i,r){return Uu(r)?(n.includes(r)||n.push(r),n.indexOf(r)):r};return JSON.stringify(t,s)!==JSON.stringify(e,s)}/*!
 * Chart.js v4.4.7
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class N1{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,s,i){const r=n.listeners[i],o=n.duration;r.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(s-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Fg.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((s,i)=>{if(!s.running||!s.items.length)return;const r=s.items;let o=r.length-1,a=!1,l;for(;o>=0;--o)l=r[o],l._active?(l._total>s.duration&&(s.duration=l._total),l.tick(e),a=!0):(r[o]=r[r.length-1],r.pop());a&&(i.draw(),this._notify(i,s,e,"progress")),r.length||(s.running=!1,this._notify(i,s,e,"complete"),s.initial=!1),n+=r.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let s=n.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,s)),s}listen(e,n,s){this._getAnims(e).listeners[n].push(s)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,i)=>Math.max(s,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const s=n.items;let i=s.length-1;for(;i>=0;--i)s[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Ft=new N1;const Jh="transparent",M1={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const s=Bh(t||Jh),i=s.valid&&Bh(e||Jh);return i&&i.valid?i.mix(s,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class T1{constructor(e,n,s,i){const r=n[s];i=no([e.to,i,r,e.from]);const o=no([e.from,r,i]);this._active=!0,this._fn=e.fn||M1[e.type||typeof o],this._easing=Ui[e.easing]||Ui.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=s,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,s){if(this._active){this._notify(!1);const i=this._target[this._prop],r=s-this._start,o=this._duration-r;this._start=s,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=no([e.to,n,i,e.from]),this._from=no([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,s=this._duration,i=this._prop,r=this._from,o=this._loop,a=this._to;let l;if(this._active=r!==a&&(o||n<s),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=r;return}l=n/s%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(r,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,s)=>{e.push({res:n,rej:s})})}_notify(e){const n=e?"res":"rej",s=this._promises||[];for(let i=0;i<s.length;i++)s[i][n]()}}class Zg{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!W(e))return;const n=Object.keys(xe.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const r=e[i];if(!W(r))return;const o={};for(const a of n)o[a]=r[a];(we(r.properties)&&r.properties||[i]).forEach(a=>{(a===i||!s.has(a))&&s.set(a,o)})})}_animateOptions(e,n){const s=n.options,i=A1(e,s);if(!i)return[];const r=this._createAnimations(i,s);return s.$shared&&O1(e.options.$animations,s).then(()=>{e.options=s},()=>{}),r}_createAnimations(e,n){const s=this._properties,i=[],r=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,n));continue}const d=n[c];let h=r[c];const f=s.get(c);if(h)if(f&&h.active()){h.update(f,d,a);continue}else h.cancel();if(!f||!f.duration){e[c]=d;continue}r[c]=h=new T1(f,e,c,d),i.push(h)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const s=this._createAnimations(e,n);if(s.length)return Ft.add(this._chart,s),!0}}function O1(t,e){const n=[],s=Object.keys(e);for(let i=0;i<s.length;i++){const r=t[s[i]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function A1(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Zh(t,e){const n=t&&t.options||{},s=n.reverse,i=n.min===void 0?e:0,r=n.max===void 0?e:0;return{start:s?r:i,end:s?i:r}}function R1(t,e,n){if(n===!1)return!1;const s=Zh(t,n),i=Zh(e,n);return{top:i.end,right:s.end,bottom:i.start,left:s.start}}function D1(t){let e,n,s,i;return W(t)?(e=t.top,n=t.right,s=t.bottom,i=t.left):e=n=s=i=t,{top:e,right:n,bottom:s,left:i,disabled:t===!1}}function e0(t,e){const n=[],s=t._getSortedDatasetMetas(e);let i,r;for(i=0,r=s.length;i<r;++i)n.push(s[i].index);return n}function ef(t,e,n,s={}){const i=t.keys,r=s.mode==="single";let o,a,l,c;if(e===null)return;let d=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===n){if(d=!0,s.all)continue;break}c=t.values[l],gt(c)&&(r||e===0||It(e)===It(c))&&(e+=c)}return!d&&!s.all?0:e}function L1(t,e){const{iScale:n,vScale:s}=e,i=n.axis==="x"?"x":"y",r=s.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,d;for(l=0,c=o.length;l<c;++l)d=o[l],a[l]={[i]:d,[r]:t[d]};return a}function yl(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function I1(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function z1(t){const{min:e,max:n,minDefined:s,maxDefined:i}=t.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function F1(t,e,n){const s=t[e]||(t[e]={});return s[n]||(s[n]={})}function tf(t,e,n,s){for(const i of e.getMatchingVisibleMetas(s).reverse()){const r=t[i.index];if(n&&r>0||!n&&r<0)return i.index}return null}function nf(t,e){const{chart:n,_cachedMeta:s}=t,i=n._stacks||(n._stacks={}),{iScale:r,vScale:o,index:a}=s,l=r.axis,c=o.axis,d=I1(r,o,s),h=e.length;let f;for(let p=0;p<h;++p){const y=e[p],{[l]:x,[c]:b}=y,m=y._stacks||(y._stacks={});f=m[c]=F1(i,d,x),f[a]=b,f._top=tf(f,o,!0,s.type),f._bottom=tf(f,o,!1,s.type);const g=f._visualValues||(f._visualValues={});g[a]=b}}function xl(t,e){const n=t.scales;return Object.keys(n).filter(s=>n[s].axis===e).shift()}function $1(t,e){return cs(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function B1(t,e,n){return cs(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function fi(t,e){const n=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){e=e||t._parsed;for(const i of e){const r=i._stacks;if(!r||r[s]===void 0||r[s][n]===void 0)return;delete r[s][n],r[s]._visualValues!==void 0&&r[s]._visualValues[n]!==void 0&&delete r[s]._visualValues[n]}}}const vl=t=>t==="reset"||t==="none",sf=(t,e)=>e?t:Object.assign({},t),U1=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:e0(n,!0),values:null};class Qn{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=yl(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&fi(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,s=this.getDataset(),i=(h,f,p,y)=>h==="x"?f:h==="r"?y:p,r=n.xAxisID=B(s.xAxisID,xl(e,"x")),o=n.yAxisID=B(s.yAxisID,xl(e,"y")),a=n.rAxisID=B(s.rAxisID,xl(e,"r")),l=n.indexAxis,c=n.iAxisID=i(l,r,o,a),d=n.vAxisID=i(l,o,r,a);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&zh(this._data,this),e._stacked&&fi(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),s=this._data;if(W(n)){const i=this._cachedMeta;this._data=L1(n,i)}else if(s!==n){if(s){zh(s,this);const i=this._cachedMeta;fi(i),i._parsed=[]}n&&Object.isExtensible(n)&&Sw(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,s=this.getDataset();let i=!1;this._dataCheck();const r=n._stacked;n._stacked=yl(n.vScale,n),n.stack!==s.stack&&(i=!0,fi(n),n.stack=s.stack),this._resyncElements(e),(i||r!==n._stacked)&&(nf(this,n._parsed),n._stacked=yl(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:s,_data:i}=this,{iScale:r,_stacked:o}=s,a=r.axis;let l=e===0&&n===i.length?!0:s._sorted,c=e>0&&s._parsed[e-1],d,h,f;if(this._parsing===!1)s._parsed=i,s._sorted=!0,f=i;else{we(i[e])?f=this.parseArrayData(s,i,e,n):W(i[e])?f=this.parseObjectData(s,i,e,n):f=this.parsePrimitiveData(s,i,e,n);const p=()=>h[a]===null||c&&h[a]<c[a];for(d=0;d<n;++d)s._parsed[d+e]=h=f[d],l&&(p()&&(l=!1),c=h);s._sorted=l}o&&nf(this,f)}parsePrimitiveData(e,n,s,i){const{iScale:r,vScale:o}=e,a=r.axis,l=o.axis,c=r.getLabels(),d=r===o,h=new Array(i);let f,p,y;for(f=0,p=i;f<p;++f)y=f+s,h[f]={[a]:d||r.parse(c[y],y),[l]:o.parse(n[y],y)};return h}parseArrayData(e,n,s,i){const{xScale:r,yScale:o}=e,a=new Array(i);let l,c,d,h;for(l=0,c=i;l<c;++l)d=l+s,h=n[d],a[l]={x:r.parse(h[0],d),y:o.parse(h[1],d)};return a}parseObjectData(e,n,s,i){const{xScale:r,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let d,h,f,p;for(d=0,h=i;d<h;++d)f=d+s,p=n[f],c[d]={x:r.parse(ss(p,a),f),y:o.parse(ss(p,l),f)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,s){const i=this.chart,r=this._cachedMeta,o=n[e.axis],a={keys:e0(i,!0),values:n._stacks[e.axis]._visualValues};return ef(a,o,r.index,{mode:s})}updateRangeFromParsed(e,n,s,i){const r=s[n.axis];let o=r===null?NaN:r;const a=i&&s._stacks[n.axis];i&&a&&(i.values=a,o=ef(i,r,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const s=this._cachedMeta,i=s._parsed,r=s._sorted&&e===s.iScale,o=i.length,a=this._getOtherScale(e),l=U1(n,s,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:h}=z1(a);let f,p;function y(){p=i[f];const x=p[a.axis];return!gt(p[e.axis])||d>x||h<x}for(f=0;f<o&&!(!y()&&(this.updateRangeFromParsed(c,e,p,l),r));++f);if(r){for(f=o-1;f>=0;--f)if(!y()){this.updateRangeFromParsed(c,e,p,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,s=[];let i,r,o;for(i=0,r=n.length;i<r;++i)o=n[i][e.axis],gt(o)&&s.push(o);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,s=n.iScale,i=n.vScale,r=this.getParsed(e);return{label:s?""+s.getLabelForValue(r[s.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=D1(B(this.options.clip,R1(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,s=this._cachedMeta,i=s.data||[],r=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let d;for(s.dataset&&s.dataset.draw(e,r,a,l),d=a;d<a+l;++d){const h=i[d];h.hidden||(h.active&&c?o.push(h):h.draw(e,r))}for(d=0;d<o.length;++d)o[d].draw(e,r)}getStyle(e,n){const s=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,n,s){const i=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];r=o.$context||(o.$context=B1(this.getContext(),e,o)),r.parsed=this.getParsed(e),r.raw=i.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=$1(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=s,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",s){const i=n==="active",r=this._cachedDataOpts,o=e+"-"+n,a=r[o],l=this.enableOptionSharing&&fr(s);if(a)return sf(a,l);const c=this.chart.config,d=c.datasetElementScopeKeys(this._type,e),h=i?[`${e}Hover`,"hover",e,""]:[e,""],f=c.getOptionScopes(this.getDataset(),d),p=Object.keys(xe.elements[e]),y=()=>this.getContext(s,i,n),x=c.resolveNamedOptions(f,p,y,h);return x.$shared&&(x.$shared=l,r[o]=Object.freeze(sf(x,l))),x}_resolveAnimations(e,n,s){const i=this.chart,r=this._cachedDataOpts,o=`animation-${n}`,a=r[o];if(a)return a;let l;if(i.options.animation!==!1){const d=this.chart.config,h=d.datasetAnimationScopeKeys(this._type,n),f=d.getOptionScopes(this.getDataset(),h);l=d.createResolver(f,this.getContext(e,s,n))}const c=new Zg(i,l&&l.animations);return l&&l._cacheable&&(r[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||vl(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const s=this.resolveDataElementOptions(e,n),i=this._sharedOptions,r=this.getSharedOptions(s),o=this.includeOptions(n,r)||r!==i;return this.updateSharedOptions(r,n,s),{sharedOptions:r,includeOptions:o}}updateElement(e,n,s,i){vl(i)?Object.assign(e,s):this._resolveAnimations(n,i).update(e,s)}updateSharedOptions(e,n,s){e&&!vl(n)&&this._resolveAnimations(void 0,n).update(e,s)}_setStyle(e,n,s,i){e.active=i;const r=this.getStyle(n,i);this._resolveAnimations(n,s,i).update(e,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(e,n,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,n,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,s=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=s.length,r=n.length,o=Math.min(r,i);o&&this.parse(0,o),r>i?this._insertElements(i,r-i,e):r<i&&this._removeElements(r,i-r)}_insertElements(e,n,s=!0){const i=this._cachedMeta,r=i.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(r),a=e;a<o;++a)r[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,n),s&&this.updateElements(r,e,n,"reset")}updateElements(e,n,s,i){}_removeElements(e,n){const s=this._cachedMeta;if(this._parsing){const i=s._parsed.splice(e,n);s._stacked&&fi(s,i)}s.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,s,i]=e;this[n](s,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}A(Qn,"defaults",{}),A(Qn,"datasetElementType",null),A(Qn,"dataElementType",null);function H1(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let s=[];for(let i=0,r=n.length;i<r;i++)s=s.concat(n[i].controller.getAllParsedValues(t));t._cache.$bar=zg(s.sort((i,r)=>i-r))}return t._cache.$bar}function V1(t){const e=t.iScale,n=H1(e,t.type);let s=e._length,i,r,o,a;const l=()=>{o===32767||o===-32768||(fr(a)&&(s=Math.min(s,Math.abs(o-a)||s)),a=o)};for(i=0,r=n.length;i<r;++i)o=e.getPixelForValue(n[i]),l();for(a=void 0,i=0,r=e.ticks.length;i<r;++i)o=e.getPixelForTick(i),l();return s}function W1(t,e,n,s){const i=n.barThickness;let r,o;return ne(i)?(r=e.min*n.categoryPercentage,o=n.barPercentage):(r=i*s,o=1),{chunk:r/s,ratio:o,start:e.pixels[t]-r/2}}function q1(t,e,n,s){const i=e.pixels,r=i[t];let o=t>0?i[t-1]:null,a=t<i.length-1?i[t+1]:null;const l=n.categoryPercentage;o===null&&(o=r-(a===null?e.end-e.start:a-r)),a===null&&(a=r+r-o);const c=r-(r-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/s,ratio:n.barPercentage,start:c}}function G1(t,e,n,s){const i=n.parse(t[0],s),r=n.parse(t[1],s),o=Math.min(i,r),a=Math.max(i,r);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:i,end:r,min:o,max:a}}function t0(t,e,n,s){return we(t)?G1(t,e,n,s):e[n.axis]=n.parse(t,s),e}function rf(t,e,n,s){const i=t.iScale,r=t.vScale,o=i.getLabels(),a=i===r,l=[];let c,d,h,f;for(c=n,d=n+s;c<d;++c)f=e[c],h={},h[i.axis]=a||i.parse(o[c],c),l.push(t0(f,h,r,c));return l}function bl(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function K1(t,e,n){return t!==0?It(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function Y1(t){let e,n,s,i,r;return t.horizontal?(e=t.base>t.x,n="left",s="right"):(e=t.base<t.y,n="bottom",s="top"),e?(i="end",r="start"):(i="start",r="end"),{start:n,end:s,reverse:e,top:i,bottom:r}}function X1(t,e,n,s){let i=e.borderSkipped;const r={};if(!i){t.borderSkipped=r;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:d}=Y1(t);i==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===s?i=c:(n._bottom||0)===s?i=d:(r[of(d,o,a,l)]=!0,i=c)),r[of(i,o,a,l)]=!0,t.borderSkipped=r}function of(t,e,n,s){return s?(t=Q1(t,e,n),t=af(t,n,e)):t=af(t,e,n),t}function Q1(t,e,n){return t===e?n:t===n?e:t}function af(t,e,n){return t==="start"?e:t==="end"?n:t}function J1(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class jo extends Qn{parsePrimitiveData(e,n,s,i){return rf(e,n,s,i)}parseArrayData(e,n,s,i){return rf(e,n,s,i)}parseObjectData(e,n,s,i){const{iScale:r,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=r.axis==="x"?a:l,d=o.axis==="x"?a:l,h=[];let f,p,y,x;for(f=s,p=s+i;f<p;++f)x=n[f],y={},y[r.axis]=r.parse(ss(x,c),f),h.push(t0(ss(x,d),y,o,f));return h}updateRangeFromParsed(e,n,s,i){super.updateRangeFromParsed(e,n,s,i);const r=s._custom;r&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:s,vScale:i}=n,r=this.getParsed(e),o=r._custom,a=bl(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+s.getLabelForValue(r[s.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,s,i){const r=i==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),d=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(n,i);for(let p=n;p<n+s;p++){const y=this.getParsed(p),x=r||ne(y[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(p),b=this._calculateBarIndexPixels(p,d),m=(y._stacks||{})[a.axis],g={horizontal:c,base:x.base,enableBorderRadius:!m||bl(y._custom)||o===m._top||o===m._bottom,x:c?x.head:b.center,y:c?b.center:x.head,height:c?b.size:Math.abs(x.size),width:c?Math.abs(x.size):b.size};f&&(g.options=h||this.resolveDataElementOptions(p,e[p].active?"active":i));const v=g.options||e[p].options;X1(g,v,m,o),J1(g,v,d.ratio),this.updateElement(e[p],p,g,i)}}_getStacks(e,n){const{iScale:s}=this._cachedMeta,i=s.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),r=s.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),l=a&&a[s.axis],c=d=>{const h=d._parsed.find(p=>p[s.axis]===l),f=h&&h[d.vScale.axis];if(ne(f)||isNaN(f))return!0};for(const d of i)if(!(n!==void 0&&c(d))&&((r===!1||o.indexOf(d.stack)===-1||r===void 0&&d.stack===void 0)&&o.push(d.stack),d.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,s){const i=this._getStacks(e,s),r=n!==void 0?i.indexOf(n):-1;return r===-1?i.length-1:r}_getRuler(){const e=this.options,n=this._cachedMeta,s=n.iScale,i=[];let r,o;for(r=0,o=n.data.length;r<o;++r)i.push(s.getPixelForValue(this.getParsed(r)[s.axis],r));const a=e.barThickness;return{min:a||V1(n),pixels:i,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:s,index:i},options:{base:r,minBarLength:o}}=this,a=r||0,l=this.getParsed(e),c=l._custom,d=bl(c);let h=l[n.axis],f=0,p=s?this.applyStack(n,l,s):h,y,x;p!==h&&(f=p-h,p=h),d&&(h=c.barStart,p=c.barEnd-c.barStart,h!==0&&It(h)!==It(c.barEnd)&&(f=0),f+=h);const b=!ne(r)&&!d?r:f;let m=n.getPixelForValue(b);if(this.chart.getDataVisibility(e)?y=n.getPixelForValue(f+p):y=m,x=y-m,Math.abs(x)<o){x=K1(x,n,a)*o,h===a&&(m-=x/2);const g=n.getPixelForDecimal(0),v=n.getPixelForDecimal(1),_=Math.min(g,v),w=Math.max(g,v);m=Math.max(Math.min(m,w),_),y=m+x,s&&!d&&(l._stacks[n.axis]._visualValues[i]=n.getValueForPixel(y)-n.getValueForPixel(m))}if(m===n.getPixelForValue(a)){const g=It(x)*n.getLineWidthForValue(a)/2;m+=g,x-=g}return{size:x,base:m,head:y,center:y+x/2}}_calculateBarIndexPixels(e,n){const s=n.scale,i=this.options,r=i.skipNull,o=B(i.maxBarThickness,1/0);let a,l;if(n.grouped){const c=r?this._getStackCount(e):n.stackCount,d=i.barThickness==="flex"?q1(e,n,i,c):W1(e,n,i,c),h=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0);a=d.start+d.chunk*h+d.chunk/2,l=Math.min(o,d.chunk*d.ratio)}else a=s.getPixelForValue(this.getParsed(e)[s.axis],e),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,s=e.data,i=s.length;let r=0;for(;r<i;++r)this.getParsed(r)[n.axis]!==null&&!s[r].hidden&&s[r].draw(this._ctx)}}A(jo,"id","bar"),A(jo,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),A(jo,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function Z1(t,e,n){let s=1,i=1,r=0,o=0;if(e<me){const a=t,l=a+e,c=Math.cos(a),d=Math.sin(a),h=Math.cos(l),f=Math.sin(l),p=(v,_,w)=>mr(v,a,l,!0)?1:Math.max(_,_*n,w,w*n),y=(v,_,w)=>mr(v,a,l,!0)?-1:Math.min(_,_*n,w,w*n),x=p(0,c,h),b=p(Se,d,f),m=y(ge,c,h),g=y(ge+Se,d,f);s=(x-m)/2,i=(b-g)/2,r=-(x+m)/2,o=-(b+g)/2}return{ratioX:s,ratioY:i,offsetX:r,offsetY:o}}class Si extends Qn{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const s=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=s;else{let r=l=>+s[l];if(W(s[e])){const{key:l="value"}=this._parsing;r=c=>+ss(s[c],l)}let o,a;for(o=e,a=e+n;o<a;++o)i._parsed[o]=r(o)}}_getRotation(){return Gt(this.options.rotation-90)}_getCircumference(){return Gt(this.options.circumference)}_getRotationExtents(){let e=me,n=-me;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const i=this.chart.getDatasetMeta(s).controller,r=i._getRotation(),o=i._getCircumference();e=Math.min(e,r),n=Math.max(n,r+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:s}=n,i=this._cachedMeta,r=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(s.width,s.height)-o)/2,0),l=Math.min(lw(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:d,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:y,offsetY:x}=Z1(h,d,l),b=(s.width-o)/f,m=(s.height-o)/p,g=Math.max(Math.min(b,m)/2,0),v=Rg(this.options.radius,g),_=Math.max(v*l,0),w=(v-_)/this._getVisibleDatasetWeightTotal();this.offsetX=y*v,this.offsetY=x*v,i.total=this.calculateTotal(),this.outerRadius=v-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*c,0),this.updateElements(r,0,r.length,e)}_circumference(e,n){const s=this.options,i=this._cachedMeta,r=this._getCircumference();return n&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*r/me)}updateElements(e,n,s,i){const r=i==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,d=(a.left+a.right)/2,h=(a.top+a.bottom)/2,f=r&&c.animateScale,p=f?0:this.innerRadius,y=f?0:this.outerRadius,{sharedOptions:x,includeOptions:b}=this._getSharedOptions(n,i);let m=this._getRotation(),g;for(g=0;g<n;++g)m+=this._circumference(g,r);for(g=n;g<n+s;++g){const v=this._circumference(g,r),_=e[g],w={x:d+this.offsetX,y:h+this.offsetY,startAngle:m,endAngle:m+v,circumference:v,outerRadius:y,innerRadius:p};b&&(w.options=x||this.resolveDataElementOptions(g,_.active?"active":i)),m+=v,this.updateElement(_,g,w,i)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let s=0,i;for(i=0;i<n.length;i++){const r=e._parsed[i];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(s+=Math.abs(r))}return s}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?me*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,s=this.chart,i=s.data.labels||[],r=Hu(n._parsed[e],s.options.locale);return{label:i[e]||"",value:r}}getMaxBorderWidth(e){let n=0;const s=this.chart;let i,r,o,a,l;if(!e){for(i=0,r=s.data.datasets.length;i<r;++i)if(s.isDatasetVisible(i)){o=s.getDatasetMeta(i),e=o.data,a=o.controller;break}}if(!e)return 0;for(i=0,r=e.length;i<r;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let s=0,i=e.length;s<i;++s){const r=this.resolveDataElementOptions(s);n=Math.max(n,r.offset||0,r.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(n+=this._getRingWeight(s));return n}_getRingWeight(e){return Math.max(B(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}A(Si,"id","doughnut"),A(Si,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),A(Si,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),A(Si,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:s,color:i}}=e.legend.options;return n.labels.map((r,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:s,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}}});class Co extends Qn{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:s,data:i=[],_dataset:r}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=Ew(n,i,o);this._drawStart=a,this._drawCount=l,Pw(n)&&(a=0,l=i.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!r._decimated,s.points=i;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(s,void 0,{animated:!o,options:c},e),this.updateElements(i,a,l,e)}updateElements(e,n,s,i){const r=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:d,includeOptions:h}=this._getSharedOptions(n,i),f=o.axis,p=a.axis,{spanGaps:y,segment:x}=this.options,b=pr(y)?y:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||r||i==="none",g=n+s,v=e.length;let _=n>0&&this.getParsed(n-1);for(let w=0;w<v;++w){const S=e[w],k=m?S:{};if(w<n||w>=g){k.skip=!0;continue}const j=this.getParsed(w),M=ne(j[p]),N=k[f]=o.getPixelForValue(j[f],w),D=k[p]=r||M?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,j,l):j[p],w);k.skip=isNaN(N)||isNaN(D)||M,k.stop=w>0&&Math.abs(j[f]-_[f])>b,x&&(k.parsed=j,k.raw=c.data[w]),h&&(k.options=d||this.resolveDataElementOptions(w,S.active?"active":i)),m||this.updateElement(S,w,k,i),_=j}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,s=n.options&&n.options.borderWidth||0,i=e.data||[];if(!i.length)return s;const r=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(s,r,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}A(Co,"id","line"),A(Co,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),A(Co,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Tc extends Si{}A(Tc,"id","pie"),A(Tc,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function In(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Ju{constructor(e){A(this,"options");this.options=e||{}}static override(e){Object.assign(Ju.prototype,e)}init(){}formats(){return In()}parse(){return In()}format(){return In()}add(){return In()}diff(){return In()}startOf(){return In()}endOf(){return In()}}var ek={_date:Ju};function tk(t,e,n,s){const{controller:i,data:r,_sorted:o}=t,a=i._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&o&&r.length){const l=a._reversePixels?ww:Gn;if(s){if(i._sharedOptions){const c=r[0],d=typeof c.getRange=="function"&&c.getRange(e);if(d){const h=l(r,e,n-d),f=l(r,e,n+d);return{lo:h.lo,hi:f.hi}}}}else return l(r,e,n)}return{lo:0,hi:r.length-1}}function Mr(t,e,n,s,i){const r=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=r.length;a<l;++a){const{index:c,data:d}=r[a],{lo:h,hi:f}=tk(r[a],e,o,i);for(let p=h;p<=f;++p){const y=d[p];y.skip||s(y,c,p)}}}function nk(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(s,i){const r=e?Math.abs(s.x-i.x):0,o=n?Math.abs(s.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function _l(t,e,n,s,i){const r=[];return!i&&!t.isPointInArea(e)||Mr(t,n,e,function(a,l,c){!i&&!gr(a,t.chartArea,0)||a.inRange(e.x,e.y,s)&&r.push({element:a,datasetIndex:l,index:c})},!0),r}function sk(t,e,n,s){let i=[];function r(o,a,l){const{startAngle:c,endAngle:d}=o.getProps(["startAngle","endAngle"],s),{angle:h}=Lg(o,{x:e.x,y:e.y});mr(h,c,d)&&i.push({element:o,datasetIndex:a,index:l})}return Mr(t,n,e,r),i}function ik(t,e,n,s,i,r){let o=[];const a=nk(n);let l=Number.POSITIVE_INFINITY;function c(d,h,f){const p=d.inRange(e.x,e.y,i);if(s&&!p)return;const y=d.getCenterPoint(i);if(!(!!r||t.isPointInArea(y))&&!p)return;const b=a(e,y);b<l?(o=[{element:d,datasetIndex:h,index:f}],l=b):b===l&&o.push({element:d,datasetIndex:h,index:f})}return Mr(t,n,e,c),o}function wl(t,e,n,s,i,r){return!r&&!t.isPointInArea(e)?[]:n==="r"&&!s?sk(t,e,n,i):ik(t,e,n,s,i,r)}function lf(t,e,n,s,i){const r=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Mr(t,n,e,(l,c,d)=>{l[o]&&l[o](e[n],i)&&(r.push({element:l,datasetIndex:c,index:d}),a=a||l.inRange(e.x,e.y,i))}),s&&!a?[]:r}var rk={evaluateInteractionItems:Mr,modes:{index(t,e,n,s){const i=Bn(e,t),r=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?_l(t,i,r,s,o):wl(t,i,r,!1,s,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const d=a[0].index,h=c.data[d];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:d})}),l):[]},dataset(t,e,n,s){const i=Bn(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?_l(t,i,r,s,o):wl(t,i,r,!1,s,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let d=0;d<c.length;++d)a.push({element:c[d],datasetIndex:l,index:d})}return a},point(t,e,n,s){const i=Bn(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return _l(t,i,r,s,o)},nearest(t,e,n,s){const i=Bn(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return wl(t,i,r,n.intersect,s,o)},x(t,e,n,s){const i=Bn(e,t);return lf(t,i,"x",n.intersect,s)},y(t,e,n,s){const i=Bn(e,t);return lf(t,i,"y",n.intersect,s)}}};const n0=["left","top","right","bottom"];function pi(t,e){return t.filter(n=>n.pos===e)}function cf(t,e){return t.filter(n=>n0.indexOf(n.pos)===-1&&n.box.axis===e)}function mi(t,e){return t.sort((n,s)=>{const i=e?s:n,r=e?n:s;return i.weight===r.weight?i.index-r.index:i.weight-r.weight})}function ok(t){const e=[];let n,s,i,r,o,a;for(n=0,s=(t||[]).length;n<s;++n)i=t[n],{position:r,options:{stack:o,stackWeight:a=1}}=i,e.push({index:n,box:i,pos:r,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&r+o,stackWeight:a});return e}function ak(t){const e={};for(const n of t){const{stack:s,pos:i,stackWeight:r}=n;if(!s||!n0.includes(i))continue;const o=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return e}function lk(t,e){const n=ak(t),{vBoxMaxWidth:s,hBoxMaxHeight:i}=e;let r,o,a;for(r=0,o=t.length;r<o;++r){a=t[r];const{fullSize:l}=a.box,c=n[a.stack],d=c&&a.stackWeight/c.weight;a.horizontal?(a.width=d?d*s:l&&e.availableWidth,a.height=i):(a.width=s,a.height=d?d*i:l&&e.availableHeight)}return n}function ck(t){const e=ok(t),n=mi(e.filter(c=>c.box.fullSize),!0),s=mi(pi(e,"left"),!0),i=mi(pi(e,"right")),r=mi(pi(e,"top"),!0),o=mi(pi(e,"bottom")),a=cf(e,"x"),l=cf(e,"y");return{fullSize:n,leftAndTop:s.concat(r),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:pi(e,"chartArea"),vertical:s.concat(i).concat(l),horizontal:r.concat(o).concat(a)}}function uf(t,e,n,s){return Math.max(t[n],e[n])+Math.max(t[s],e[s])}function s0(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function uk(t,e,n,s){const{pos:i,box:r}=n,o=t.maxPadding;if(!W(i)){n.size&&(t[i]-=n.size);const h=s[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?r.height:r.width),n.size=h.size/h.count,t[i]+=n.size}r.getPadding&&s0(o,r.getPadding());const a=Math.max(0,e.outerWidth-uf(o,t,"left","right")),l=Math.max(0,e.outerHeight-uf(o,t,"top","bottom")),c=a!==t.w,d=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:d}:{same:d,other:c}}function dk(t){const e=t.maxPadding;function n(s){const i=Math.max(e[s]-t[s],0);return t[s]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function hk(t,e){const n=e.maxPadding;function s(i){const r={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{r[o]=Math.max(e[o],n[o])}),r}return s(t?["left","right"]:["top","bottom"])}function ji(t,e,n,s){const i=[];let r,o,a,l,c,d;for(r=0,o=t.length,c=0;r<o;++r){a=t[r],l=a.box,l.update(a.width||e.w,a.height||e.h,hk(a.horizontal,e));const{same:h,other:f}=uk(e,n,a,s);c|=h&&i.length,d=d||f,l.fullSize||i.push(a)}return c&&ji(i,e,n,s)||d}function ro(t,e,n,s,i){t.top=n,t.left=e,t.right=e+s,t.bottom=n+i,t.width=s,t.height=i}function df(t,e,n,s){const i=n.padding;let{x:r,y:o}=e;for(const a of t){const l=a.box,c=s[a.stack]||{count:1,placed:0,weight:1},d=a.stackWeight/c.weight||1;if(a.horizontal){const h=e.w*d,f=c.size||l.height;fr(c.start)&&(o=c.start),l.fullSize?ro(l,i.left,o,n.outerWidth-i.right-i.left,f):ro(l,e.left+c.placed,o,h,f),c.start=o,c.placed+=h,o=l.bottom}else{const h=e.h*d,f=c.size||l.width;fr(c.start)&&(r=c.start),l.fullSize?ro(l,r,i.top,f,n.outerHeight-i.bottom-i.top):ro(l,r,e.top+c.placed,f,h),c.start=r,c.placed+=h,r=l.right}}e.x=r,e.y=o}var dt={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,s){if(!t)return;const i=yt(t.options.layout.padding),r=Math.max(e-i.width,0),o=Math.max(n-i.height,0),a=ck(t.boxes),l=a.vertical,c=a.horizontal;X(t.boxes,x=>{typeof x.beforeLayout=="function"&&x.beforeLayout()});const d=l.reduce((x,b)=>b.box.options&&b.box.options.display===!1?x:x+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/d,hBoxMaxHeight:o/2}),f=Object.assign({},i);s0(f,yt(s));const p=Object.assign({maxPadding:f,w:r,h:o,x:i.left,y:i.top},i),y=lk(l.concat(c),h);ji(a.fullSize,p,h,y),ji(l,p,h,y),ji(c,p,h,y)&&ji(l,p,h,y),dk(p),df(a.leftAndTop,p,h,y),p.x+=p.w,p.y+=p.h,df(a.rightAndBottom,p,h,y),t.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},X(a.chartArea,x=>{const b=x.box;Object.assign(b,t.chartArea),b.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class i0{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,s){}removeEventListener(e,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,s,i){return n=Math.max(0,n||e.width),s=s||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):s)}}isAttached(e){return!0}updateConfig(e){}}class fk extends i0{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Eo="$chartjs",pk={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},hf=t=>t===null||t==="";function mk(t,e){const n=t.style,s=t.getAttribute("height"),i=t.getAttribute("width");if(t[Eo]={initial:{height:s,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",hf(i)){const r=Kh(t,"width");r!==void 0&&(t.width=r)}if(hf(s))if(t.style.height==="")t.height=t.width/(e||2);else{const r=Kh(t,"height");r!==void 0&&(t.height=r)}return t}const r0=g1?{passive:!0}:!1;function gk(t,e,n){t&&t.addEventListener(e,n,r0)}function yk(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,r0)}function xk(t,e){const n=pk[t.type]||t.type,{x:s,y:i}=Bn(t,e);return{type:n,chart:e,native:t,x:s!==void 0?s:null,y:i!==void 0?i:null}}function aa(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function vk(t,e,n){const s=t.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||aa(a.addedNodes,s),o=o&&!aa(a.removedNodes,s);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function bk(t,e,n){const s=t.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||aa(a.removedNodes,s),o=o&&!aa(a.addedNodes,s);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const xr=new Map;let ff=0;function o0(){const t=window.devicePixelRatio;t!==ff&&(ff=t,xr.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function _k(t,e){xr.size||window.addEventListener("resize",o0),xr.set(t,e)}function wk(t){xr.delete(t),xr.size||window.removeEventListener("resize",o0)}function kk(t,e,n){const s=t.canvas,i=s&&Qu(s);if(!i)return;const r=$g((a,l)=>{const c=i.clientWidth;n(a,l),c<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,d=l.contentRect.height;c===0&&d===0||r(c,d)});return o.observe(i),_k(t,r),o}function kl(t,e,n){n&&n.disconnect(),e==="resize"&&wk(t)}function Sk(t,e,n){const s=t.canvas,i=$g(r=>{t.ctx!==null&&n(xk(r,t))},t);return gk(s,e,i),i}class jk extends i0{acquireContext(e,n){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(mk(e,n),s):null}releaseContext(e){const n=e.canvas;if(!n[Eo])return!1;const s=n[Eo].initial;["height","width"].forEach(r=>{const o=s[r];ne(o)?n.removeAttribute(r):n.setAttribute(r,o)});const i=s.style||{};return Object.keys(i).forEach(r=>{n.style[r]=i[r]}),n.width=n.width,delete n[Eo],!0}addEventListener(e,n,s){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),o={attach:vk,detach:bk,resize:kk}[n]||Sk;i[n]=o(e,n,s)}removeEventListener(e,n){const s=e.$proxies||(e.$proxies={}),i=s[n];if(!i)return;({attach:kl,detach:kl,resize:kl}[n]||yk)(e,n,i),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,s,i){return m1(e,n,s,i)}isAttached(e){const n=e&&Qu(e);return!!(n&&n.isConnected)}}function Ck(t){return!Xu()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?fk:jk}class Ct{constructor(){A(this,"x");A(this,"y");A(this,"active",!1);A(this,"options");A(this,"$animations")}tooltipPosition(e){const{x:n,y:s}=this.getProps(["x","y"],e);return{x:n,y:s}}hasValue(){return pr(this.x)&&pr(this.y)}getProps(e,n){const s=this.$animations;if(!n||!s)return this;const i={};return e.forEach(r=>{i[r]=s[r]&&s[r].active()?s[r]._to:this[r]}),i}}A(Ct,"defaults",{}),A(Ct,"defaultRoutes");function Ek(t,e){const n=t.options.ticks,s=Pk(t),i=Math.min(n.maxTicksLimit||s,s),r=n.major.enabled?Mk(e):[],o=r.length,a=r[0],l=r[o-1],c=[];if(o>i)return Tk(e,c,r,o/i),c;const d=Nk(r,e,i);if(o>0){let h,f;const p=o>1?Math.round((l-a)/(o-1)):null;for(oo(e,c,d,ne(p)?0:a-p,a),h=0,f=o-1;h<f;h++)oo(e,c,d,r[h],r[h+1]);return oo(e,c,d,l,ne(p)?e.length:l+p),c}return oo(e,c,d),c}function Pk(t){const e=t.options.offset,n=t._tickSize(),s=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(s,i))}function Nk(t,e,n){const s=Ok(t),i=e.length/n;if(!s)return Math.max(i,1);const r=gw(s);for(let o=0,a=r.length-1;o<a;o++){const l=r[o];if(l>i)return l}return Math.max(i,1)}function Mk(t){const e=[];let n,s;for(n=0,s=t.length;n<s;n++)t[n].major&&e.push(n);return e}function Tk(t,e,n,s){let i=0,r=n[0],o;for(s=Math.ceil(s),o=0;o<t.length;o++)o===r&&(e.push(t[o]),i++,r=n[i*s])}function oo(t,e,n,s,i){const r=B(s,0),o=Math.min(B(i,t.length),t.length);let a=0,l,c,d;for(n=Math.ceil(n),i&&(l=i-s,n=l/Math.floor(l/n)),d=r;d<0;)a++,d=Math.round(r+a*n);for(c=Math.max(r,0);c<o;c++)c===d&&(e.push(t[c]),a++,d=Math.round(r+a*n))}function Ok(t){const e=t.length;let n,s;if(e<2)return!1;for(s=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==s)return!1;return s}const Ak=t=>t==="left"?"right":t==="right"?"left":t,pf=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,mf=(t,e)=>Math.min(e||t,t);function gf(t,e){const n=[],s=t.length/e,i=t.length;let r=0;for(;r<i;r+=s)n.push(t[Math.floor(r)]);return n}function Rk(t,e,n){const s=t.ticks.length,i=Math.min(e,s-1),r=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(i),c;if(!(n&&(s===1?c=Math.max(l-r,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<r-a||l>o+a)))return l}function Dk(t,e){X(t,n=>{const s=n.gc,i=s.length/2;let r;if(i>e){for(r=0;r<i;++r)delete n.data[s[r]];s.splice(0,i)}})}function gi(t){return t.drawTicks?t.tickLength:0}function yf(t,e){if(!t.display)return 0;const n=Ie(t.font,e),s=yt(t.padding);return(we(t.text)?t.text.length:1)*n.lineHeight+s.height}function Lk(t,e){return cs(t,{scale:e,type:"scale"})}function Ik(t,e,n){return cs(t,{tick:n,index:e,type:"tick"})}function zk(t,e,n){let s=Bu(t);return(n&&e!=="right"||!n&&e==="right")&&(s=Ak(s)),s}function Fk(t,e,n,s){const{top:i,left:r,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:d}=l;let h=0,f,p,y;const x=o-i,b=a-r;if(t.isHorizontal()){if(p=Re(s,r,a),W(n)){const m=Object.keys(n)[0],g=n[m];y=d[m].getPixelForValue(g)+x-e}else n==="center"?y=(c.bottom+c.top)/2+x-e:y=pf(t,n,e);f=a-r}else{if(W(n)){const m=Object.keys(n)[0],g=n[m];p=d[m].getPixelForValue(g)-b+e}else n==="center"?p=(c.left+c.right)/2-b+e:p=pf(t,n,e);y=Re(s,o,i),h=n==="left"?-Se:Se}return{titleX:p,titleY:y,maxWidth:f,rotation:h}}class ei extends Ct{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:s,_suggestedMax:i}=this;return e=Nt(e,Number.POSITIVE_INFINITY),n=Nt(n,Number.NEGATIVE_INFINITY),s=Nt(s,Number.POSITIVE_INFINITY),i=Nt(i,Number.NEGATIVE_INFINITY),{min:Nt(e,s),max:Nt(n,i),minDefined:gt(e),maxDefined:gt(n)}}getMinMax(e){let{min:n,max:s,minDefined:i,maxDefined:r}=this.getUserBounds(),o;if(i&&r)return{min:n,max:s};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),i||(n=Math.min(n,o.min)),r||(s=Math.max(s,o.max));return n=r&&n>s?s:n,s=i&&n>s?n:s,{min:Nt(n,Nt(s,n)),max:Nt(s,Nt(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){re(this.options.beforeUpdate,[this])}update(e,n,s){const{beginAtZero:i,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Gw(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?gf(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=Ek(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,e=!e),this._startPixel=n,this._endPixel=s,this._reversePixels=e,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){re(this.options.afterUpdate,[this])}beforeSetDimensions(){re(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){re(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),re(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){re(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let s,i,r;for(s=0,i=e.length;s<i;s++)r=e[s],r.label=re(n.callback,[r.value,s,e],this)}afterTickToLabelConversion(){re(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){re(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,s=mf(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,r=n.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!n.display||i>=r||s<=1||!this.isHorizontal()){this.labelRotation=i;return}const d=this._getLabelSizes(),h=d.widest.width,f=d.highest.height,p=Le(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/s:p/(s-1),h+6>a&&(a=p/(s-(e.offset?.5:1)),l=this.maxHeight-gi(e.grid)-n.padding-yf(e.title,this.chart.options.font),c=Math.sqrt(h*h+f*f),o=vw(Math.min(Math.asin(Le((d.highest.height+6)/a,-1,1)),Math.asin(Le(l/c,-1,1))-Math.asin(Le(f/c,-1,1)))),o=Math.max(i,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){re(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){re(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:s,title:i,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=yf(i,n.options.font);if(a?(e.width=this.maxWidth,e.height=gi(r)+l):(e.height=this.maxHeight,e.width=gi(r)+l),s.display&&this.ticks.length){const{first:c,last:d,widest:h,highest:f}=this._getLabelSizes(),p=s.padding*2,y=Gt(this.labelRotation),x=Math.cos(y),b=Math.sin(y);if(a){const m=s.mirror?0:b*h.width+x*f.height;e.height=Math.min(this.maxHeight,e.height+m+p)}else{const m=s.mirror?0:x*h.width+b*f.height;e.width=Math.min(this.maxWidth,e.width+m+p)}this._calculatePadding(c,d,b,x)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,s,i){const{ticks:{align:r,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,p=0;l?c?(f=i*e.width,p=s*n.height):(f=s*e.height,p=i*n.width):r==="start"?p=n.width:r==="end"?f=e.width:r!=="inner"&&(f=e.width/2,p=n.width/2),this.paddingLeft=Math.max((f-d+o)*this.width/(this.width-d),0),this.paddingRight=Math.max((p-h+o)*this.width/(this.width-h),0)}else{let d=n.height/2,h=e.height/2;r==="start"?(d=0,h=e.height):r==="end"&&(d=n.height,h=0),this.paddingTop=d+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){re(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,s;for(n=0,s=e.length;n<s;n++)ne(e[n].label)&&(e.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=gf(s,n)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,s){const{ctx:i,_longestTextCache:r}=this,o=[],a=[],l=Math.floor(n/mf(n,s));let c=0,d=0,h,f,p,y,x,b,m,g,v,_,w;for(h=0;h<n;h+=l){if(y=e[h].label,x=this._resolveTickFontOptions(h),i.font=b=x.string,m=r[b]=r[b]||{data:{},gc:[]},g=x.lineHeight,v=_=0,!ne(y)&&!we(y))v=Hh(i,m.data,m.gc,v,y),_=g;else if(we(y))for(f=0,p=y.length;f<p;++f)w=y[f],!ne(w)&&!we(w)&&(v=Hh(i,m.data,m.gc,v,w),_+=g);o.push(v),a.push(_),c=Math.max(v,c),d=Math.max(_,d)}Dk(r,n);const S=o.indexOf(c),k=a.indexOf(d),j=M=>({width:o[M]||0,height:a[M]||0});return{first:j(0),last:j(n-1),widest:j(S),highest:j(k),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return _w(this._alignToPixels?Ln(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const s=n[e];return s.$context||(s.$context=Ik(this.getContext(),e,s))}return this.$context||(this.$context=Lk(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Gt(this.labelRotation),s=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),r=this._getLabelSizes(),o=e.autoSkipPadding||0,a=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return this.isHorizontal()?l*s>a*i?a/s:l/i:l*i<a*s?l/s:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,s=this.chart,i=this.options,{grid:r,position:o,border:a}=i,l=r.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),f=gi(r),p=[],y=a.setContext(this.getContext()),x=y.display?y.width:0,b=x/2,m=function(K){return Ln(s,K,x)};let g,v,_,w,S,k,j,M,N,D,F,se;if(o==="top")g=m(this.bottom),k=this.bottom-f,M=g-b,D=m(e.top)+b,se=e.bottom;else if(o==="bottom")g=m(this.top),D=e.top,se=m(e.bottom)-b,k=g+b,M=this.top+f;else if(o==="left")g=m(this.right),S=this.right-f,j=g-b,N=m(e.left)+b,F=e.right;else if(o==="right")g=m(this.left),N=e.left,F=m(e.right)-b,S=g+b,j=this.left+f;else if(n==="x"){if(o==="center")g=m((e.top+e.bottom)/2+.5);else if(W(o)){const K=Object.keys(o)[0],Z=o[K];g=m(this.chart.scales[K].getPixelForValue(Z))}D=e.top,se=e.bottom,k=g+b,M=k+f}else if(n==="y"){if(o==="center")g=m((e.left+e.right)/2);else if(W(o)){const K=Object.keys(o)[0],Z=o[K];g=m(this.chart.scales[K].getPixelForValue(Z))}S=g-b,j=S-f,N=e.left,F=e.right}const je=B(i.ticks.maxTicksLimit,h),q=Math.max(1,Math.ceil(h/je));for(v=0;v<h;v+=q){const K=this.getContext(v),Z=r.setContext(K),E=a.setContext(K),L=Z.lineWidth,z=Z.color,J=E.dash||[],Y=E.dashOffset,R=Z.tickWidth,I=Z.tickColor,P=Z.tickBorderDash||[],G=Z.tickBorderDashOffset;_=Rk(this,v,l),_!==void 0&&(w=Ln(s,_,L),c?S=j=N=F=w:k=M=D=se=w,p.push({tx1:S,ty1:k,tx2:j,ty2:M,x1:N,y1:D,x2:F,y2:se,width:L,color:z,borderDash:J,borderDashOffset:Y,tickWidth:R,tickColor:I,tickBorderDash:P,tickBorderDashOffset:G}))}return this._ticksLength=h,this._borderValue=g,p}_computeLabelItems(e){const n=this.axis,s=this.options,{position:i,ticks:r}=s,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:d,mirror:h}=r,f=gi(s.grid),p=f+d,y=h?-d:p,x=-Gt(this.labelRotation),b=[];let m,g,v,_,w,S,k,j,M,N,D,F,se="middle";if(i==="top")S=this.bottom-y,k=this._getXAxisLabelAlignment();else if(i==="bottom")S=this.top+y,k=this._getXAxisLabelAlignment();else if(i==="left"){const q=this._getYAxisLabelAlignment(f);k=q.textAlign,w=q.x}else if(i==="right"){const q=this._getYAxisLabelAlignment(f);k=q.textAlign,w=q.x}else if(n==="x"){if(i==="center")S=(e.top+e.bottom)/2+p;else if(W(i)){const q=Object.keys(i)[0],K=i[q];S=this.chart.scales[q].getPixelForValue(K)+p}k=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")w=(e.left+e.right)/2-p;else if(W(i)){const q=Object.keys(i)[0],K=i[q];w=this.chart.scales[q].getPixelForValue(K)}k=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?se="top":l==="end"&&(se="bottom"));const je=this._getLabelSizes();for(m=0,g=a.length;m<g;++m){v=a[m],_=v.label;const q=r.setContext(this.getContext(m));j=this.getPixelForTick(m)+r.labelOffset,M=this._resolveTickFontOptions(m),N=M.lineHeight,D=we(_)?_.length:1;const K=D/2,Z=q.color,E=q.textStrokeColor,L=q.textStrokeWidth;let z=k;o?(w=j,k==="inner"&&(m===g-1?z=this.options.reverse?"left":"right":m===0?z=this.options.reverse?"right":"left":z="center"),i==="top"?c==="near"||x!==0?F=-D*N+N/2:c==="center"?F=-je.highest.height/2-K*N+N:F=-je.highest.height+N/2:c==="near"||x!==0?F=N/2:c==="center"?F=je.highest.height/2-K*N:F=je.highest.height-D*N,h&&(F*=-1),x!==0&&!q.showLabelBackdrop&&(w+=N/2*Math.sin(x))):(S=j,F=(1-D)*N/2);let J;if(q.showLabelBackdrop){const Y=yt(q.backdropPadding),R=je.heights[m],I=je.widths[m];let P=F-Y.top,G=0-Y.left;switch(se){case"middle":P-=R/2;break;case"bottom":P-=R;break}switch(k){case"center":G-=I/2;break;case"right":G-=I;break;case"inner":m===g-1?G-=I:m>0&&(G-=I/2);break}J={left:G,top:P,width:I+Y.width,height:R+Y.height,color:q.backdropColor}}b.push({label:_,font:M,textOffset:F,options:{rotation:x,color:Z,strokeColor:E,strokeWidth:L,textAlign:z,textBaseline:se,translation:[w,S],backdrop:J}})}return b}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Gt(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:s,mirror:i,padding:r}}=this.options,o=this._getLabelSizes(),a=e+r,l=o.widest.width;let c,d;return n==="left"?i?(d=this.right+r,s==="near"?c="left":s==="center"?(c="center",d+=l/2):(c="right",d+=l)):(d=this.right-a,s==="near"?c="right":s==="center"?(c="center",d-=l/2):(c="left",d=this.left)):n==="right"?i?(d=this.left+r,s==="near"?c="right":s==="center"?(c="center",d-=l/2):(c="left",d-=l)):(d=this.left+a,s==="near"?c="left":s==="center"?(c="center",d+=l/2):(c="right",d=this.right)):c="right",{textAlign:c,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:s,top:i,width:r,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(s,i,r,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(r=>r.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,s=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,o;const a=(l,c,d)=>{!d.width||!d.color||(s.save(),s.lineWidth=d.width,s.strokeStyle=d.color,s.setLineDash(d.borderDash||[]),s.lineDashOffset=d.borderDashOffset,s.beginPath(),s.moveTo(l.x,l.y),s.lineTo(c.x,c.y),s.stroke(),s.restore())};if(n.display)for(r=0,o=i.length;r<o;++r){const l=i[r];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:s,grid:i}}=this,r=s.setContext(this.getContext()),o=s.display?r.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,d,h,f;this.isHorizontal()?(c=Ln(e,this.left,o)-o/2,d=Ln(e,this.right,a)+a/2,h=f=l):(h=Ln(e,this.top,o)-o/2,f=Ln(e,this.bottom,a)+a/2,c=d=l),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(c,h),n.lineTo(d,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,i=this._computeLabelArea();i&&Vu(s,i);const r=this.getLabelItems(e);for(const o of r){const a=o.options,l=o.font,c=o.label,d=o.textOffset;yr(s,c,0,d,l,a)}i&&Wu(s)}drawTitle(){const{ctx:e,options:{position:n,title:s,reverse:i}}=this;if(!s.display)return;const r=Ie(s.font),o=yt(s.padding),a=s.align;let l=r.lineHeight/2;n==="bottom"||n==="center"||W(n)?(l+=o.bottom,we(s.text)&&(l+=r.lineHeight*(s.text.length-1))):l+=o.top;const{titleX:c,titleY:d,maxWidth:h,rotation:f}=Fk(this,l,n,a);yr(e,s.text,0,0,r,{color:s.color,maxWidth:h,rotation:f,textAlign:zk(a,n,i),textBaseline:"middle",translation:[c,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,s=B(e.grid&&e.grid.z,-1),i=B(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==ei.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:s,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",i=[];let r,o;for(r=0,o=n.length;r<o;++r){const a=n[r];a[s]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Ie(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class ao{constructor(e,n,s){this.type=e,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let s;Uk(n)&&(s=this.register(n));const i=this.items,r=e.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in i||(i[r]=e,$k(e,o,s),this.override&&xe.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,s=e.id,i=this.scope;s in n&&delete n[s],i&&s in xe[i]&&(delete xe[i][s],this.override&&delete is[s])}}function $k(t,e,n){const s=hr(Object.create(null),[n?xe.get(n):{},xe.get(e),t.defaults]);xe.set(e,s),t.defaultRoutes&&Bk(e,t.defaultRoutes),t.descriptors&&xe.describe(e,t.descriptors)}function Bk(t,e){Object.keys(e).forEach(n=>{const s=n.split("."),i=s.pop(),r=[t].concat(s).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");xe.route(r,i,l,a)})}function Uk(t){return"id"in t&&"defaults"in t}class Hk{constructor(){this.controllers=new ao(Qn,"datasets",!0),this.elements=new ao(Ct,"elements"),this.plugins=new ao(Object,"plugins"),this.scales=new ao(ei,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,s){[...n].forEach(i=>{const r=s||this._getRegistryForType(i);s||r.isForType(i)||r===this.plugins&&i.id?this._exec(e,r,i):X(i,o=>{const a=s||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,s){const i=Fu(e);re(s["before"+i],[],s),n[e](s),re(s["after"+i],[],s)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(e))return s}return this.plugins}_get(e,n,s){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return i}}var At=new Hk;class Vk{constructor(){this._init=[]}notify(e,n,s,i){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(r,e,n,s);return n==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,s,i){i=i||{};for(const r of e){const o=r.plugin,a=o[s],l=[n,i,r.options];if(re(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){ne(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const s=e&&e.config,i=B(s.options&&s.options.plugins,{}),r=Wk(s);return i===!1&&!n?[]:Gk(e,r,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],s=this._cache,i=(r,o)=>r.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(n,s),e,"stop"),this._notify(i(s,n),e,"start")}}function Wk(t){const e={},n=[],s=Object.keys(At.plugins.items);for(let r=0;r<s.length;r++)n.push(At.getPlugin(s[r]));const i=t.plugins||[];for(let r=0;r<i.length;r++){const o=i[r];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function qk(t,e){return!e&&t===!1?null:t===!0?{}:t}function Gk(t,{plugins:e,localIds:n},s,i){const r=[],o=t.getContext();for(const a of e){const l=a.id,c=qk(s[l],i);c!==null&&r.push({plugin:a,options:Kk(t.config,{plugin:a,local:n[l]},c,o)})}return r}function Kk(t,{plugin:e,local:n},s,i){const r=t.pluginScopeKeys(e),o=t.getOptionScopes(s,r);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Oc(t,e){const n=xe.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function Yk(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function Xk(t,e){return t===e?"_index_":"_value_"}function xf(t){if(t==="x"||t==="y"||t==="r")return t}function Qk(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Ac(t,...e){if(xf(t))return t;for(const n of e){const s=n.axis||Qk(n.position)||t.length>1&&xf(t[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function vf(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function Jk(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(s=>s.xAxisID===t||s.yAxisID===t);if(n.length)return vf(t,"x",n[0])||vf(t,"y",n[0])}return{}}function Zk(t,e){const n=is[t.type]||{scales:{}},s=e.scales||{},i=Oc(t.type,e),r=Object.create(null);return Object.keys(s).forEach(o=>{const a=s[o];if(!W(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Ac(o,a,Jk(o,t),xe.scales[a.type]),c=Xk(l,i),d=n.scales||{};r[o]=$i(Object.create(null),[{axis:l},a,d[l],d[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||Oc(a,e),d=(is[a]||{}).scales||{};Object.keys(d).forEach(h=>{const f=Yk(h,l),p=o[f+"AxisID"]||f;r[p]=r[p]||Object.create(null),$i(r[p],[{axis:f},s[p],d[h]])})}),Object.keys(r).forEach(o=>{const a=r[o];$i(a,[xe.scales[a.type],xe.scale])}),r}function a0(t){const e=t.options||(t.options={});e.plugins=B(e.plugins,{}),e.scales=Zk(t,e)}function l0(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function e2(t){return t=t||{},t.data=l0(t.data),a0(t),t}const bf=new Map,c0=new Set;function lo(t,e){let n=bf.get(t);return n||(n=e(),bf.set(t,n),c0.add(n)),n}const yi=(t,e,n)=>{const s=ss(e,n);s!==void 0&&t.add(s)};class t2{constructor(e){this._config=e2(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=l0(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),a0(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return lo(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return lo(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return lo(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,s=this.type;return lo(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const s=this._scopeCache;let i=s.get(e);return(!i||n)&&(i=new Map,s.set(e,i)),i}getOptionScopes(e,n,s){const{options:i,type:r}=this,o=this._cachedScopes(e,s),a=o.get(n);if(a)return a;const l=new Set;n.forEach(d=>{e&&(l.add(e),d.forEach(h=>yi(l,e,h))),d.forEach(h=>yi(l,i,h)),d.forEach(h=>yi(l,is[r]||{},h)),d.forEach(h=>yi(l,xe,h)),d.forEach(h=>yi(l,Nc,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),c0.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,is[n]||{},xe.datasets[n]||{},{type:n},xe,Nc]}resolveNamedOptions(e,n,s,i=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=_f(this._resolverCache,e,i);let l=o;if(s2(o,n)){r.$shared=!1,s=Nn(s)?s():s;const c=this.createResolver(e,s,a);l=Gs(o,s,c)}for(const c of n)r[c]=l[c];return r}createResolver(e,n,s=[""],i){const{resolver:r}=_f(this._resolverCache,e,s);return W(n)?Gs(r,n,void 0,i):r}}function _f(t,e,n){let s=t.get(e);s||(s=new Map,t.set(e,s));const i=n.join();let r=s.get(i);return r||(r={resolver:Gu(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},s.set(i,r)),r}const n2=t=>W(t)&&Object.getOwnPropertyNames(t).some(e=>Nn(t[e]));function s2(t,e){const{isScriptable:n,isIndexable:s}=Wg(t);for(const i of e){const r=n(i),o=s(i),a=(o||r)&&t[i];if(r&&(Nn(a)||n2(a))||o&&we(a))return!0}return!1}var i2="4.4.7";const r2=["top","bottom","left","right","chartArea"];function wf(t,e){return t==="top"||t==="bottom"||r2.indexOf(t)===-1&&e==="x"}function kf(t,e){return function(n,s){return n[t]===s[t]?n[e]-s[e]:n[t]-s[t]}}function Sf(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),re(n&&n.onComplete,[t],e)}function o2(t){const e=t.chart,n=e.options.animation;re(n&&n.onProgress,[t],e)}function u0(t){return Xu()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Po={},jf=t=>{const e=u0(t);return Object.values(Po).filter(n=>n.canvas===e).pop()};function a2(t,e,n){const s=Object.keys(t);for(const i of s){const r=+i;if(r>=e){const o=t[i];delete t[i],(n>0||r>e)&&(t[r+n]=o)}}}function l2(t,e,n,s){return!n||t.type==="mouseout"?null:s?e:t}function co(t,e,n){return t.options.clip?t[n]:e[n]}function c2(t,e){const{xScale:n,yScale:s}=t;return n&&s?{left:co(n,e,"left"),right:co(n,e,"right"),top:co(s,e,"top"),bottom:co(s,e,"bottom")}:e}var nn;let ti=(nn=class{static register(...e){At.add(...e),Cf()}static unregister(...e){At.remove(...e),Cf()}constructor(e,n){const s=this.config=new t2(n),i=u0(e),r=jf(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||Ck(i)),this.platform.updateConfig(s);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,d=l&&l.width;if(this.id=aw(),this.ctx=a,this.canvas=l,this.width=d,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Vk,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=jw(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],Po[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Ft.listen(this,"complete",Sf),Ft.listen(this,"progress",o2),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:s,height:i,_aspectRatio:r}=this;return ne(e)?n&&r?r:i?s/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return At}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Gh(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Vh(this.canvas,this.ctx),this}stop(){return Ft.stop(this),this}resize(e,n){Ft.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const s=this.options,i=this.canvas,r=s.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,n,r),a=s.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Gh(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),re(s.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};X(n,(s,i)=>{s.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,s=this.scales,i=Object.keys(s).reduce((o,a)=>(o[a]=!1,o),{});let r=[];n&&(r=r.concat(Object.keys(n).map(o=>{const a=n[o],l=Ac(o,a),c=l==="r",d=l==="x";return{options:a,dposition:c?"chartArea":d?"bottom":"left",dtype:c?"radialLinear":d?"category":"linear"}}))),X(r,o=>{const a=o.options,l=a.id,c=Ac(l,a),d=B(a.type,o.dtype);(a.position===void 0||wf(a.position,c)!==wf(o.dposition))&&(a.position=o.dposition),i[l]=!0;let h=null;if(l in s&&s[l].type===d)h=s[l];else{const f=At.getScale(d);h=new f({id:l,type:d,ctx:this.ctx,chart:this}),s[h.id]=h}h.init(a,e)}),X(i,(o,a)=>{o||delete s[a]}),X(s,o=>{dt.configure(this,o,o.options),dt.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,s=e.length;if(e.sort((i,r)=>i.index-r.index),s>n){for(let i=n;i<s;++i)this._destroyDatasetMeta(i);e.splice(n,s-n)}this._sortedMetasets=e.slice(0).sort(kf("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((s,i)=>{n.filter(r=>r===s._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let s,i;for(this._removeUnreferencedMetasets(),s=0,i=n.length;s<i;s++){const r=n[s];let o=this.getDatasetMeta(s);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(s),o=this.getDatasetMeta(s)),o.type=a,o.indexAxis=r.indexAxis||Oc(a,this.options),o.order=r.order||0,o.index=s,o.label=""+r.label,o.visible=this.isDatasetVisible(s),o.controller)o.controller.updateIndex(s),o.controller.linkScales();else{const l=At.getController(a),{datasetElementType:c,dataElementType:d}=xe.datasets[a];Object.assign(l,{dataElementType:At.getElement(d),datasetElementType:c&&At.getElement(c)}),o.controller=new l(this,s),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){X(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,d=this.data.datasets.length;c<d;c++){const{controller:h}=this.getDatasetMeta(c),f=!i&&r.indexOf(h)===-1;h.buildOrUpdateElements(f),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=s.layout.autoPadding?o:0,this._updateLayout(o),i||X(r,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(kf("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){X(this.scales,e=>{dt.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!Rh(n,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:i,count:r}of n){const o=s==="_removeElements"?-r:r;a2(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=r=>new Set(e.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),i=s(0);for(let r=1;r<n;r++)if(!Rh(i,s(r)))return;return Array.from(i).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;dt.update(this,this.width,this.height,e);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],X(this.boxes,i=>{s&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,r)=>{i._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,Nn(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const s=this.getDatasetMeta(e),i={meta:s,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(s.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ft.has(this)?this.attached&&!Ft.running(this)&&Ft.start(this):(this.draw(),Sf({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,s=[];let i,r;for(i=0,r=n.length;i<r;++i){const o=n[i];(!e||o.visible)&&s.push(o)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,s=e._clip,i=!s.disabled,r=c2(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(i&&Vu(n,{left:s.left===!1?0:r.left-s.left,right:s.right===!1?this.width:r.right+s.right,top:s.top===!1?0:r.top-s.top,bottom:s.bottom===!1?this.height:r.bottom+s.bottom}),e.controller.draw(),i&&Wu(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return gr(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,s,i){const r=rk.modes[n];return typeof r=="function"?r(this,e,s,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],s=this._metasets;let i=s.filter(r=>r&&r._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},s.push(i)),i}getContext(){return this.$context||(this.$context=cs(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(e,n){const s=this.getDatasetMeta(e);s.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,s){const i=s?"show":"hide",r=this.getDatasetMeta(e),o=r.controller._resolveAnimations(void 0,i);fr(n)?(r.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),o.update(r,{visible:s}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Ft.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Vh(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Po[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,s=(r,o)=>{n.addEventListener(this,r,o),e[r]=o},i=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};X(this.options.events,r=>s(r,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,s=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},i=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},r=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),s("resize",r),s("detach",o)};o=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),s("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){X(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},X(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,s){const i=s?"set":"remove";let r,o,a,l;for(n==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],s=e.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!na(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(e,n,s){return this._plugins.notify(this,e,n,s)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,s){const i=this.options.hover,r=(l,c)=>l.filter(d=>!c.some(h=>d.datasetIndex===h.datasetIndex&&d.index===h.index)),o=r(n,e),a=s?e:r(e,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,n){const s={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,i)===!1)return;const r=this._handleEvent(e,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,i),(r||s.changed)&&this.render(),this}_handleEvent(e,n,s){const{_active:i=[],options:r}=this,o=n,a=this._getActiveElements(e,i,s,o),l=fw(e),c=l2(e,this._lastEvent,s,l);s&&(this._lastEvent=null,re(r.onHover,[e,a,this],this),l&&re(r.onClick,[e,a,this],this));const d=!na(a,i);return(d||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=c,d}_getActiveElements(e,n,s,i){if(e.type==="mouseout")return[];if(!s)return n;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,i)}},A(nn,"defaults",xe),A(nn,"instances",Po),A(nn,"overrides",is),A(nn,"registry",At),A(nn,"version",i2),A(nn,"getChart",jf),nn);function Cf(){return X(ti.instances,t=>t._plugins.invalidate())}function u2(t,e,n){const{startAngle:s,pixelMargin:i,x:r,y:o,outerRadius:a,innerRadius:l}=e;let c=i/a;t.beginPath(),t.arc(r,o,a,s-c,n+c),l>i?(c=i/l,t.arc(r,o,l,n+c,s-c,!0)):t.arc(r,o,i,n+Se,s-Se),t.closePath(),t.clip()}function d2(t){return qu(t,["outerStart","outerEnd","innerStart","innerEnd"])}function h2(t,e,n,s){const i=d2(t.options.borderRadius),r=(n-e)/2,o=Math.min(r,s*e/2),a=l=>{const c=(n-Math.min(r,l))*s/2;return Le(l,0,Math.min(r,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:Le(i.innerStart,0,o),innerEnd:Le(i.innerEnd,0,o)}}function ms(t,e,n,s){return{x:n+t*Math.cos(e),y:s+t*Math.sin(e)}}function la(t,e,n,s,i,r){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:d}=e,h=Math.max(e.outerRadius+s+n-c,0),f=d>0?d+s+n+c:0;let p=0;const y=i-l;if(s){const q=d>0?d-s:0,K=h>0?h-s:0,Z=(q+K)/2,E=Z!==0?y*Z/(Z+s):y;p=(y-E)/2}const x=Math.max(.001,y*h-n/ge)/h,b=(y-x)/2,m=l+b+p,g=i-b-p,{outerStart:v,outerEnd:_,innerStart:w,innerEnd:S}=h2(e,f,h,g-m),k=h-v,j=h-_,M=m+v/k,N=g-_/j,D=f+w,F=f+S,se=m+w/D,je=g-S/F;if(t.beginPath(),r){const q=(M+N)/2;if(t.arc(o,a,h,M,q),t.arc(o,a,h,q,N),_>0){const L=ms(j,N,o,a);t.arc(L.x,L.y,_,N,g+Se)}const K=ms(F,g,o,a);if(t.lineTo(K.x,K.y),S>0){const L=ms(F,je,o,a);t.arc(L.x,L.y,S,g+Se,je+Math.PI)}const Z=(g-S/f+(m+w/f))/2;if(t.arc(o,a,f,g-S/f,Z,!0),t.arc(o,a,f,Z,m+w/f,!0),w>0){const L=ms(D,se,o,a);t.arc(L.x,L.y,w,se+Math.PI,m-Se)}const E=ms(k,m,o,a);if(t.lineTo(E.x,E.y),v>0){const L=ms(k,M,o,a);t.arc(L.x,L.y,v,m-Se,M)}}else{t.moveTo(o,a);const q=Math.cos(M)*h+o,K=Math.sin(M)*h+a;t.lineTo(q,K);const Z=Math.cos(N)*h+o,E=Math.sin(N)*h+a;t.lineTo(Z,E)}t.closePath()}function f2(t,e,n,s,i){const{fullCircles:r,startAngle:o,circumference:a}=e;let l=e.endAngle;if(r){la(t,e,n,s,l,i);for(let c=0;c<r;++c)t.fill();isNaN(a)||(l=o+(a%me||me))}return la(t,e,n,s,l,i),t.fill(),l}function p2(t,e,n,s,i){const{fullCircles:r,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:d,borderDash:h,borderDashOffset:f}=l,p=l.borderAlign==="inner";if(!c)return;t.setLineDash(h||[]),t.lineDashOffset=f,p?(t.lineWidth=c*2,t.lineJoin=d||"round"):(t.lineWidth=c,t.lineJoin=d||"bevel");let y=e.endAngle;if(r){la(t,e,n,s,y,i);for(let x=0;x<r;++x)t.stroke();isNaN(a)||(y=o+(a%me||me))}p&&u2(t,e,y),r||(la(t,e,n,s,y,i),t.stroke())}class Ci extends Ct{constructor(n){super();A(this,"circumference");A(this,"endAngle");A(this,"fullCircles");A(this,"innerRadius");A(this,"outerRadius");A(this,"pixelMargin");A(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,s,i){const r=this.getProps(["x","y"],i),{angle:o,distance:a}=Lg(r,{x:n,y:s}),{startAngle:l,endAngle:c,innerRadius:d,outerRadius:h,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),p=(this.options.spacing+this.options.borderWidth)/2,y=B(f,c-l),x=mr(o,l,c)&&l!==c,b=y>=me||x,m=gn(a,d+p,h+p);return b&&m}getCenterPoint(n){const{x:s,y:i,startAngle:r,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:d}=this.options,h=(r+o)/2,f=(a+l+d+c)/2;return{x:s+Math.cos(h)*f,y:i+Math.sin(h)*f}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:s,circumference:i}=this,r=(s.offset||0)/4,o=(s.spacing||0)/2,a=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=i>me?Math.floor(i/me):0,i===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*r,Math.sin(l)*r);const c=1-Math.sin(Math.min(ge,i||0)),d=r*c;n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,f2(n,this,d,o,a),p2(n,this,d,o,a),n.restore()}}A(Ci,"id","arc"),A(Ci,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),A(Ci,"defaultRoutes",{backgroundColor:"backgroundColor"}),A(Ci,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function d0(t,e,n=e){t.lineCap=B(n.borderCapStyle,e.borderCapStyle),t.setLineDash(B(n.borderDash,e.borderDash)),t.lineDashOffset=B(n.borderDashOffset,e.borderDashOffset),t.lineJoin=B(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=B(n.borderWidth,e.borderWidth),t.strokeStyle=B(n.borderColor,e.borderColor)}function m2(t,e,n){t.lineTo(n.x,n.y)}function g2(t){return t.stepped?zw:t.tension||t.cubicInterpolationMode==="monotone"?Fw:m2}function h0(t,e,n={}){const s=t.length,{start:i=0,end:r=s-1}=n,{start:o,end:a}=e,l=Math.max(i,o),c=Math.min(r,a),d=i<o&&r<o||i>a&&r>a;return{count:s,start:l,loop:e.loop,ilen:c<l&&!d?s+c-l:c-l}}function y2(t,e,n,s){const{points:i,options:r}=e,{count:o,start:a,loop:l,ilen:c}=h0(i,n,s),d=g2(r);let{move:h=!0,reverse:f}=s||{},p,y,x;for(p=0;p<=c;++p)y=i[(a+(f?c-p:p))%o],!y.skip&&(h?(t.moveTo(y.x,y.y),h=!1):d(t,x,y,f,r.stepped),x=y);return l&&(y=i[(a+(f?c:0))%o],d(t,x,y,f,r.stepped)),!!l}function x2(t,e,n,s){const i=e.points,{count:r,start:o,ilen:a}=h0(i,n,s),{move:l=!0,reverse:c}=s||{};let d=0,h=0,f,p,y,x,b,m;const g=_=>(o+(c?a-_:_))%r,v=()=>{x!==b&&(t.lineTo(d,b),t.lineTo(d,x),t.lineTo(d,m))};for(l&&(p=i[g(0)],t.moveTo(p.x,p.y)),f=0;f<=a;++f){if(p=i[g(f)],p.skip)continue;const _=p.x,w=p.y,S=_|0;S===y?(w<x?x=w:w>b&&(b=w),d=(h*d+_)/++h):(v(),t.lineTo(_,w),y=S,h=0,x=b=w),m=w}v()}function Rc(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?x2:y2}function v2(t){return t.stepped?y1:t.tension||t.cubicInterpolationMode==="monotone"?x1:Un}function b2(t,e,n,s){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,s)&&i.closePath()),d0(t,e.options),t.stroke(i)}function _2(t,e,n,s){const{segments:i,options:r}=e,o=Rc(e);for(const a of i)d0(t,r,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+s-1})&&t.closePath(),t.stroke()}const w2=typeof Path2D=="function";function k2(t,e,n,s){w2&&!e.options.segment?b2(t,e,n,s):_2(t,e,n,s)}class Ps extends Ct{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const i=s.spanGaps?this._loop:this._fullLoop;c1(this._points,s,e,i,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=C1(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,s=e.length;return s&&n[e[s-1].end]}interpolate(e,n){const s=this.options,i=e[n],r=this.points,o=k1(this,{property:n,start:i,end:i});if(!o.length)return;const a=[],l=v2(s);let c,d;for(c=0,d=o.length;c<d;++c){const{start:h,end:f}=o[c],p=r[h],y=r[f];if(p===y){a.push(p);continue}const x=Math.abs((i-p[n])/(y[n]-p[n])),b=l(p,y,x,s.stepped);b[n]=e[n],a.push(b)}return a.length===1?a[0]:a}pathSegment(e,n,s){return Rc(this)(e,this,n,s)}path(e,n,s){const i=this.segments,r=Rc(this);let o=this._loop;n=n||0,s=s||this.points.length-n;for(const a of i)o&=r(e,this,a,{start:n,end:n+s-1});return!!o}draw(e,n,s,i){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),k2(e,this,s,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}A(Ps,"id","line"),A(Ps,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),A(Ps,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),A(Ps,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function Ef(t,e,n,s){const i=t.options,{[n]:r}=t.getProps([n],s);return Math.abs(e-r)<i.radius+i.hitRadius}class Vi extends Ct{constructor(n){super();A(this,"parsed");A(this,"skip");A(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,s,i){const r=this.options,{x:o,y:a}=this.getProps(["x","y"],i);return Math.pow(n-o,2)+Math.pow(s-a,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(n,s){return Ef(this,n,"x",s)}inYRange(n,s){return Ef(this,n,"y",s)}getCenterPoint(n){const{x:s,y:i}=this.getProps(["x","y"],n);return{x:s,y:i}}size(n){n=n||this.options||{};let s=n.radius||0;s=Math.max(s,s&&n.hoverRadius||0);const i=s&&n.borderWidth||0;return(s+i)*2}draw(n,s){const i=this.options;this.skip||i.radius<.1||!gr(this,s,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,Mc(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}A(Vi,"id","point"),A(Vi,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),A(Vi,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function f0(t,e){const{x:n,y:s,base:i,width:r,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,d,h;return t.horizontal?(h=o/2,a=Math.min(n,i),l=Math.max(n,i),c=s-h,d=s+h):(h=r/2,a=n-h,l=n+h,c=Math.min(s,i),d=Math.max(s,i)),{left:a,top:c,right:l,bottom:d}}function yn(t,e,n,s){return t?0:Le(e,n,s)}function S2(t,e,n){const s=t.options.borderWidth,i=t.borderSkipped,r=Vg(s);return{t:yn(i.top,r.top,0,n),r:yn(i.right,r.right,0,e),b:yn(i.bottom,r.bottom,0,n),l:yn(i.left,r.left,0,e)}}function j2(t,e,n){const{enableBorderRadius:s}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,r=Ls(i),o=Math.min(e,n),a=t.borderSkipped,l=s||W(i);return{topLeft:yn(!l||a.top||a.left,r.topLeft,0,o),topRight:yn(!l||a.top||a.right,r.topRight,0,o),bottomLeft:yn(!l||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:yn(!l||a.bottom||a.right,r.bottomRight,0,o)}}function C2(t){const e=f0(t),n=e.right-e.left,s=e.bottom-e.top,i=S2(t,n/2,s/2),r=j2(t,n/2,s/2);return{outer:{x:e.left,y:e.top,w:n,h:s,radius:r},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:s-i.t-i.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,r.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(i.b,i.r))}}}}function Sl(t,e,n,s){const i=e===null,r=n===null,a=t&&!(i&&r)&&f0(t,s);return a&&(i||gn(e,a.left,a.right))&&(r||gn(n,a.top,a.bottom))}function E2(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function P2(t,e){t.rect(e.x,e.y,e.w,e.h)}function jl(t,e,n={}){const s=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,r=(t.x+t.w!==n.x+n.w?e:0)-s,o=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+s,y:t.y+i,w:t.w+r,h:t.h+o,radius:t.radius}}class Wi extends Ct{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:s,backgroundColor:i}}=this,{inner:r,outer:o}=C2(this),a=E2(o.radius)?ra:P2;e.save(),(o.w!==r.w||o.h!==r.h)&&(e.beginPath(),a(e,jl(o,n,r)),e.clip(),a(e,jl(r,-n,o)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),a(e,jl(r,n)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,n,s){return Sl(this,e,n,s)}inXRange(e,n){return Sl(this,e,null,n)}inYRange(e,n){return Sl(this,null,e,n)}getCenterPoint(e){const{x:n,y:s,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(n+i)/2:n,y:r?s:(s+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}A(Wi,"id","bar"),A(Wi,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),A(Wi,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const Pf=(t,e)=>{let{boxHeight:n=e,boxWidth:s=e}=t;return t.usePointStyle&&(n=Math.min(n,e),s=t.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(e,n)}},N2=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Nf extends Ct{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,s){this.maxWidth=e,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=re(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(s=>e.filter(s,this.chart.data))),e.sort&&(n=n.sort((s,i)=>e.sort(s,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,i=Ie(s.font),r=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=Pf(s,r);let c,d;n.font=i.string,this.isHorizontal()?(c=this.maxWidth,d=this._fitRows(o,r,a,l)+10):(d=this.maxHeight,c=this._fitCols(o,i,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,n,s,i){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],d=i+a;let h=e;r.textAlign="left",r.textBaseline="middle";let f=-1,p=-d;return this.legendItems.forEach((y,x)=>{const b=s+n/2+r.measureText(y.text).width;(x===0||c[c.length-1]+b+2*a>o)&&(h+=d,c[c.length-(x>0?0:1)]=0,p+=d,f++),l[x]={left:0,top:p,row:f,width:b,height:i},c[c.length-1]+=b+a}),h}_fitCols(e,n,s,i){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],d=o-e;let h=a,f=0,p=0,y=0,x=0;return this.legendItems.forEach((b,m)=>{const{itemWidth:g,itemHeight:v}=M2(s,n,r,b,i);m>0&&p+v+2*a>d&&(h+=f+a,c.push({width:f,height:p}),y+=f+a,x++,f=p=0),l[m]={left:y,top:p,col:x,width:g,height:v},f=Math.max(f,g),p+=v+a}),h+=f,c.push({width:f,height:p}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:i},rtl:r}}=this,o=Is(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=Re(s,this.left+i,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=Re(s,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+e+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let a=0,l=Re(s,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=Re(s,this.top+e+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Vu(e,this),this._draw(),Wu(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:s,ctx:i}=this,{align:r,labels:o}=e,a=xe.color,l=Is(e.rtl,this.left,this.width),c=Ie(o.font),{padding:d}=o,h=c.size,f=h/2;let p;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:y,boxHeight:x,itemHeight:b}=Pf(o,h),m=function(S,k,j){if(isNaN(y)||y<=0||isNaN(x)||x<0)return;i.save();const M=B(j.lineWidth,1);if(i.fillStyle=B(j.fillStyle,a),i.lineCap=B(j.lineCap,"butt"),i.lineDashOffset=B(j.lineDashOffset,0),i.lineJoin=B(j.lineJoin,"miter"),i.lineWidth=M,i.strokeStyle=B(j.strokeStyle,a),i.setLineDash(B(j.lineDash,[])),o.usePointStyle){const N={radius:x*Math.SQRT2/2,pointStyle:j.pointStyle,rotation:j.rotation,borderWidth:M},D=l.xPlus(S,y/2),F=k+f;Hg(i,N,D,F,o.pointStyleWidth&&y)}else{const N=k+Math.max((h-x)/2,0),D=l.leftForLtr(S,y),F=Ls(j.borderRadius);i.beginPath(),Object.values(F).some(se=>se!==0)?ra(i,{x:D,y:N,w:y,h:x,radius:F}):i.rect(D,N,y,x),i.fill(),M!==0&&i.stroke()}i.restore()},g=function(S,k,j){yr(i,j.text,S,k+b/2,c,{strikethrough:j.hidden,textAlign:l.textAlign(j.textAlign)})},v=this.isHorizontal(),_=this._computeTitleHeight();v?p={x:Re(r,this.left+d,this.right-s[0]),y:this.top+d+_,line:0}:p={x:this.left+d,y:Re(r,this.top+_+d,this.bottom-n[0].height),line:0},Xg(this.ctx,e.textDirection);const w=b+d;this.legendItems.forEach((S,k)=>{i.strokeStyle=S.fontColor,i.fillStyle=S.fontColor;const j=i.measureText(S.text).width,M=l.textAlign(S.textAlign||(S.textAlign=o.textAlign)),N=y+f+j;let D=p.x,F=p.y;l.setWidth(this.width),v?k>0&&D+N+d>this.right&&(F=p.y+=w,p.line++,D=p.x=Re(r,this.left+d,this.right-s[p.line])):k>0&&F+w>this.bottom&&(D=p.x=D+n[p.line].width+d,p.line++,F=p.y=Re(r,this.top+_+d,this.bottom-n[p.line].height));const se=l.x(D);if(m(se,F,S),D=Cw(M,D+y+f,v?D+N:this.right,e.rtl),g(l.x(D),F,S),v)p.x+=N+d;else if(typeof S.text!="string"){const je=c.lineHeight;p.y+=p0(S,je)+d}else p.y+=w}),Qg(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,s=Ie(n.font),i=yt(n.padding);if(!n.display)return;const r=Is(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=s.size/2,c=i.top+l;let d,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),d=this.top+c,h=Re(e.align,h,this.right-f);else{const y=this.columnSizes.reduce((x,b)=>Math.max(x,b.height),0);d=c+Re(e.align,this.top,this.bottom-y-e.labels.padding-this._computeTitleHeight())}const p=Re(a,h,h+f);o.textAlign=r.textAlign(Bu(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=s.string,yr(o,n.text,p,d,s)}_computeTitleHeight(){const e=this.options.title,n=Ie(e.font),s=yt(e.padding);return e.display?n.lineHeight+s.height:0}_getLegendItemAt(e,n){let s,i,r;if(gn(e,this.left,this.right)&&gn(n,this.top,this.bottom)){for(r=this.legendHitBoxes,s=0;s<r.length;++s)if(i=r[s],gn(e,i.left,i.left+i.width)&&gn(n,i.top,i.top+i.height))return this.legendItems[s]}return null}handleEvent(e){const n=this.options;if(!A2(e.type,n))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,r=N2(i,s);i&&!r&&re(n.onLeave,[e,i,this],this),this._hoveredItem=s,s&&!r&&re(n.onHover,[e,s,this],this)}else s&&re(n.onClick,[e,s,this],this)}}function M2(t,e,n,s,i){const r=T2(s,t,e,n),o=O2(i,s,e.lineHeight);return{itemWidth:r,itemHeight:o}}function T2(t,e,n,s){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((r,o)=>r.length>o.length?r:o)),e+n.size/2+s.measureText(i).width}function O2(t,e,n){let s=t;return typeof e.text!="string"&&(s=p0(e,n)),s}function p0(t,e){const n=t.text?t.text.length:0;return e*n}function A2(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var Zu={id:"legend",_element:Nf,start(t,e,n){const s=t.legend=new Nf({ctx:t.ctx,options:n,chart:t});dt.configure(t,s,n),dt.addBox(t,s)},stop(t){dt.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const s=t.legend;dt.configure(t,s,n),s.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const s=e.datasetIndex,i=n.chart;i.isDatasetVisible(s)?(i.hide(s),e.hidden=!0):(i.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:i,color:r,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),d=yt(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:c.borderColor,pointStyle:s||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class m0 extends Ct{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=we(s.text)?s.text.length:1;this._padding=yt(s.padding);const r=i*Ie(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:s,bottom:i,right:r,options:o}=this,a=o.align;let l=0,c,d,h;return this.isHorizontal()?(d=Re(a,s,r),h=n+e,c=r-s):(o.position==="left"?(d=s+e,h=Re(a,i,n),l=ge*-.5):(d=r-e,h=Re(a,n,i),l=ge*.5),c=i-n),{titleX:d,titleY:h,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const s=Ie(n.font),r=s.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(r);yr(e,n.text,0,0,s,{color:n.color,maxWidth:l,rotation:c,textAlign:Bu(n.align),textBaseline:"middle",translation:[o,a]})}}function R2(t,e){const n=new m0({ctx:t.ctx,options:e,chart:t});dt.configure(t,n,e),dt.addBox(t,n),t.titleBlock=n}var g0={id:"title",_element:m0,start(t,e,n){R2(t,n)},stop(t){const e=t.titleBlock;dt.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const s=t.titleBlock;dt.configure(t,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ei={average(t){if(!t.length)return!1;let e,n,s=new Set,i=0,r=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();s.add(l.x),i+=l.y,++r}}return r===0||s.size===0?!1:{x:[...s].reduce((a,l)=>a+l)/s.size,y:i/r}},nearest(t,e){if(!t.length)return!1;let n=e.x,s=e.y,i=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=t.length;r<o;++r){const l=t[r].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),d=Pc(e,c);d<i&&(i=d,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,s=l.y}return{x:n,y:s}}};function Tt(t,e){return e&&(we(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function $t(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function D2(t,e){const{element:n,datasetIndex:s,index:i}=e,r=t.getDatasetMeta(s).controller,{label:o,value:a}=r.getLabelAndValue(i);return{chart:t,label:o,parsed:r.getParsed(i),raw:t.data.datasets[s].data[i],formattedValue:a,dataset:r.getDataset(),dataIndex:i,datasetIndex:s,element:n}}function Mf(t,e){const n=t.chart.ctx,{body:s,footer:i,title:r}=t,{boxWidth:o,boxHeight:a}=e,l=Ie(e.bodyFont),c=Ie(e.titleFont),d=Ie(e.footerFont),h=r.length,f=i.length,p=s.length,y=yt(e.padding);let x=y.height,b=0,m=s.reduce((_,w)=>_+w.before.length+w.lines.length+w.after.length,0);if(m+=t.beforeBody.length+t.afterBody.length,h&&(x+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),m){const _=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;x+=p*_+(m-p)*l.lineHeight+(m-1)*e.bodySpacing}f&&(x+=e.footerMarginTop+f*d.lineHeight+(f-1)*e.footerSpacing);let g=0;const v=function(_){b=Math.max(b,n.measureText(_).width+g)};return n.save(),n.font=c.string,X(t.title,v),n.font=l.string,X(t.beforeBody.concat(t.afterBody),v),g=e.displayColors?o+2+e.boxPadding:0,X(s,_=>{X(_.before,v),X(_.lines,v),X(_.after,v)}),g=0,n.font=d.string,X(t.footer,v),n.restore(),b+=y.width,{width:b,height:x}}function L2(t,e){const{y:n,height:s}=e;return n<s/2?"top":n>t.height-s/2?"bottom":"center"}function I2(t,e,n,s){const{x:i,width:r}=s,o=n.caretSize+n.caretPadding;if(t==="left"&&i+r+o>e.width||t==="right"&&i-r-o<0)return!0}function z2(t,e,n,s){const{x:i,width:r}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return s==="center"?c=i<=(a+l)/2?"left":"right":i<=r/2?c="left":i>=o-r/2&&(c="right"),I2(c,t,e,n)&&(c="center"),c}function Tf(t,e,n){const s=n.yAlign||e.yAlign||L2(t,n);return{xAlign:n.xAlign||e.xAlign||z2(t,e,n,s),yAlign:s}}function F2(t,e){let{x:n,width:s}=t;return e==="right"?n-=s:e==="center"&&(n-=s/2),n}function $2(t,e,n){let{y:s,height:i}=t;return e==="top"?s+=n:e==="bottom"?s-=i+n:s-=i/2,s}function Of(t,e,n,s){const{caretSize:i,caretPadding:r,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=i+r,{topLeft:d,topRight:h,bottomLeft:f,bottomRight:p}=Ls(o);let y=F2(e,a);const x=$2(e,l,c);return l==="center"?a==="left"?y+=c:a==="right"&&(y-=c):a==="left"?y-=Math.max(d,f)+i:a==="right"&&(y+=Math.max(h,p)+i),{x:Le(y,0,s.width-e.width),y:Le(x,0,s.height-e.height)}}function uo(t,e,n){const s=yt(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-s.right:t.x+s.left}function Af(t){return Tt([],$t(t))}function B2(t,e,n){return cs(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function Rf(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const y0={beforeTitle:zt,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return n[e.dataIndex]}return""},afterTitle:zt,beforeBody:zt,beforeLabel:zt,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return ne(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:zt,afterBody:zt,beforeFooter:zt,footer:zt,afterFooter:zt};function qe(t,e,n,s){const i=t[e].call(n,s);return typeof i>"u"?y0[e].call(n,s):i}class Dc extends Ct{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,s=this.options.setContext(this.getContext()),i=s.enabled&&n.options.animation&&s.animations,r=new Zg(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=B2(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:s}=n,i=qe(s,"beforeTitle",this,e),r=qe(s,"title",this,e),o=qe(s,"afterTitle",this,e);let a=[];return a=Tt(a,$t(i)),a=Tt(a,$t(r)),a=Tt(a,$t(o)),a}getBeforeBody(e,n){return Af(qe(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:s}=n,i=[];return X(e,r=>{const o={before:[],lines:[],after:[]},a=Rf(s,r);Tt(o.before,$t(qe(a,"beforeLabel",this,r))),Tt(o.lines,qe(a,"label",this,r)),Tt(o.after,$t(qe(a,"afterLabel",this,r))),i.push(o)}),i}getAfterBody(e,n){return Af(qe(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:s}=n,i=qe(s,"beforeFooter",this,e),r=qe(s,"footer",this,e),o=qe(s,"afterFooter",this,e);let a=[];return a=Tt(a,$t(i)),a=Tt(a,$t(r)),a=Tt(a,$t(o)),a}_createItems(e){const n=this._active,s=this.chart.data,i=[],r=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(D2(this.chart,n[l]));return e.filter&&(a=a.filter((d,h,f)=>e.filter(d,h,f,s))),e.itemSort&&(a=a.sort((d,h)=>e.itemSort(d,h,s))),X(a,d=>{const h=Rf(e.callbacks,d);i.push(qe(h,"labelColor",this,d)),r.push(qe(h,"labelPointStyle",this,d)),o.push(qe(h,"labelTextColor",this,d))}),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const s=this.options.setContext(this.getContext()),i=this._active;let r,o=[];if(!i.length)this.opacity!==0&&(r={opacity:0});else{const a=Ei[s.position].call(this,i,this._eventPosition);o=this._createItems(s),this.title=this.getTitle(o,s),this.beforeBody=this.getBeforeBody(o,s),this.body=this.getBody(o,s),this.afterBody=this.getAfterBody(o,s),this.footer=this.getFooter(o,s);const l=this._size=Mf(this,s),c=Object.assign({},a,l),d=Tf(this.chart,s,c),h=Of(s,c,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,r={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,s,i){const r=this.getCaretPosition(e,s,i);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(e,n,s){const{xAlign:i,yAlign:r}=this,{caretSize:o,cornerRadius:a}=s,{topLeft:l,topRight:c,bottomLeft:d,bottomRight:h}=Ls(a),{x:f,y:p}=e,{width:y,height:x}=n;let b,m,g,v,_,w;return r==="center"?(_=p+x/2,i==="left"?(b=f,m=b-o,v=_+o,w=_-o):(b=f+y,m=b+o,v=_-o,w=_+o),g=b):(i==="left"?m=f+Math.max(l,d)+o:i==="right"?m=f+y-Math.max(c,h)-o:m=this.caretX,r==="top"?(v=p,_=v-o,b=m-o,g=m+o):(v=p+x,_=v+o,b=m+o,g=m-o),w=v),{x1:b,x2:m,x3:g,y1:v,y2:_,y3:w}}drawTitle(e,n,s){const i=this.title,r=i.length;let o,a,l;if(r){const c=Is(s.rtl,this.x,this.width);for(e.x=uo(this,s.titleAlign,s),n.textAlign=c.textAlign(s.titleAlign),n.textBaseline="middle",o=Ie(s.titleFont),a=s.titleSpacing,n.fillStyle=s.titleColor,n.font=o.string,l=0;l<r;++l)n.fillText(i[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===r&&(e.y+=s.titleMarginBottom-a)}}_drawColorBox(e,n,s,i,r){const o=this.labelColors[s],a=this.labelPointStyles[s],{boxHeight:l,boxWidth:c}=r,d=Ie(r.bodyFont),h=uo(this,"left",r),f=i.x(h),p=l<d.lineHeight?(d.lineHeight-l)/2:0,y=n.y+p;if(r.usePointStyle){const x={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},b=i.leftForLtr(f,c)+c/2,m=y+l/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,Mc(e,x,b,m),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,Mc(e,x,b,m)}else{e.lineWidth=W(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const x=i.leftForLtr(f,c),b=i.leftForLtr(i.xPlus(f,1),c-2),m=Ls(o.borderRadius);Object.values(m).some(g=>g!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,ra(e,{x,y,w:c,h:l,radius:m}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),ra(e,{x:b,y:y+1,w:c-2,h:l-2,radius:m}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(x,y,c,l),e.strokeRect(x,y,c,l),e.fillStyle=o.backgroundColor,e.fillRect(b,y+1,c-2,l-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,n,s){const{body:i}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:d}=s,h=Ie(s.bodyFont);let f=h.lineHeight,p=0;const y=Is(s.rtl,this.x,this.width),x=function(j){n.fillText(j,y.x(e.x+p),e.y+f/2),e.y+=f+r},b=y.textAlign(o);let m,g,v,_,w,S,k;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,e.x=uo(this,b,s),n.fillStyle=s.bodyColor,X(this.beforeBody,x),p=a&&b!=="right"?o==="center"?c/2+d:c+2+d:0,_=0,S=i.length;_<S;++_){for(m=i[_],g=this.labelTextColors[_],n.fillStyle=g,X(m.before,x),v=m.lines,a&&v.length&&(this._drawColorBox(n,e,_,y,s),f=Math.max(h.lineHeight,l)),w=0,k=v.length;w<k;++w)x(v[w]),f=h.lineHeight;X(m.after,x)}p=0,f=h.lineHeight,X(this.afterBody,x),e.y-=r}drawFooter(e,n,s){const i=this.footer,r=i.length;let o,a;if(r){const l=Is(s.rtl,this.x,this.width);for(e.x=uo(this,s.footerAlign,s),e.y+=s.footerMarginTop,n.textAlign=l.textAlign(s.footerAlign),n.textBaseline="middle",o=Ie(s.footerFont),n.fillStyle=s.footerColor,n.font=o.string,a=0;a<r;++a)n.fillText(i[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+s.footerSpacing}}drawBackground(e,n,s,i){const{xAlign:r,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:d}=s,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:y}=Ls(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+h,l),o==="top"&&this.drawCaret(e,n,s,i),n.lineTo(a+c-f,l),n.quadraticCurveTo(a+c,l,a+c,l+f),o==="center"&&r==="right"&&this.drawCaret(e,n,s,i),n.lineTo(a+c,l+d-y),n.quadraticCurveTo(a+c,l+d,a+c-y,l+d),o==="bottom"&&this.drawCaret(e,n,s,i),n.lineTo(a+p,l+d),n.quadraticCurveTo(a,l+d,a,l+d-p),o==="center"&&r==="left"&&this.drawCaret(e,n,s,i),n.lineTo(a,l+h),n.quadraticCurveTo(a,l,a+h,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,s=this.$animations,i=s&&s.x,r=s&&s.y;if(i||r){const o=Ei[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=Mf(this,e),l=Object.assign({},o,this._size),c=Tf(n,e,l),d=Of(e,l,c,n);(i._to!==d.x||r._to!==d.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const o=yt(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=s,this.drawBackground(r,e,i,n),Xg(e,n.textDirection),r.y+=o.top,this.drawTitle(r,e,n),this.drawBody(r,e,n),this.drawFooter(r,e,n),Qg(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const s=this._active,i=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),r=!na(s,i),o=this._positionChanged(i,n);(r||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],o=this._getActiveElements(e,r,n,s),a=this._positionChanged(o,e),l=n||!na(o,r)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,s,i){const r=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,r.mode,r,s);return r.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:s,caretY:i,options:r}=this,o=Ei[r.position].call(this,e,n);return o!==!1&&(s!==o.x||i!==o.y)}}A(Dc,"positioners",Ei);var ed={id:"tooltip",_element:Dc,positioners:Ei,afterInit(t,e,n){n&&(t.tooltip=new Dc({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:y0},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const U2=(t,e,n,s)=>(typeof e=="string"?(n=t.push(e)-1,s.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function H2(t,e,n,s){const i=t.indexOf(e);if(i===-1)return U2(t,e,n,s);const r=t.lastIndexOf(e);return i!==r?n:i}const V2=(t,e)=>t===null?null:Le(Math.round(t),0,e);function Df(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class vr extends ei{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:i,label:r}of n)s[i]===r&&s.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(ne(e))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===e?n:H2(s,e,B(n,e),this._addedLabels),V2(n,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:s,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),n||(i=this.getLabels().length-1)),this.min=s,this.max=i}buildTicks(){const e=this.min,n=this.max,s=this.options.offset,i=[];let r=this.getLabels();r=e===0&&n===r.length-1?r:r.slice(e,n+1),this._valueRange=Math.max(r.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let o=e;o<=n;o++)i.push({value:o});return i}getLabelForValue(e){return Df.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}A(vr,"id","category"),A(vr,"defaults",{ticks:{callback:Df}});function W2(t,e){const n=[],{bounds:i,step:r,min:o,max:a,precision:l,count:c,maxTicks:d,maxDigits:h,includeBounds:f}=t,p=r||1,y=d-1,{min:x,max:b}=e,m=!ne(o),g=!ne(a),v=!ne(c),_=(b-x)/(h+1);let w=Lh((b-x)/y/p)*p,S,k,j,M;if(w<1e-14&&!m&&!g)return[{value:x},{value:b}];M=Math.ceil(b/w)-Math.floor(x/w),M>y&&(w=Lh(M*w/y/p)*p),ne(l)||(S=Math.pow(10,l),w=Math.ceil(w*S)/S),i==="ticks"?(k=Math.floor(x/w)*w,j=Math.ceil(b/w)*w):(k=x,j=b),m&&g&&r&&yw((a-o)/r,w/1e3)?(M=Math.round(Math.min((a-o)/w,d)),w=(a-o)/M,k=o,j=a):v?(k=m?o:k,j=g?a:j,M=c-1,w=(j-k)/M):(M=(j-k)/w,Bi(M,Math.round(M),w/1e3)?M=Math.round(M):M=Math.ceil(M));const N=Math.max(Ih(w),Ih(k));S=Math.pow(10,ne(l)?N:l),k=Math.round(k*S)/S,j=Math.round(j*S)/S;let D=0;for(m&&(f&&k!==o?(n.push({value:o}),k<o&&D++,Bi(Math.round((k+D*w)*S)/S,o,Lf(o,_,t))&&D++):k<o&&D++);D<M;++D){const F=Math.round((k+D*w)*S)/S;if(g&&F>a)break;n.push({value:F})}return g&&f&&j!==a?n.length&&Bi(n[n.length-1].value,a,Lf(a,_,t))?n[n.length-1].value=a:n.push({value:a}):(!g||j===a)&&n.push({value:j}),n}function Lf(t,e,{horizontal:n,minRotation:s}){const i=Gt(s),r=(n?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+t).length;return Math.min(e/r,o)}class q2 extends ei{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return ne(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:i,max:r}=this;const o=l=>i=n?i:l,a=l=>r=s?r:l;if(e){const l=It(i),c=It(r);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===r){let l=r===0?1:Math.abs(r*.05);a(r+l),e||o(i-l)}this.min=i,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=e,i;return s?(i=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const i={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,o=W2(i,r);return e.bounds==="ticks"&&xw(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const i=(s-n)/Math.max(e.length-1,1)/2;n-=i,s+=i}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(e){return Hu(e,this.chart.options.locale,this.options.ticks.format)}}class br extends q2{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=gt(e)?e:0,this.max=gt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,s=Gt(this.options.ticks.minRotation),i=(e?Math.sin(s):Math.cos(s))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}A(br,"id","linear"),A(br,"defaults",{ticks:{callback:Ug.formatters.numeric}});const Da={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ye=Object.keys(Da);function If(t,e){return t-e}function zf(t,e){if(ne(e))return null;const n=t._adapter,{parser:s,round:i,isoWeekday:r}=t._parseOpts;let o=e;return typeof s=="function"&&(o=s(o)),gt(o)||(o=typeof s=="string"?n.parse(o,s):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(pr(r)||r===!0)?n.startOf(o,"isoWeek",r):n.startOf(o,i)),+o)}function Ff(t,e,n,s){const i=Ye.length;for(let r=Ye.indexOf(t);r<i-1;++r){const o=Da[Ye[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=s)return Ye[r]}return Ye[i-1]}function G2(t,e,n,s,i){for(let r=Ye.length-1;r>=Ye.indexOf(n);r--){const o=Ye[r];if(Da[o].common&&t._adapter.diff(i,s,o)>=e-1)return o}return Ye[n?Ye.indexOf(n):0]}function K2(t){for(let e=Ye.indexOf(t)+1,n=Ye.length;e<n;++e)if(Da[Ye[e]].common)return Ye[e]}function $f(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:s,hi:i}=$u(n,e),r=n[s]>=e?n[s]:n[i];t[r]=!0}}function Y2(t,e,n,s){const i=t._adapter,r=+i.startOf(e[0].value,s),o=e[e.length-1].value;let a,l;for(a=r;a<=o;a=+i.add(a,1,s))l=n[a],l>=0&&(e[l].major=!0);return e}function Bf(t,e,n){const s=[],i={},r=e.length;let o,a;for(o=0;o<r;++o)a=e[o],i[a]=o,s.push({value:a,major:!1});return r===0||!n?s:Y2(t,s,i,n)}class ca extends ei{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const s=e.time||(e.time={}),i=this._adapter=new ek._date(e.adapters.date);i.init(n),$i(s.displayFormats,i.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:zf(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,s=e.time.unit||"day";let{min:i,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=gt(i)&&!isNaN(i)?i:+n.startOf(Date.now(),s),r=gt(r)&&!isNaN(r)?r:+n.endOf(Date.now(),s)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],s=e[e.length-1]),{min:n,max:s}}buildTicks(){const e=this.options,n=e.time,s=e.ticks,i=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,o=this.max,a=kw(i,r,o);return this._unit=n.unit||(s.autoSkip?Ff(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):G2(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:K2(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),Bf(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,s=0,i,r;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?s=r:s=(r-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=Le(n,0,o),s=Le(s,0,o),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const e=this._adapter,n=this.min,s=this.max,i=this.options,r=i.time,o=r.unit||Ff(r.minUnit,n,s,this._getLabelCapacity(n)),a=B(i.ticks.stepSize,1),l=o==="week"?r.isoWeekday:!1,c=pr(l)||l===!0,d={};let h=n,f,p;if(c&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,c?"day":o),e.diff(s,n,o)>1e5*a)throw new Error(n+" and "+s+" are too far apart with stepSize of "+a+" "+o);const y=i.ticks.source==="data"&&this.getDataTimestamps();for(f=h,p=0;f<s;f=+e.add(f,a,o),p++)$f(d,f,y);return(f===s||i.bounds==="ticks"||p===1)&&$f(d,f,y),Object.keys(d).sort(If).map(x=>+x)}getLabelForValue(e){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(e,s.tooltipFormat):n.format(e,s.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,r=this._unit,o=n||i[r];return this._adapter.format(e,o)}_tickFormatFunction(e,n,s,i){const r=this.options,o=r.ticks.callback;if(o)return re(o,[e,n,s],this);const a=r.time.displayFormats,l=this._unit,c=this._majorUnit,d=l&&a[l],h=c&&a[c],f=s[n],p=c&&h&&f&&f.major;return this._adapter.format(e,i||(p?h:d))}generateTickLabels(e){let n,s,i;for(n=0,s=e.length;n<s;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,s=this.ctx.measureText(e).width,i=Gt(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:s*r+a*o,h:s*o+a*r}}_getLabelCapacity(e){const n=this.options.time,s=n.displayFormats,i=s[n.unit]||s.millisecond,r=this._tickFormatFunction(e,0,Bf(this,[e],this._majorUnit),i),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,s;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,s=i.length;n<s;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,s;if(e.length)return e;const i=this.getLabels();for(n=0,s=i.length;n<s;++n)e.push(zf(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return zg(e.sort(If))}}A(ca,"id","time"),A(ca,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function ho(t,e,n){let s=0,i=t.length-1,r,o,a,l;n?(e>=t[s].pos&&e<=t[i].pos&&({lo:s,hi:i}=Gn(t,"pos",e)),{pos:r,time:a}=t[s],{pos:o,time:l}=t[i]):(e>=t[s].time&&e<=t[i].time&&({lo:s,hi:i}=Gn(t,"time",e)),{time:r,pos:a}=t[s],{time:o,pos:l}=t[i]);const c=o-r;return c?a+(l-a)*(e-r)/c:a}class Uf extends ca{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=ho(n,this.min),this._tableRange=ho(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:s}=this,i=[],r=[];let o,a,l,c,d;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=s&&i.push(c);if(i.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(o=0,a=i.length;o<a;++o)d=i[o+1],l=i[o-1],c=i[o],Math.round((d+l)/2)!==c&&r.push({time:c,pos:o/(a-1)});return r}_generate(){const e=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((i,r)=>i-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?e=this.normalize(n.concat(s)):e=n.length?n:s,e=this._cache.all=e,e}getDecimalForValue(e){return(ho(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return ho(this._table,s*this._tableRange+this._minPos,!0)}}A(Uf,"id","timeseries"),A(Uf,"defaults",ca.defaults);const x0="label";function Hf(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function X2(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function v0(t,e){t.labels=e}function b0(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:x0;const s=[];t.datasets=e.map(i=>{const r=t.datasets.find(o=>o[n]===i[n]);return!r||!i.data||s.includes(r)?{...i}:(s.push(r),Object.assign(r,i),r)})}function Q2(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:x0;const n={labels:[],datasets:[]};return v0(n,t.labels),b0(n,t.datasets,e),n}function J2(t,e){const{height:n=150,width:s=300,redraw:i=!1,datasetIdKey:r,type:o,data:a,options:l,plugins:c=[],fallbackContent:d,updateMode:h,...f}=t,p=O.useRef(null),y=O.useRef(null),x=()=>{p.current&&(y.current=new ti(p.current,{type:o,data:Q2(a,r),options:l&&{...l},plugins:c}),Hf(e,y.current))},b=()=>{Hf(e,null),y.current&&(y.current.destroy(),y.current=null)};return O.useEffect(()=>{!i&&y.current&&l&&X2(y.current,l)},[i,l]),O.useEffect(()=>{!i&&y.current&&v0(y.current.config.data,a.labels)},[i,a.labels]),O.useEffect(()=>{!i&&y.current&&a.datasets&&b0(y.current.config.data,a.datasets,r)},[i,a.datasets]),O.useEffect(()=>{y.current&&(i?(b(),setTimeout(x)):y.current.update(h))},[i,l,a.labels,a.datasets,h]),O.useEffect(()=>{y.current&&(b(),setTimeout(x))},[o]),O.useEffect(()=>(x(),()=>b()),[]),Mo.createElement("canvas",{ref:p,role:"img",height:n,width:s,...f},d)}const Z2=O.forwardRef(J2);function td(t,e){return ti.register(e),O.forwardRef((n,s)=>Mo.createElement(Z2,{...n,ref:s,type:t}))}const _0=td("line",Co),w0=td("bar",jo),eS=td("pie",Tc);ti.register(Ci,ed,Zu,vr,br,Wi);const tS={nacional:{total:459.769,categories:[{name:"Pensiones",amount:190.687,percentage:41.5},{name:"Sanidad",amount:87.356,percentage:19},{name:"Educación",amount:55.172,percentage:12},{name:"Deuda Pública",amount:31.275,percentage:6.8},{name:"Desempleo",amount:22.457,percentage:4.9},{name:"Defensa",amount:12.825,percentage:2.8},{name:"Otros",amount:59.997,percentage:13}]},madrid:{total:45.125,categories:[{name:"Sanidad",amount:17.153,percentage:38},{name:"Educación",amount:10.238,percentage:22.7},{name:"Transportes",amount:4.512,percentage:10},{name:"Servicios Sociales",amount:3.835,percentage:8.5},{name:"Otros",amount:9.387,percentage:20.8}]},cataluna:{total:47.825,categories:[{name:"Sanidad",amount:13.435,percentage:28.1},{name:"Educación",amount:8.417,percentage:17.6},{name:"Deuda Pública",amount:6.074,percentage:12.7},{name:"Protección Social",amount:4.591,percentage:9.6},{name:"Otros",amount:15.308,percentage:32}]},andalucia:{total:46.753,categories:[{name:"Sanidad",amount:13.223,percentage:28.3},{name:"Educación",amount:9.445,percentage:20.2},{name:"Servicios Sociales",amount:4.982,percentage:10.7},{name:"Deuda Pública",amount:4.625,percentage:9.9},{name:"Otros",amount:14.478,percentage:30.9}]},valencia:{total:29.732,categories:[{name:"Sanidad",amount:8.819,percentage:29.7},{name:"Educación",amount:6.072,percentage:20.4},{name:"Deuda Pública",amount:3.987,percentage:13.4},{name:"Protección Social",amount:2.854,percentage:9.6},{name:"Otros",amount:8,percentage:26.9}]},galicia:{total:14.167,categories:[{name:"Sanidad",amount:4.868,percentage:34.4},{name:"Educación",amount:2.821,percentage:19.9},{name:"Protección Social",amount:1.458,percentage:10.3},{name:"Deuda Pública",amount:1.245,percentage:8.8},{name:"Otros",amount:3.775,percentage:26.6}]},paisvasco:{total:15.354,categories:[{name:"Sanidad",amount:5.067,percentage:33},{name:"Educación",amount:3.777,percentage:24.6},{name:"Protección Social",amount:1.827,percentage:11.9},{name:"Infraestructuras",amount:1.29,percentage:8.4},{name:"Otros",amount:3.393,percentage:22.1}]},baleares:{total:7.133,categories:[{name:"Sanidad",amount:2.254,percentage:31.6},{name:"Educación",amount:1.427,percentage:20},{name:"Turismo",amount:.856,percentage:12},{name:"Protección Social",amount:.713,percentage:10},{name:"Otros",amount:1.883,percentage:26.4}]}},nS=()=>{const[t,e]=O.useState("nacional"),[n,s]=O.useState(window.innerWidth<768),i=tS[t];O.useEffect(()=>{const l=()=>{s(window.innerWidth<768)};return window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[]);const r={labels:i.categories.map(l=>l.name),datasets:[{data:i.categories.map(l=>l.percentage),backgroundColor:["#2563eb","#16a34a","#dc2626","#9333ea","#ea580c","#0891b2","#4f46e5"]}]},o={labels:i.categories.map(l=>l.name),datasets:[{label:"Miles de millones €",data:i.categories.map(l=>l.amount),backgroundColor:"#2563eb"}]},a={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:n?"bottom":"right",labels:{font:{size:n?12:14}}},tooltip:{bodyFont:{size:n?12:14},titleFont:{size:n?14:16}}},scales:{y:{beginAtZero:!0,ticks:{font:{size:n?12:14}}},x:{ticks:{font:{size:n?12:14}}}}};return u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"flex flex-wrap gap-4 justify-center mb-8",children:[u.jsxs("button",{onClick:()=>e("nacional"),className:`flex items-center gap-2 px-4 sm:px-6 py-3 rounded-lg ${t==="nacional"?"bg-blue-600 text-white":"bg-white text-gray-700 border border-gray-300"}`,children:[u.jsx(tv,{size:20}),u.jsx("span",{className:"hidden sm:inline",children:"Gobierno Nacional"}),u.jsx("span",{className:"sm:hidden",children:"Nacional"})]}),u.jsxs("button",{onClick:()=>e("madrid"),className:`flex items-center gap-2 px-4 sm:px-6 py-3 rounded-lg ${t==="madrid"?"bg-blue-600 text-white":"bg-white text-gray-700 border border-gray-300"}`,children:[u.jsx(An,{size:20}),u.jsx("span",{className:"hidden sm:inline",children:"Com. Madrid"}),u.jsx("span",{className:"sm:hidden",children:"Madrid"})]}),u.jsxs("button",{onClick:()=>e("cataluna"),className:`flex items-center gap-2 px-4 sm:px-6 py-3 rounded-lg ${t==="cataluna"?"bg-blue-600 text-white":"bg-white text-gray-700 border border-gray-300"}`,children:[u.jsx(An,{size:20}),u.jsx("span",{className:"hidden sm:inline",children:"Cataluña"}),u.jsx("span",{className:"sm:hidden",children:"Cataluña"})]}),u.jsxs("button",{onClick:()=>e("andalucia"),className:`flex items-center gap-2 px-4 sm:px-6 py-3 rounded-lg ${t==="andalucia"?"bg-blue-600 text-white":"bg-white text-gray-700 border border-gray-300"}`,children:[u.jsx(An,{size:20}),u.jsx("span",{className:"hidden sm:inline",children:"Andalucía"}),u.jsx("span",{className:"sm:hidden",children:"Andalucía"})]}),u.jsxs("button",{onClick:()=>e("valencia"),className:`flex items-center gap-2 px-4 sm:px-6 py-3 rounded-lg ${t==="valencia"?"bg-blue-600 text-white":"bg-white text-gray-700 border border-gray-300"}`,children:[u.jsx(An,{size:20}),u.jsx("span",{className:"hidden sm:inline",children:"C. Valenciana"}),u.jsx("span",{className:"sm:hidden",children:"Valencia"})]}),u.jsxs("button",{onClick:()=>e("galicia"),className:`flex items-center gap-2 px-4 sm:px-6 py-3 rounded-lg ${t==="galicia"?"bg-blue-600 text-white":"bg-white text-gray-700 border border-gray-300"}`,children:[u.jsx(An,{size:20}),u.jsx("span",{className:"hidden sm:inline",children:"Galicia"}),u.jsx("span",{className:"sm:hidden",children:"Galicia"})]}),u.jsxs("button",{onClick:()=>e("paisvasco"),className:`flex items-center gap-2 px-4 sm:px-6 py-3 rounded-lg ${t==="paisvasco"?"bg-blue-600 text-white":"bg-white text-gray-700 border border-gray-300"}`,children:[u.jsx(An,{size:20}),u.jsx("span",{className:"hidden sm:inline",children:"País Vasco"}),u.jsx("span",{className:"sm:hidden",children:"P.Vasco"})]}),u.jsxs("button",{onClick:()=>e("baleares"),className:`flex items-center gap-2 px-4 sm:px-6 py-3 rounded-lg ${t==="baleares"?"bg-blue-600 text-white":"bg-white text-gray-700 border border-gray-300"}`,children:[u.jsx(An,{size:20}),u.jsx("span",{className:"hidden sm:inline",children:"Baleares"}),u.jsx("span",{className:"sm:hidden",children:"Baleares"})]})]}),u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 sm:p-6",children:[u.jsxs("div",{className:"mb-6",children:[u.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-gray-800 mb-2",children:["Presupuesto Total: ",i.total.toFixed(3)," MM€"]}),u.jsx("p",{className:"text-gray-600",children:"Desglose por principales categorías de gasto"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"h-[400px] min-h-[400px]",children:[u.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Distribución Porcentual"}),u.jsx("div",{className:"h-full",children:u.jsx(eS,{data:r,options:a})})]}),u.jsxs("div",{className:"h-[400px] min-h-[400px]",children:[u.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Gasto por Categoría"}),u.jsx("div",{className:"h-full",children:u.jsx(w0,{data:o,options:a})})]})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mt-8",children:i.categories.map(l=>u.jsxs("div",{className:"p-4 border rounded-lg",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:"font-semibold text-gray-700",children:l.name}),u.jsx(Ca,{size:20,className:"text-blue-600"})]}),u.jsxs("div",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-1",children:[l.amount.toFixed(3)," MM€"]}),u.jsxs("div",{className:"text-sm text-gray-500",children:[l.percentage,"% del total"]})]},l.name))})]})]})},sS=({isOpen:t,onClose:e,content:n})=>{if(!t)return null;const s=()=>{switch(n){case"privacy":return"Política de Privacidad";case"cookies":return"Política de Cookies";case"legal":return"Aviso Legal"}},i=()=>{switch(n){case"privacy":return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("section",{children:[u.jsx("h3",{className:"text-xl font-semibold mb-3",children:"1. Responsable del Tratamiento"}),u.jsx("p",{children:"Auditoría Ciudadana S.L."}),u.jsx("p",{children:"CIF: B12345678"}),u.jsx("p",{children:"Domicilio: Calle Principal 123, 28001 Madrid"}),u.jsx("p",{children:"Email: camila.martinez@jazzya.com"}),u.jsx("p",{children:"Delegado de Protección de Datos (DPO): camila.martinez@jazzya.com"})]}),u.jsxs("section",{children:[u.jsx("h3",{className:"text-xl font-semibold mb-3",children:"2. Finalidad del Tratamiento"}),u.jsx("p",{className:"mb-2",children:"Sus datos personales serán tratados para:"}),u.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[u.jsx("li",{children:"Gestión de usuarios y propuestas de la plataforma"}),u.jsx("li",{children:"Análisis estadístico agregado del uso del servicio"}),u.jsx("li",{children:"Comunicaciones relacionadas con el servicio"}),u.jsx("li",{children:"Mejora de la experiencia de usuario"}),u.jsx("li",{children:"Cumplimiento de obligaciones legales"})]})]}),u.jsxs("section",{children:[u.jsx("h3",{className:"text-xl font-semibold mb-3",children:"3. Legitimación"}),u.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[u.jsx("li",{children:"Consentimiento del usuario (Art. 6.1.a RGPD)"}),u.jsx("li",{children:"Ejecución de un contrato (Art. 6.1.b RGPD)"}),u.jsx("li",{children:"Interés legítimo (Art. 6.1.f RGPD)"}),u.jsx("li",{children:"Cumplimiento de obligaciones legales (Art. 6.1.c RGPD)"})]})]}),u.jsxs("section",{children:[u.jsx("h3",{className:"text-xl font-semibold mb-3",children:"4. Datos Tratados"}),u.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[u.jsx("li",{children:"Datos identificativos: nombre/apodo"}),u.jsx("li",{children:"Datos de contacto: email"}),u.jsx("li",{children:"Datos de uso: propuestas, comentarios, votos"}),u.jsx("li",{children:"Datos técnicos: IP, cookies técnicas esenciales"})]})]}),u.jsxs("section",{children:[u.jsx("h3",{className:"text-xl font-semibold mb-3",children:"5. Conservación"}),u.jsx("p",{children:"Los datos se conservarán mientras:"}),u.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[u.jsx("li",{children:"La cuenta permanezca activa"}),u.jsx("li",{children:"No se solicite su supresión"}),u.jsx("li",{children:"Sean necesarios para la finalidad"}),u.jsx("li",{children:"Se requiera por obligación legal"})]})]}),u.jsxs("section",{children:[u.jsx("h3",{className:"text-xl font-semibold mb-3",children:"6. Destinatarios"}),u.jsx("p",{children:"Sus datos podrán ser comunicados a:"}),u.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[u.jsx("li",{children:"Proveedores tecnológicos esenciales"}),u.jsx("li",{children:"Administraciones públicas cuando sea obligatorio"}),u.jsx("li",{children:"Fuerzas y cuerpos de seguridad en caso necesario"})]})]}),u.jsxs("section",{children:[u.jsx("h3",{className:"text-xl font-semibold mb-3",children:"7. Derechos ARCO+"}),u.jsx("p",{className:"mb-2",children:"Puede ejercer sus derechos de:"}),u.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[u.jsx("li",{children:"Acceso"}),u.jsx("li",{children:"Rectificación"}),u.jsx("li",{children:"Cancelación"}),u.jsx("li",{children:"Oposición"}),u.jsx("li",{children:"Portabilidad"}),u.jsx("li",{children:"Limitación del tratamiento"})]}),u.jsx("p",{className:"mt-2",children:"Contacte con camila.martinez@jazzya.com o por correo postal a nuestra dirección."})]}),u.jsxs("section",{children:[u.jsx("h3",{className:"text-xl font-semibold mb-3",children:"8. Reclamaciones"}),u.jsx("p",{children:"Puede presentar una reclamación ante la Agencia Española de Protección de Datos (www.aepd.es) si considera que sus derechos han sido vulnerados."})]})]});case"cookies":return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("section",{children:[u.jsx("h3",{className:"text-xl font-semibold mb-3",children:"1. ¿Qué son las cookies?"}),u.jsx("p",{children:"Las cookies son pequeños archivos de texto que los sitios web almacenan en su dispositivo para recordar preferencias y mejorar la experiencia de usuario."})]}),u.jsxs("section",{children:[u.jsx("h3",{className:"text-xl font-semibold mb-3",children:"2. Tipos de Cookies que Utilizamos"}),u.jsx("h4",{className:"text-lg font-medium mt-4 mb-2",children:"Cookies Técnicas (Necesarias)"}),u.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[u.jsx("li",{children:"Sesión de usuario"}),u.jsx("li",{children:"Preferencias técnicas"}),u.jsx("li",{children:"Seguridad"})]}),u.jsx("h4",{className:"text-lg font-medium mt-4 mb-2",children:"Cookies Analíticas"}),u.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[u.jsx("li",{children:"Estadísticas de uso anónimas"}),u.jsx("li",{children:"Mejora del rendimiento"})]})]}),u.jsxs("section",{children:[u.jsx("h3",{className:"text-xl font-semibold mb-3",children:"3. Base Legal"}),u.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[u.jsx("li",{children:"Cookies técnicas: interés legítimo"}),u.jsx("li",{children:"Cookies analíticas: consentimiento"})]})]}),u.jsxs("section",{children:[u.jsx("h3",{className:"text-xl font-semibold mb-3",children:"4. Duración"}),u.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[u.jsx("li",{children:"Cookies de sesión: hasta cerrar el navegador"}),u.jsx("li",{children:"Cookies persistentes: máximo 2 años"})]})]}),u.jsxs("section",{children:[u.jsx("h3",{className:"text-xl font-semibold mb-3",children:"5. Cómo Gestionar las Cookies"}),u.jsx("p",{children:"Puede configurar o deshabilitar las cookies en la configuración de su navegador:"}),u.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-2",children:[u.jsx("li",{children:"Chrome: Configuración → Privacidad y seguridad"}),u.jsx("li",{children:"Firefox: Opciones → Privacidad y Seguridad"}),u.jsx("li",{children:"Safari: Preferencias → Privacidad"}),u.jsx("li",{children:"Edge: Configuración → Privacidad y servicios"})]})]})]});case"legal":return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("section",{children:[u.jsx("h3",{className:"text-xl font-semibold mb-3",children:"1. Información Legal"}),u.jsx("p",{children:"Auditoría Ciudadana S.L."}),u.jsx("p",{children:"CIF: B12345678"}),u.jsx("p",{children:"Domicilio: Calle Principal 123, 28001 Madrid"}),u.jsx("p",{children:"Email: camila.martinez@jazzya.com"}),u.jsx("p",{children:"Inscrita en el Registro Mercantil de Madrid, Tomo 12345, Folio 67, Sección 8, Hoja M-123456"})]}),u.jsxs("section",{children:[u.jsx("h3",{className:"text-xl font-semibold mb-3",children:"2. Condiciones de Uso"}),u.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[u.jsx("li",{children:"Uso personal y no comercial"}),u.jsx("li",{children:"Prohibido contenido ilegal o difamatorio"}),u.jsx("li",{children:"Respeto a derechos de propiedad intelectual"}),u.jsx("li",{children:"Uso responsable de la plataforma"})]})]}),u.jsxs("section",{children:[u.jsx("h3",{className:"text-xl font-semibold mb-3",children:"3. Propiedad Intelectual"}),u.jsx("p",{children:"Todo el contenido de la plataforma está protegido por derechos de propiedad intelectual. Las propuestas y comentarios de usuarios se publican bajo licencia Creative Commons BY-SA 4.0."})]}),u.jsxs("section",{children:[u.jsx("h3",{className:"text-xl font-semibold mb-3",children:"4. Responsabilidad"}),u.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[u.jsx("li",{children:"No garantizamos la exactitud de las propuestas"}),u.jsx("li",{children:"Los usuarios son responsables de su contenido"}),u.jsx("li",{children:"Nos reservamos el derecho de moderación"}),u.jsx("li",{children:"No responsabilidad por contenido de terceros"})]})]}),u.jsxs("section",{children:[u.jsx("h3",{className:"text-xl font-semibold mb-3",children:"5. Modificaciones"}),u.jsx("p",{children:"Nos reservamos el derecho de modificar estas condiciones. Los cambios serán notificados y entrarán en vigor tras su publicación."})]}),u.jsxs("section",{children:[u.jsx("h3",{className:"text-xl font-semibold mb-3",children:"6. Legislación Aplicable"}),u.jsx("p",{children:"Estas condiciones se rigen por la legislación española. Cualquier disputa se someterá a los juzgados de Madrid."})]})]})}};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-xl p-8 max-w-4xl w-full max-h-[90vh] overflow-y-auto relative",children:[u.jsx("button",{onClick:e,className:"absolute right-4 top-4 text-gray-500 hover:text-gray-700",children:u.jsx(Cr,{size:24})}),u.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:s()}),i()]})})},iS=({onNavigate:t})=>{const[e,n]=Mo.useState(!1),[s,i]=Mo.useState("privacy");return u.jsxs(u.Fragment,{children:[u.jsx("footer",{className:"bg-gray-900 text-white",children:u.jsxs("div",{className:"container mx-auto px-4 py-12",children:[u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:[u.jsxs("div",{className:"col-span-1 sm:col-span-2 lg:col-span-1",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(ig,{size:24}),u.jsx("span",{className:"text-xl font-bold",children:"Auditoría Ciudadana"})]}),u.jsx("p",{className:"text-gray-400",children:"Plataforma ciudadana para el análisis y propuesta de mejoras en el gasto público español."})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Enlaces Rápidos"}),u.jsxs("ul",{className:"space-y-2",children:[u.jsx("li",{children:u.jsx("button",{onClick:()=>t("propuestas"),className:"text-gray-400 hover:text-white",children:"Propuestas"})}),u.jsx("li",{children:u.jsx("button",{onClick:()=>t("presupuestos"),className:"text-gray-400 hover:text-white",children:"Presupuestos"})}),u.jsx("li",{children:u.jsx("button",{onClick:()=>t("recursos"),className:"text-gray-400 hover:text-white",children:"Recursos"})}),u.jsx("li",{children:u.jsx("button",{onClick:()=>t("metodologia"),className:"text-gray-400 hover:text-white",children:"Metodología"})})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Legal"}),u.jsxs("ul",{className:"space-y-2",children:[u.jsx("li",{children:u.jsx("button",{onClick:()=>{i("privacy"),n(!0)},className:"text-gray-400 hover:text-white",children:"Política de Privacidad"})}),u.jsx("li",{children:u.jsx("button",{onClick:()=>{i("cookies"),n(!0)},className:"text-gray-400 hover:text-white",children:"Política de Cookies"})}),u.jsx("li",{children:u.jsx("button",{onClick:()=>{i("legal"),n(!0)},className:"text-gray-400 hover:text-white",children:"Aviso Legal"})}),u.jsx("li",{children:u.jsx("button",{onClick:()=>t("recursos"),className:"text-gray-400 hover:text-white",children:"Documentación"})})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Contacto"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("a",{href:"mailto:camila.martinez@jazzya.com",className:"flex items-center gap-2 text-gray-400 hover:text-white",children:[u.jsx(cr,{size:20}),"camila.martinez@jazzya.com"]}),u.jsxs("a",{href:"https://github.com/auditoria-ciudadana",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-gray-400 hover:text-white",children:[u.jsx(iv,{size:20}),"GitHub"]})]})]})]}),u.jsx("div",{className:"border-t border-gray-800 mt-12 pt-8 text-center text-gray-400",children:u.jsxs("p",{children:["© ",new Date().getFullYear()," Auditoría Ciudadana. CIF: B12345678. Inscrita en el Registro Mercantil de Madrid, Tomo 12345, Folio 67, Sección 8, Hoja M-123456."]})})]})}),u.jsx(sS,{isOpen:e,onClose:()=>n(!1),content:s})]})},rS=()=>{const[t,e]=O.useState(!1);O.useEffect(()=>{localStorage.getItem("cookieConsent")||e(!0)},[]);const n=()=>{localStorage.setItem("cookieConsent","accepted"),e(!1)},s=()=>{localStorage.setItem("cookieConsent","rejected"),e(!1)};return t?u.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 shadow-lg z-50",children:u.jsxs("div",{className:"container mx-auto max-w-6xl flex flex-col sm:flex-row items-center justify-between gap-4",children:[u.jsx("div",{className:"text-sm text-gray-600",children:u.jsxs("p",{children:["Utilizamos cookies técnicas esenciales para el funcionamiento del sitio y cookies analíticas para mejorar nuestros servicios. Puede aceptar todas las cookies o configurar sus preferencias. Para más información, consulte nuestra"," ",u.jsx("button",{className:"text-blue-600 hover:underline",children:"política de cookies"}),"."]})}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx("button",{onClick:s,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Solo Esenciales"}),u.jsx("button",{onClick:n,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Aceptar Todas"})]})]})}):null},Fe=[{content:"Como ex alto cargo ministerial, considero que la fusión de ministerios es viable, pero el ahorro en personal (72M€) parece conservador. La eliminación de duplicidades en direcciones generales y subdirecciones podría generar ahorros adicionales de hasta 100M€. Fundamental mantener las competencias técnicas durante la transición.",nickname:"ExDirectivoPublico"},{content:"La privatización de empresas públicas requiere un análisis más detallado del impacto en zonas rurales. Como economista especializado en sector público, sugiero incluir cláusulas de servicio universal en las privatizaciones y un fondo de compensación territorial. El ahorro es realista pero el plazo de 24 meses parece optimista.",nickname:"EconomistaPublico"},{content:"La reforma de pensiones propuesta es necesaria pero incompleta. Como actuario, echo en falta un análisis detallado del periodo transitorio y su financiación. El sistema sueco requirió 15 años para su implementación completa. Sugiero incluir un pilar de pensiones mínimas garantizadas más robusto.",nickname:"ActuarioPensiones"},{content:"La racionalización autonómica es ambiciosa pero factible. Como ex consejero autonómico, sugiero empezar por los organismos más evidentemente duplicados (defensores del pueblo, tribunales de cuentas) y establecer mecanismos de cooperación reforzada entre CCAA. El ahorro en compras centralizadas podría ser mayor.",nickname:"ExConsejero"},{content:"La propuesta de contratación pública es excelente pero requiere más énfasis en ciberseguridad. Como experto en contratación, recomiendo añadir un sistema de alertas tempranas para detectar colusión y un mecanismo de evaluación continua de proveedores. El ahorro por eficiencia (500M€) es alcanzable en 3 años.",nickname:"ExpertoContratacion"},{content:"La eliminación de diputaciones debe considerar el impacto en pequeños municipios. Como secretario de diputación, sugiero mantener unidades técnicas provinciales de apoyo y crear consorcios comarcales. El ahorro en personal (1.200M€) requeriría un plan de recolocación a 5 años.",nickname:"SecretarioDiputacion"},{content:"La centralización de compras sanitarias es urgente. Como gestor hospitalario, puedo confirmar que las diferencias de precios entre CCAA llegan al 30% en algunos productos. Fundamental crear un catálogo único y establecer estándares técnicos comunes. El ahorro podría superar lo estimado.",nickname:"GestorSanitario"},{content:"La reforma del desempleo necesita más énfasis en formación. Como técnico de empleo, sugiero vincular la prestación a itinerarios personalizados de inserción y crear una plataforma única de ofertas. El ahorro por reducción de fraude (500M€) requiere mejor interconexión de bases de datos.",nickname:"TecnicoEmpleo"},{content:"La fusión de servicios municipales es necesaria pero compleja. Como interventor municipal, sugiero empezar por servicios técnicos (urbanismo, contratación) y expandir gradualmente. Fundamental respetar la autonomía local y crear incentivos financieros atractivos.",nickname:"InterventorMunicipal"},{content:"La digitalización municipal debe considerar la brecha digital. Como responsable de modernización local, recomiendo mantener una atención presencial reducida y crear puntos de asistencia digital en bibliotecas y centros cívicos. El ahorro es realista pero requiere inversión inicial importante.",nickname:"ModernizacionLocal"}];async function oS(){try{const{data:t,error:e}=await oe.from("comments").select("id").limit(1);if(e){console.error("Error verificando comentarios:",e);return}if(!t||t.length===0){const{data:n,error:s}=await oe.from("proposals").select("id, level, category").order("created_at",{ascending:!1});if(s){console.error("Error obteniendo propuestas:",s);return}if(!n||n.length===0){console.log("No hay propuestas para comentar");return}const i=[],r=new Set;for(const o of n){let a=[];if(o.level==="nacional")switch(o.category){case"Administración":a=[Fe[0]];break;case"Empresas Públicas":a=[Fe[1]];break;case"Pensiones":a=[Fe[2]];break;case"Contratación":a=[Fe[4]];break;default:a=[Fe[0],Fe[1]]}else if(o.level==="autonomico")switch(o.category){case"Administración":a=[Fe[3]];break;case"Sanidad":a=[Fe[6]];break;case"Empleo":a=[Fe[7]];break;default:a=[Fe[3],Fe[6]]}else switch(o.category){case"Administración":a=[Fe[8]];break;case"Tecnología":a=[Fe[9]];break;default:a=[Fe[8],Fe[9]]}const l=Math.min(2,a.length);for(let c=0;c<l;c++){const d=a[c],h=`${d.nickname}-${o.id}`;r.has(h)||(i.push({proposal_id:o.id,content:d.content,nickname:d.nickname,created_at:new Date(Date.now()-Math.random()*7*24*3600*1e3).toISOString()}),r.add(h))}}for(let o=0;o<i.length;o+=5){const a=i.slice(o,o+5),{error:l}=await oe.from("comments").insert(a);if(l){console.error(`Error insertando lote ${o/5+1}:`,l);continue}}console.log(`${i.length} comentarios de muestra inicializados correctamente`)}else console.log("Los comentarios ya están inicializados")}catch(t){console.error("Error general inicializando comentarios:",t)}}ti.register(vr,br,Vi,Ps,g0,ed,Zu);const aS=()=>{const t={labels:["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019","2020","2021","2022","2023"],datasets:[{label:"Intereses Deuda (Miles de M€)",data:[19.6,22.2,26.1,28.4,31,29.3,27.9,26.3,25.8,24.4,25.2,26.1,29.3,32.5],borderColor:"#9333ea",backgroundColor:"rgba(147, 51, 234, 0.1)",fill:!0}]},e={responsive:!0,plugins:{legend:{position:"top"}},scales:{y:{beginAtZero:!1}}};return u.jsx("div",{className:"space-y-8",children:u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-xl font-semibold mb-6 flex items-center gap-2",children:[u.jsx(Ca,{className:"text-purple-600"}),"Pago de Intereses"]}),u.jsx("div",{className:"h-[400px]",children:u.jsx(_0,{data:t,options:e})})]}),u.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[u.jsx("h4",{className:"font-semibold text-red-800 mb-2",children:"Deuda Total"}),u.jsx("p",{className:"text-2xl font-bold text-red-600",children:"1,54 Billones €"}),u.jsx("p",{className:"text-sm text-red-700 mt-1",children:"110,2% del PIB"})]}),u.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[u.jsx("h4",{className:"font-semibold text-purple-800 mb-2",children:"Intereses 2024"}),u.jsx("p",{className:"text-2xl font-bold text-purple-600",children:"32,5 MM€"}),u.jsx("p",{className:"text-sm text-purple-700 mt-1",children:"+11% vs 2023"})]}),u.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[u.jsx("h4",{className:"font-semibold text-orange-800 mb-2",children:"Coste Medio"}),u.jsx("p",{className:"text-2xl font-bold text-orange-600",children:"2,11%"}),u.jsx("p",{className:"text-sm text-orange-700 mt-1",children:"+0,3% vs 2023"})]}),u.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[u.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"Vida Media"}),u.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"7,9 años"}),u.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"-0,1 años vs 2023"})]})]}),u.jsxs("div",{className:"mt-8",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(Ii,{className:"text-yellow-600"}),u.jsx("h4",{className:"text-lg font-semibold",children:"Riesgos Principales"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"border border-yellow-200 bg-yellow-50 p-4 rounded-lg",children:[u.jsx("h5",{className:"font-semibold text-yellow-800 mb-2",children:"Subida de Tipos"}),u.jsx("p",{className:"text-sm text-yellow-700",children:"Cada 1% de subida en tipos supone ~15.000M€ adicionales de intereses anuales cuando se refinancie toda la deuda."})]}),u.jsxs("div",{className:"border border-yellow-200 bg-yellow-50 p-4 rounded-lg",children:[u.jsx("h5",{className:"font-semibold text-yellow-800 mb-2",children:"Déficit Estructural"}),u.jsx("p",{className:"text-sm text-yellow-700",children:"El déficit crónico superior al 3% del PIB obliga a emitir nueva deuda continuamente, aumentando la carga de intereses."})]}),u.jsxs("div",{className:"border border-yellow-200 bg-yellow-50 p-4 rounded-lg",children:[u.jsx("h5",{className:"font-semibold text-yellow-800 mb-2",children:"Envejecimiento"}),u.jsx("p",{className:"text-sm text-yellow-700",children:"El aumento del gasto en pensiones y sanidad por envejecimiento poblacional presionará aún más el déficit y la deuda."})]})]})]})]})})};ti.register(vr,br,Wi,Vi,Ps,g0,ed,Zu);const lS=()=>{const t={labels:["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019","2020","2021","2022","2023"],datasets:[{label:"Presión Fiscal (% PIB)",data:[31.2,31.4,32.1,33,33.6,33.8,33.4,33.9,34.6,34.8,36.6,37.5,38.3,39.1],backgroundColor:"#2563eb"}]},e={labels:["2004","2006","2008","2010","2012","2014","2016","2018","2020","2022","2023"],datasets:[{label:"Renta Disponible Real (2004 = 100)",data:[100,102,101,98,94,93,94,96,93,95,94],borderColor:"#dc2626",backgroundColor:"rgba(220, 38, 38, 0.1)",fill:!0},{label:"Salario Medio Real (2004 = 100)",data:[100,101,99,97,92,90,89,91,88,87,85],borderColor:"#9333ea",backgroundColor:"rgba(147, 51, 234, 0.1)",fill:!0}]},n={responsive:!0,plugins:{legend:{position:"top"}},scales:{y:{beginAtZero:!1}}};return u.jsx("div",{className:"space-y-8",children:u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[u.jsxs("div",{className:"mb-8",children:[u.jsxs("h3",{className:"text-xl font-semibold mb-6 flex items-center gap-2",children:[u.jsx(mv,{className:"text-blue-600"}),"Evolución de la Presión Fiscal"]}),u.jsx("div",{className:"h-[400px]",children:u.jsx(w0,{data:t,options:n})})]}),u.jsxs("div",{className:"mb-8",children:[u.jsxs("h3",{className:"text-xl font-semibold mb-6 flex items-center gap-2",children:[u.jsx(Ca,{className:"text-red-600"}),"Evolución de la Renta Real Después de Impuestos"]}),u.jsx("div",{className:"h-[400px]",children:u.jsx(_0,{data:e,options:n})}),u.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[u.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Análisis del Estancamiento"}),u.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[u.jsx("li",{children:"• La renta disponible real se ha mantenido estancada durante dos décadas"}),u.jsx("li",{children:"• El salario medio real ha caído un 15% desde 2004 ajustado por inflación"}),u.jsx("li",{children:"• El aumento de la presión fiscal ha neutralizado las subidas salariales nominales"}),u.jsx("li",{children:"• La inflación acumulada ha erosionado el poder adquisitivo"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[u.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[u.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"Presión Fiscal Total"}),u.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"39,1% PIB"}),u.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"+0,8% vs 2022"})]}),u.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[u.jsx("h4",{className:"font-semibold text-green-800 mb-2",children:"Recaudación Total"}),u.jsx("p",{className:"text-2xl font-bold text-green-600",children:"523.000 M€"}),u.jsx("p",{className:"text-sm text-green-700 mt-1",children:"+5,2% vs 2022"})]}),u.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[u.jsx("h4",{className:"font-semibold text-purple-800 mb-2",children:"IRPF Máximo"}),u.jsx("p",{className:"text-2xl font-bold text-purple-600",children:"47%"}),u.jsx("p",{className:"text-sm text-purple-700 mt-1",children:"+2% vs 2022"})]}),u.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[u.jsx("h4",{className:"font-semibold text-orange-800 mb-2",children:"IVA General"}),u.jsx("p",{className:"text-2xl font-bold text-orange-600",children:"21%"}),u.jsx("p",{className:"text-sm text-orange-700 mt-1",children:"Sin cambios"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Principales Impuestos"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"border rounded-lg p-4",children:[u.jsx("h5",{className:"font-semibold text-gray-800 mb-2",children:"IRPF"}),u.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[u.jsx("li",{children:"• Tramos: del 19% al 47%"}),u.jsx("li",{children:"• Mínimo exento: 12.450€"}),u.jsx("li",{children:"• Recaudación: 113.123 M€"}),u.jsx("li",{children:"• Retenciones trabajo: 15% a 47%"})]})]}),u.jsxs("div",{className:"border rounded-lg p-4",children:[u.jsx("h5",{className:"font-semibold text-gray-800 mb-2",children:"IVA"}),u.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[u.jsx("li",{children:"• General: 21%"}),u.jsx("li",{children:"• Reducido: 10%"}),u.jsx("li",{children:"• Superreducido: 4%"}),u.jsx("li",{children:"• Recaudación: 85.456 M€"})]})]}),u.jsxs("div",{className:"border rounded-lg p-4",children:[u.jsx("h5",{className:"font-semibold text-gray-800 mb-2",children:"Sociedades"}),u.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[u.jsx("li",{children:"• Tipo general: 25%"}),u.jsx("li",{children:"• PYMES: 23%"}),u.jsx("li",{children:"• Recaudación: 35.234 M€"}),u.jsx("li",{children:"• Pagos fraccionados: 18%"})]})]})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Otros Impuestos"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"border rounded-lg p-4",children:[u.jsx("h5",{className:"font-semibold text-gray-800 mb-2",children:"Impuestos Especiales"}),u.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[u.jsx("li",{children:"• Hidrocarburos: 0,379€/litro gasolina"}),u.jsx("li",{children:"• Alcohol: 958,94€/hectolitro"}),u.jsx("li",{children:"• Tabaco: 51% + 24,7€/1000 cigarrillos"}),u.jsx("li",{children:"• Recaudación total: 21.843 M€"})]})]}),u.jsxs("div",{className:"border rounded-lg p-4",children:[u.jsx("h5",{className:"font-semibold text-gray-800 mb-2",children:"Impuestos Patrimoniales"}),u.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[u.jsx("li",{children:"• Patrimonio: 0,2% a 3,5%"}),u.jsx("li",{children:"• Sucesiones: hasta 34%"}),u.jsx("li",{children:"• IBI: 0,4% a 1,3%"}),u.jsx("li",{children:"• Recaudación total: 14.567 M€"})]})]}),u.jsxs("div",{className:"border rounded-lg p-4",children:[u.jsx("h5",{className:"font-semibold text-gray-800 mb-2",children:"Cotizaciones Sociales"}),u.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[u.jsx("li",{children:"• Empresa: 29,9%"}),u.jsx("li",{children:"• Trabajador: 6,35%"}),u.jsx("li",{children:"• Autónomos: 30,6%"}),u.jsx("li",{children:"• Recaudación total: 173.456 M€"})]})]})]})]})]}),u.jsxs("div",{className:"mt-8",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(Ii,{className:"text-yellow-600"}),u.jsx("h4",{className:"text-lg font-semibold",children:"Comparativa Internacional"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"border border-yellow-200 bg-yellow-50 p-4 rounded-lg",children:[u.jsx("h5",{className:"font-semibold text-yellow-800 mb-2",children:"Media UE"}),u.jsx("p",{className:"text-sm text-yellow-700",children:"La presión fiscal media en la UE es del 41,7% del PIB, 2,6 puntos superior a España. Sin embargo, los servicios públicos tienen mayor calidad y cobertura."})]}),u.jsxs("div",{className:"border border-yellow-200 bg-yellow-50 p-4 rounded-lg",children:[u.jsx("h5",{className:"font-semibold text-yellow-800 mb-2",children:"Tipos Impositivos"}),u.jsx("p",{className:"text-sm text-yellow-700",children:"España tiene tipos marginales superiores a la media europea en IRPF (47% vs 43,5%) pero menor recaudación efectiva por mayor economía sumergida."})]}),u.jsxs("div",{className:"border border-yellow-200 bg-yellow-50 p-4 rounded-lg",children:[u.jsx("h5",{className:"font-semibold text-yellow-800 mb-2",children:"Eficiencia Recaudatoria"}),u.jsx("p",{className:"text-sm text-yellow-700",children:"La brecha fiscal (diferencia entre recaudación potencial y real) es del 21,6% en España frente al 13,7% de media en la UE."})]})]})]})]})})};function cS(){const[t,e]=O.useState("propuestas");O.useEffect(()=>{oS()},[]);const n=s=>{e(s);const i=document.getElementById(s);i&&i.scrollIntoView({behavior:"smooth"})};return u.jsxs("div",{className:"min-h-screen bg-white",children:[u.jsx(C_,{onNavigate:n}),u.jsx(E_,{onNavigate:n}),u.jsxs("main",{className:"container mx-auto px-4 py-8",children:[u.jsxs("section",{id:"propuestas",className:"mb-16",children:[u.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-8",children:"Propuestas de Ahorro"}),u.jsx(z_,{})]}),u.jsxs("section",{id:"presupuestos",className:"mb-16",children:[u.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-8",children:"Presupuestos 2024"}),u.jsx(nS,{})]}),u.jsxs("section",{id:"deuda",className:"mb-16",children:[u.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-8",children:"Deuda Pública"}),u.jsx(aS,{})]}),u.jsxs("section",{id:"impuestos",className:"mb-16",children:[u.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-8",children:"Presión Fiscal"}),u.jsx(lS,{})]}),u.jsxs("section",{id:"recursos",className:"mb-16",children:[u.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-8",children:"Recursos para Auditores"}),u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 space-y-8",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-2xl font-semibold mb-6",children:"Recursos para Analizar el Gasto Público"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"p-6 bg-blue-50 rounded-lg",children:[u.jsx("h4",{className:"text-xl font-semibold mb-4 text-blue-800",children:"Informes Oficiales"}),u.jsxs("ul",{className:"space-y-3",children:[u.jsx("li",{children:u.jsx("a",{href:"https://www.sepg.pap.hacienda.gob.es/sitios/sepg/es-ES/Presupuestos/PGE/Paginas/PGE2024.aspx",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800",children:"Presupuestos Generales del Estado"})}),u.jsx("li",{children:u.jsx("a",{href:"https://www.igae.pap.hacienda.gob.es/sitios/igae/es-ES/Paginas/inicio.aspx",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800",children:"Intervención General (IGAE)"})}),u.jsx("li",{children:u.jsx("a",{href:"https://www.bde.es/bde/es/areas/estadis/estadisticas-por/financiacion-y-/deuda-publica/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800",children:"Banco de España - Deuda Pública"})}),u.jsx("li",{children:u.jsx("a",{href:"https://www.airef.es/es/datos-economicos/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800",children:"AIReF - Autoridad Fiscal"})})]})]}),u.jsxs("div",{className:"p-6 bg-green-50 rounded-lg",children:[u.jsx("h4",{className:"text-xl font-semibold mb-4 text-green-800",children:"Comparación Internacional"}),u.jsxs("ul",{className:"space-y-3",children:[u.jsx("li",{children:u.jsx("a",{href:"https://data.oecd.org/government.htm",target:"_blank",rel:"noopener noreferrer",className:"text-green-600 hover:text-green-800",children:"OCDE - Estadísticas Comparadas"})}),u.jsx("li",{children:u.jsx("a",{href:"https://data.worldbank.org/topic/government",target:"_blank",rel:"noopener noreferrer",className:"text-green-600 hover:text-green-800",children:"Banco Mundial - Gasto Público"})}),u.jsx("li",{children:u.jsx("a",{href:"https://ec.europa.eu/eurostat/web/government-finance-statistics",target:"_blank",rel:"noopener noreferrer",className:"text-green-600 hover:text-green-800",children:"Eurostat - Finanzas Públicas"})})]})]}),u.jsxs("div",{className:"p-6 bg-purple-50 rounded-lg",children:[u.jsx("h4",{className:"text-xl font-semibold mb-4 text-purple-800",children:"Modelo Suizo"}),u.jsxs("ul",{className:"space-y-3",children:[u.jsx("li",{children:u.jsx("a",{href:"https://www.efd.admin.ch/efd/en/home/finanzpolitik/public-finances.html",target:"_blank",rel:"noopener noreferrer",className:"text-purple-600 hover:text-purple-800",children:"Swiss Federal Finance Administration"})}),u.jsx("li",{children:u.jsx("a",{href:"https://www.swissinfo.ch/eng/politics/how-switzerland-manages-its-public-finances/48213458",target:"_blank",rel:"noopener noreferrer",className:"text-purple-600 hover:text-purple-800",children:"Sistema Federal Suizo"})}),u.jsx("li",{children:u.jsx("a",{href:"https://taxfoundation.org/switzerland-tax-system/",target:"_blank",rel:"noopener noreferrer",className:"text-purple-600 hover:text-purple-800",children:"Sistema Fiscal Suizo"})})]})]})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-2xl font-semibold mb-6",children:"Herramientas y Calculadoras"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"p-6 bg-orange-50 rounded-lg",children:[u.jsx("h4",{className:"text-xl font-semibold mb-4 text-orange-800",children:"Simuladores"}),u.jsxs("ul",{className:"space-y-3",children:[u.jsx("li",{children:u.jsx("a",{href:"https://www.agenciatributaria.es/AEAT.internet/Renta.shtml",target:"_blank",rel:"noopener noreferrer",className:"text-orange-600 hover:text-orange-800",children:"Calculadora de Impuestos"})}),u.jsx("li",{children:u.jsx("a",{href:"https://www.seg-social.es/wps/portal/wss/internet/Pensionistas/Pensiones/33467",target:"_blank",rel:"noopener noreferrer",className:"text-orange-600 hover:text-orange-800",children:"Simulador de Pensiones"})})]})]}),u.jsxs("div",{className:"p-6 bg-red-50 rounded-lg",children:[u.jsx("h4",{className:"text-xl font-semibold mb-4 text-red-800",children:"Informes Económicos"}),u.jsxs("ul",{className:"space-y-3",children:[u.jsx("li",{children:u.jsx("a",{href:"https://www.imf.org/en/Publications/FM",target:"_blank",rel:"noopener noreferrer",className:"text-red-600 hover:text-red-800",children:"Informes FMI sobre Finanzas Públicas"})}),u.jsx("li",{children:u.jsx("a",{href:"https://www.worldbank.org/en/research/publication/fiscal-policy",target:"_blank",rel:"noopener noreferrer",className:"text-red-600 hover:text-red-800",children:"Banco Mundial - Política Fiscal"})})]})]}),u.jsxs("div",{className:"p-6 bg-indigo-50 rounded-lg",children:[u.jsx("h4",{className:"text-xl font-semibold mb-4 text-indigo-800",children:"Documentación"}),u.jsxs("ul",{className:"space-y-3",children:[u.jsx("li",{children:u.jsx("a",{href:"https://www.boe.es/biblioteca_juridica/codigos/codigo.php?id=334",target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:text-indigo-800",children:"Código de Legislación Presupuestaria"})}),u.jsx("li",{children:u.jsx("a",{href:"https://www.boe.es/biblioteca_juridica/codigos/codigo.php?id=058",target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:text-indigo-800",children:"Código de Contratos del Sector Público"})})]})]})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-2xl font-semibold mb-6",children:"Análisis de Eficiencia"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"p-6 bg-yellow-50 rounded-lg",children:[u.jsx("h4",{className:"text-xl font-semibold mb-4 text-yellow-800",children:"Estudios Recientes"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"border-b border-yellow-200 pb-4",children:[u.jsx("h5",{className:"font-semibold text-yellow-900",children:"Chandler Institute (2024)"}),u.jsx("p",{className:"text-yellow-700 mb-2",children:"España ocupa el puesto 21 de 38 países OCDE en eficiencia gubernamental. Destaca en digitalización pero muestra debilidades en complejidad administrativa."}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-yellow-600 font-medium",children:"Valoración:"}),u.jsx("div",{className:"flex",children:"★★★☆☆"})]})]}),u.jsxs("div",{className:"border-b border-yellow-200 pb-4",children:[u.jsx("h5",{className:"font-semibold text-yellow-900",children:"Comisión Europea (2023)"}),u.jsx("p",{className:"text-yellow-700 mb-2",children:"Ranking 16/27 en la UE. Puntos fuertes en servicios digitales, débil en gestión de personal público y contratación."}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-yellow-600 font-medium",children:"Valoración:"}),u.jsx("div",{className:"flex",children:"★★★☆☆"})]})]})]})]}),u.jsxs("div",{className:"p-6 bg-emerald-50 rounded-lg",children:[u.jsx("h4",{className:"text-xl font-semibold mb-4 text-emerald-800",children:"Comparativas Internacionales"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"border-b border-emerald-200 pb-4",children:[u.jsx("h5",{className:"font-semibold text-emerald-900",children:"IMF Government Efficiency (2023)"}),u.jsx("p",{className:"text-emerald-700 mb-2",children:"Gasto público 44.3% del PIB vs. 41.7% media UE. Costes administrativos 3.2% superiores a la media europea."}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-emerald-600 font-medium",children:"Valoración:"}),u.jsx("div",{className:"flex",children:"★★☆☆☆"})]})]}),u.jsxs("div",{className:"border-b border-emerald-200 pb-4",children:[u.jsx("h5",{className:"font-semibold text-emerald-900",children:"World Bank Governance (2023)"}),u.jsx("p",{className:"text-emerald-700 mb-2",children:"España destaca en servicios digitales pero necesita mejorar en eficiencia administrativa y reducción de burocracia."}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-emerald-600 font-medium",children:"Valoración:"}),u.jsx("div",{className:"flex",children:"★★★☆☆"})]})]})]})]})]})]})]})]}),u.jsxs("section",{id:"metodologia",className:"mb-16",children:[u.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-8",children:"Metodología"}),u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[u.jsx("h3",{className:"text-2xl font-semibold mb-6",children:"¿Cómo funciona la Auditoría Ciudadana?"}),u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"text-xl font-semibold mb-3",children:"1. Análisis de Datos"}),u.jsx("p",{className:"text-gray-600",children:"Utilizamos datos oficiales de presupuestos y ejecución presupuestaria de todas las administraciones públicas. Estos datos son procesados y analizados para identificar áreas de mejora y posible ahorro."})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-xl font-semibold mb-3",children:"2. Propuestas Ciudadanas"}),u.jsx("p",{className:"text-gray-600",children:"Cualquier ciudadano puede proponer medidas de ahorro. Cada propuesta debe incluir:"}),u.jsxs("ul",{className:"list-disc list-inside mt-2 text-gray-600 space-y-2",children:[u.jsx("li",{children:"Descripción detallada de la medida"}),u.jsx("li",{children:"Estimación del ahorro potencial"}),u.jsx("li",{children:"Ejemplos de éxito similares"}),u.jsx("li",{children:"Plan de implementación"})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-xl font-semibold mb-3",children:"3. Verificación y Debate"}),u.jsx("p",{className:"text-gray-600",children:"Las propuestas son sometidas a:"}),u.jsxs("ul",{className:"list-disc list-inside mt-2 text-gray-600 space-y-2",children:[u.jsx("li",{children:"Revisión por otros usuarios"}),u.jsx("li",{children:"Debate público"}),u.jsx("li",{children:"Verificación de datos"}),u.jsx("li",{children:"Evaluación de viabilidad"})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-xl font-semibold mb-3",children:"4. Impacto"}),u.jsx("p",{className:"text-gray-600",children:"Las mejores propuestas son:"}),u.jsxs("ul",{className:"list-disc list-inside mt-2 text-gray-600 space-y-2",children:[u.jsx("li",{children:"Presentadas a las administraciones competentes"}),u.jsx("li",{children:"Difundidas en medios de comunicación"}),u.jsx("li",{children:"Promovidas a través de iniciativas ciudadanas"}),u.jsx("li",{children:"Seguidas para verificar su implementación"})]})]})]})]})]}),u.jsxs("section",{id:"about",className:"mb-16",children:[u.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-8",children:"Sobre Nosotros"}),u.jsx("div",{className:"bg-white rounded-xl shadow-lg p-8",children:u.jsxs("div",{className:"max-w-3xl mx-auto",children:[u.jsx("h3",{className:"text-2xl font-semibold mb-6",children:"Nuestra Misión"}),u.jsx("p",{className:"text-gray-600 mb-8",children:"Auditoría Ciudadana es una iniciativa independiente que busca mejorar la eficiencia del gasto público en España a través de la participación ciudadana y el análisis de datos. Creemos en la transparencia, la participación democrática y la gestión eficiente de los recursos públicos."}),u.jsx("h3",{className:"text-2xl font-semibold mb-6",children:"Desarrollo"}),u.jsx("p",{className:"text-gray-600 mb-8",children:"Este sitio web fue desarrollado en su totalidad por Martin Varsavsky como un borrador inicial que irá mejorando con el tiempo. Para su creación, se utilizó Bolt.dev, un programa de inteligencia artificial que ha permitido implementar las mejores prácticas de desarrollo y diseño web. Esta combinación de experiencia humana y tecnología avanzada nos permite ofrecer una plataforma robusta y eficiente para la participación ciudadana."}),u.jsx("h3",{className:"text-2xl font-semibold mb-6",children:"Objetivos"}),u.jsxs("ul",{className:"list-disc list-inside text-gray-600 space-y-4 mb-8",children:[u.jsx("li",{children:"Fomentar la transparencia en el gasto público"}),u.jsx("li",{children:"Promover la participación ciudadana en la gestión pública"}),u.jsx("li",{children:"Identificar y proponer medidas de ahorro y eficiencia"}),u.jsx("li",{children:"Crear un espacio de debate constructivo sobre el uso de recursos públicos"})]}),u.jsx("h3",{className:"text-2xl font-semibold mb-6",children:"Valores"}),u.jsxs("ul",{className:"list-disc list-inside text-gray-600 space-y-4",children:[u.jsx("li",{children:"Independencia política"}),u.jsx("li",{children:"Rigor en el análisis"}),u.jsx("li",{children:"Transparencia en la metodología"}),u.jsx("li",{children:"Participación inclusiva"}),u.jsx("li",{children:"Constructivismo en las propuestas"})]})]})})]})]}),u.jsx(iS,{onNavigate:n}),u.jsx(rS,{})]})}const No={nacional:{total:459769,categories:["Administración","Contratación","Defensa","Infraestructuras","Otros"]},autonomico:{total:183589,categories:["Sanidad","Educación","Transportes","Servicios Sociales","Otros"]},municipal:{total:102453,categories:["Transporte","Infraestructura","Servicios Municipales","Cultura","Otros"]}},Vf={Administración:["digitalización","simplificación","automatización","reorganización","centralización"],Contratación:["transparencia","competencia","eficiencia","centralización","digitalización"]};async function uS(t){const{data:e}=await oe.from("proposals").select("title").ilike("title",`%${t}%`);return e&&e.length>0}function dS(t,e){const n=No[t].total,s=Math.min(n*.01,1e4);return Math.round(Math.random()*s)}function hS(t,e){return`1. Situación actual:
${t}

2. Ahorros detallados:
- Eficiencia operativa: ${Math.round(e*.4)}M€/año
- Reducción costes: ${Math.round(e*.3)}M€/año
- Optimización recursos: ${Math.round(e*.3)}M€/año

3. Plan de implementación:
- Fase 1 (6 meses): Análisis y planificación
- Fase 2 (12 meses): Implementación gradual
- Fase 3 (6 meses): Evaluación y ajustes

4. Referencias internacionales:
- Reino Unido: Reforma similar en 2015
- Alemania: Optimización 2018
- Países Bajos: Modelo eficiente desde 2020`}async function Cl(){var t,e;try{const n=new Date().toISOString().split("T")[0],{data:s}=await oe.from("proposals").select("created_at").gte("created_at",n).eq("nickname","AI_Auditor");if(s&&s.length>0){console.log("Already generated a proposal today");return}const i=Object.keys(No),r=i[Math.floor(Math.random()*i.length)],o=No[r].categories[Math.floor(Math.random()*No[r].categories.length)],a=dS(r,o),l=`Optimización mediante ${((e=Vf[o])==null?void 0:e[Math.floor(Math.random()*((t=Vf[o])==null?void 0:t.length))])||"mejora"} en ${o}`;if(await uS(l)){console.log("Similar proposal already exists");return}const c=hS(`El sistema actual de ${o.toLowerCase()} presenta ineficiencias y oportunidades de mejora. 
      Se propone un programa integral de optimización basado en mejores prácticas internacionales.`,a),{error:d}=await oe.from("proposals").insert({title:l,description:c,details:c,savings:a,category:o,level:r,nickname:"AI_Auditor",created_at:new Date().toISOString()});if(d)throw d;console.log("Generated new proposal:",l)}catch(n){console.error("Error generating proposal:",n)}}function fS(){Cl();const t=new Date,n=new Date(t.getFullYear(),t.getMonth(),t.getDate()+1,0,1).getTime()-t.getTime();setTimeout(()=>{Cl(),setInterval(Cl,24*60*60*1e3)},n)}fS();sg(document.getElementById("root")).render(u.jsx(O.StrictMode,{children:u.jsx(cS,{})}));export{j0 as g};
